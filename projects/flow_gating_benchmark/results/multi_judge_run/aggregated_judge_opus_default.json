{
  "results": [
    {
      "test_case_id": "OMIP-074",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.11111111111111116,
      "unique_gate_sets": 9,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2244,
      "timestamp": "2026-01-13T03:26:42.827613",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing Time gate, missing Lymphocytes gate, missing memory subtypes (RM/AM/TLM), inconsistent gating philosophy (population vs marker-based), missing IgE+ B cells",
      "reliability": "low - High run-to-run variability in gating approach (population-based vs marker-based) makes predictions unreliable for standardized workflows",
      "summary": "Model understands B cell biology and Ig subclass structure but shows poor consistency in hierarchical organization and misses protocol-specific gates (Time, Lymphocytes) and specialized memory nomenclature required by OMIP-074.",
      "raw_response": "Looking at these 10 predictions against the OMIP-074 ground truth for B cell IgG/IgA subclass phenotyping:\n\n**Key Observations:**\n\n1. **Missing critical gates:** All 10 runs miss \"Time gate\" and \"Lymphocytes\" gates that appear in the ground truth hierarchy. The model consistently jumps from Singlets directly to Live cells.\n\n2. **Memory subset nomenclature divergence:** Ground truth uses specific memory categories (RM, AM, TLM = Resting Memory, Activated Memory, Tissue-like Memory), while the model uses generic \"Memory B cells\" or marker-based gates (IgD+ CD27-, IgD- CD27+).\n\n3. **IgG/IgA subclass coverage:** The model correctly identifies IgG1-4 subclasses across most runs and IgA1/IgA2 in many runs, which is the core purpose of this panel.\n\n4. **Structural variation:** Runs 2 and 5 use marker-phenotype gating (IgD+/- CD27+/-) rather than functional population names, showing inconsistent conceptual approach.\n\n5. **IgE omission:** Most runs miss IgE+ B cells entirely, which is part of the ground truth.\n\n6. **Consistent core structure:** All runs correctly gate All Events > Singlets > Live cells > B cells, then diverge in downstream organization.\n\n**Run Quality Assessment:**\n- Runs 1, 3, 7, 9, 10: Best - use biologically meaningful population names with class-switched hierarchy\n- Runs 2, 5: Different valid approach using marker phenotypes\n- Run 6: Uses CD19+ explicitly, slightly different structure\n- Runs 4, 8: Missing some subclasses\n\nMEDIAN_QUALITY: 5 (correctly identifies B cell subsets and Ig subclasses but misses Time gate, Lymphocytes, and specific memory subtypes RM/AM/TLM)\nCONSISTENCY: 3 (9 unique gate sets across 10 runs; two distinct conceptual approaches - population-based vs marker-phenotype)\nWORST_CASE: 4 (runs 2, 5 use completely different gating philosophy; run 4 missing detail)\nBEST_CASE: 6 (runs 1, 3, 7, 10 capture IgG/IgA subclasses with reasonable hierarchy but still miss critical gates)\nFAILURE_MODES: missing Time gate, missing Lymphocytes gate, missing memory subtypes (RM/AM/TLM), inconsistent gating philosophy (population vs marker-based), missing IgE+ B cells\nRELIABILITY: low - High run-to-run variability in gating approach (population-based vs marker-based) makes predictions unreliable for standardized workflows\nSUMMARY: Model understands B cell biology and Ig subclass structure but shows poor consistency in hierarchical organization and misses protocol-specific gates (Time, Lymphocytes) and specialized memory nomenclature required by OMIP-074.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2858,
      "timestamp": "2026-01-13T03:27:12.483676",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.4,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "hallucinated scatter gates on CyTOF panel, missing stem cell memory and transitional memory subsets, inconsistent Treg gating logic, variable Th subset placement",
      "reliability": "medium - Model produces scientifically reasonable hierarchies but fails to recognize CyTOF technology and misses OMIP-specific memory subset definitions",
      "summary": "Model demonstrates solid immunology knowledge with consistent identification of major T cell populations, but inappropriately applies flow cytometry conventions to a mass cytometry panel and shows high run-to-run variability in detailed gating logic.",
      "raw_response": "Looking at these 10 runs, I'll evaluate the model's performance systematically.\n\n**Key Observations:**\n\n1. **Structural patterns**: All 10 runs correctly identify the core hierarchy backbone: All Events > Singlets > Live cells > CD45+ leukocytes > CD3+ T cells > CD4+ T cells. This is consistent with good cytometry practice.\n\n2. **Ground truth comparison**: The expected hierarchy is notably simple (no Singlets, Live cells gates; direct path to Leukocytes). This is because OMIP-087 is a **mass cytometry (CyTOF)** panel - metal isotope labels like 145Nd, 176Yb indicate this. CyTOF doesn't use scatter-based gating for singlets. The model is hallucinating flow cytometry conventions onto a CyTOF panel.\n\n3. **Memory subset coverage**: The model identifies memory subsets (Naive, Central Memory, Effector Memory) but misses specific ground truth categories like \"Stem cell memory\" and \"Transitional memory\" T cells, which are key OMIP-087 populations.\n\n4. **Consistent additions**: TCRgd gating appears in 8/10 runs - reasonable for the panel but not in ground truth. Th subset polarization (Th1, Th2, Th17) appears in most runs - also not in ground truth.\n\n5. **Treg pathway**: Most runs include FoxP3+ Tregs via CD25+CD127low, which aligns with ground truth's \"T regulatory cells.\"\n\n6. **Tfh identification**: Most runs capture Tfh (T follicular helper) cells, matching ground truth.\n\n**Missing from predictions**:\n- Stem cell memory T cells\n- Transitional memory T cells  \n- Terminal effector T cells\n- CD8+ populations entirely (truncated in display but likely present)\n\nMEDIAN_QUALITY: 6 (captures major populations but adds inappropriate scatter gates, misses specialized memory subsets)\nCONSISTENCY: 4 (10 unique gate sets; structural backbone consistent but branching logic varies significantly)\nWORST_CASE: 5 (Run 4 has simplest hierarchy, missing TCRgd separation and detailed Th subsets)\nBEST_CASE: 7 (Runs 7, 8 show most complete hierarchies with reasonable depth)\nFAILURE_MODES: hallucinated scatter gates on CyTOF panel, missing stem cell memory and transitional memory subsets, inconsistent Treg gating logic, variable Th subset placement\nRELIABILITY: medium - Model produces scientifically reasonable hierarchies but fails to recognize CyTOF technology and misses OMIP-specific memory subset definitions\nSUMMARY: Model demonstrates solid immunology knowledge with consistent identification of major T cell populations, but inappropriately applies flow cytometry conventions to a mass cytometry panel and shows high run-to-run variability in detailed gating logic.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2084,
      "timestamp": "2026-01-13T03:27:39.812424",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.3,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "missing ILC parent gate, missing activated NK subset, missing other ILC subsets, over-generation of CD8 subsets, inconsistent CD45+ placement, hallucinated B cell gates",
      "reliability": "low This model produces highly variable hierarchies with zero consistency score and systematically misses the ILC-centric structure that defines OMIP-064.",
      "summary": "The model correctly identifies major T cell and NK subsets but fails to recognize the ILC-focused design of this panel, never producing the expected ILC parent hierarchy while over-generating irrelevant CD8 and B cell subsets.",
      "raw_response": "Looking at these 10 runs, I need to evaluate how well the model predicts the expected gating hierarchy for OMIP-064 (a 27-color NK/ILC panel).\n\n**Expected key populations:**\n- MAIT cells (under T cells)\n- \u03b3\u03b4 T cells (under T cells)\n- NK cells with Activated NK subset (under ILCs)\n- Other ILC subsets\n\n**Analysis of predictions across runs:**\n\n**Strengths observed:**\n- All runs correctly identify the basic hierarchy: All Events > Singlets > Live cells\n- MAIT cells are consistently predicted (10/10 runs), though placement varies (under CD4+ T cells rather than generic T cells)\n- \u03b3\u03b4 T cells are consistently predicted (10/10 runs) with various naming conventions\n- NK cells are consistently identified with CD56bright/CD56dim subsets\n\n**Weaknesses observed:**\n1. **Missing ILC structure**: The ground truth shows \"Innate Lymphoid Cells\" as a parent to NK cells and \"Other ILC subsets\" - the model never predicts this ILC hierarchy correctly. NK cells are placed under CD3- cells instead.\n2. **Missing \"Activated NK cells\"**: No run predicts this specific gate from the ground truth\n3. **Missing \"Other ILC subsets\"**: Not predicted in any run\n4. **Inconsistent intermediate gates**: Some runs include CD45+ leukocytes (runs 1,3,7), others don't\n5. **Over-generation**: Model adds many gates not in ground truth (B cells, CD27 subsets, CD38+/CD57+ subsets, NKG2A/NKG2D markers)\n6. **Structural variance**: Parent-child relationships vary significantly across runs\n\n**Critical gate recall:**\n- Lymphocytes: 0/10 (never explicitly gated)\n- ILC parent gate: 0/10\n- Activated NK: 0/10\n- Other ILC subsets: 0/10\n\nMEDIAN_QUALITY: 4 (correctly identifies major lineages but misses ILC hierarchy and over-generates)\nCONSISTENCY: 3 (same populations identified but structure and naming vary substantially across all 10 runs)\nWORST_CASE: 3 (runs with excessive hallucinated subsets and wrong structure)\nBEST_CASE: 5 (runs 5,6 are more parsimonious but still miss ILC hierarchy)\nFAILURE_MODES: missing ILC parent gate, missing activated NK subset, missing other ILC subsets, over-generation of CD8 subsets, inconsistent CD45+ placement, hallucinated B cell gates\nRELIABILITY: low This model produces highly variable hierarchies with zero consistency score and systematically misses the ILC-centric structure that defines OMIP-064.\nSUMMARY: The model correctly identifies major T cell and NK subsets but fails to recognize the ILC-focused design of this panel, never producing the expected ILC parent hierarchy while over-generating irrelevant CD8 and B cell subsets.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2391,
      "timestamp": "2026-01-13T03:28:05.804058",
      "error": null,
      "median_quality": 0.8,
      "consistency": 0.6,
      "worst_case": 0.7,
      "best_case": 0.9,
      "failure_modes": "inconsistent lymphocyte gate inclusion, variable naming conventions, Tfh hierarchical placement varies, occasional extra intermediate gates (CD45+ Leukocytes)",
      "reliability": "medium The model reliably identifies correct populations and marker logic but produces structurally variable outputs that would require normalization for automated comparison.",
      "summary": "Strong scientific reasoning with correct identification of all major populations and marker-based gating logic, but structural and naming inconsistencies across runs reduce reproducibility for automated scoring.",
      "raw_response": "Looking at these 10 predictions against the ground truth, I'll evaluate the model's performance systematically.\n\n**Key Observations:**\n\n1. **Core structure is consistently correct**: All 10 runs correctly identify the basic hierarchy: All Events > Singlets > Live cells > [intermediate] > T cells > CD4+/CD8+ T cells > subsets\n\n2. **Appropriate granularity**: The model correctly expands abstract categories (e.g., \"CD4+ Memory subsets\") into specific populations (Naive, Central Memory, Effector Memory, TEMRA) - this is scientifically valid and more detailed than ground truth\n\n3. **Consistent identification of key populations**:\n   - Memory subsets (Naive, CM, EM, TEMRA): Present in all 10 runs\n   - Tfh cells: Present in all 10 runs\n   - Functional markers (IFN-\u03b3, IL-2, TNF-\u03b1): Present in all 10 runs\n   - NK cells: Present in all 10 runs\n\n4. **Structural variations**:\n   - Lymphocyte gate: Present in 7/10 runs, missing in 3\n   - CD45+ Leukocytes gate: Added in 2/10 runs\n   - Tfh placement: Sometimes under CD4+ directly, sometimes under Effector Memory\n\n5. **Naming inconsistencies** (cosmetic, not semantic):\n   - \"CD3+ T cells\" vs \"T cells\"\n   - \"Naive CD4+\" vs \"CD4+ Naive\" vs \"CD45RA+ CCR7+ Naive\"\n   - Various marker notation styles\n\n6. **Hallucinations**: None observed - all gates use markers present in the panel\n\n**Comparison to Ground Truth**: The ground truth uses abstract groupings (\"CD4+ Memory subsets\", \"CD4+ Functional subsets\") while the model correctly enumerates the specific subpopulations. This represents appropriate scientific detail, not error.\n\nMEDIAN_QUALITY: 8 (predictions capture all key populations with correct marker logic, more detailed than abstract ground truth)\nCONSISTENCY: 6 (semantic content highly consistent but structural variations in lymphocyte gate and naming conventions vary significantly)\nWORST_CASE: 7 (Run 3 missing lymphocyte gate, but still scientifically valid hierarchy)\nBEST_CASE: 9 (Run 4, Run 8 - complete hierarchy with consistent naming and appropriate depth)\nFAILURE_MODES: inconsistent lymphocyte gate inclusion, variable naming conventions, Tfh hierarchical placement varies, occasional extra intermediate gates (CD45+ Leukocytes)\nRELIABILITY: medium The model reliably identifies correct populations and marker logic but produces structurally variable outputs that would require normalization for automated comparison.\nSUMMARY: Strong scientific reasoning with correct identification of all major populations and marker-based gating logic, but structural and naming inconsistencies across runs reduce reproducibility for automated scoring.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2578,
      "timestamp": "2026-01-13T03:28:31.156217",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "wrong intermediate gate names, missing SLAN- population, inconsistent hierarchy depth, adds unrequested populations (T/B/NK/DC)",
      "reliability": "low The model generates plausible immunology gating but cannot reliably reproduce the specific expected hierarchy structure.",
      "summary": "Model understands monocyte biology and identifies key subsets but generates highly variable hierarchies that never match the expected \"Cleaned Events > Non-granulocytes > Monocytes\" structure.",
      "raw_response": "Looking at the expected hierarchy and predictions across 10 runs:\n\n**Expected Focus:** The ground truth centers on monocyte subsets - Classical, Intermediate, and SLAN+/SLAN- Nonclassical monocytes under a \"Monocytes > Other Monocyte Subsets\" structure.\n\n**What the model consistently gets right:**\n- All runs correctly identify the three main monocyte populations (Classical, Intermediate, Non-classical)\n- Runs 6, 7, 8, 9 correctly identify SLAN+ as a marker for non-classical monocyte subtyping\n- The model understands the general gating logic (singlets \u2192 live \u2192 CD45+ \u2192 exclusion gates \u2192 monocytes)\n\n**What the model gets wrong:**\n- Never predicts the exact expected structure (\"Cleaned Events > Leukocytes > Non-granulocytes > Monocytes\")\n- Uses \"Singlets > Live cells > CD45+ Leukocytes\" instead of \"Cleaned Events > Leukocytes\"\n- Only 4/10 runs mention SLAN+ subsets; none mention SLAN- as a distinct population\n- Hierarchy depth and intermediate gates vary significantly (HLA-DR+, CD14+, etc.)\n- Adds many extra populations not in ground truth (T cells, B cells, NK cells, DCs, neutrophils)\n\n**Run-by-run quality:**\n- Runs 6, 7: Best - correctly identify monocyte subsets including SLAN+, reasonable structure\n- Runs 4, 5, 8, 9, 10: Good - identify monocyte subsets but with structural variations\n- Runs 1, 2, 3: Weaker - monocyte subsets present but buried in broader panels, missing SLAN\n\nMEDIAN_QUALITY: 5 (correctly identifies monocyte populations but wrong hierarchy structure, missing SLAN- distinction)\nCONSISTENCY: 3 (10 unique gate sets, significant variation in hierarchy depth and intermediate gates)\nWORST_CASE: 4 (runs 1-3 identify populations but with wrong structural organization)\nBEST_CASE: 6 (runs 6-7 get monocyte subsets with SLAN+ but still miss exact expected structure)\nFAILURE_MODES: wrong intermediate gate names, missing SLAN- population, inconsistent hierarchy depth, adds unrequested populations (T/B/NK/DC)\nRELIABILITY: low The model generates plausible immunology gating but cannot reliably reproduce the specific expected hierarchy structure.\nSUMMARY: Model understands monocyte biology and identifies key subsets but generates highly variable hierarchies that never match the expected \"Cleaned Events > Non-granulocytes > Monocytes\" structure.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.11111111111111116,
      "unique_gate_sets": 9,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1999,
      "timestamp": "2026-01-13T03:28:59.280516",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.2,
      "worst_case": 0.2,
      "best_case": 0.5,
      "failure_modes": "KIR hierarchy inversion, missing Mamu- prefix, CD56/CD16 gated before KIRs instead of parallel, inconsistent intermediate gating steps, hallucinated CD56bright/dim terminology",
      "reliability": "low - Model understands the biological markers but cannot reliably reproduce the specific hierarchical structure required for this macaque NK cell panel",
      "summary": "Model identifies correct markers and general NK focus but consistently misstructures the KIR gating hierarchy (should be KIR3DL01 then KIR3DL05, not nested under CD56 subsets) and shows high run-to-run variability.",
      "raw_response": "Looking at the 10 runs against the ground truth, I'll evaluate systematically.\n\n**Ground Truth Structure:**\n- Standard gating: All Events > Singlets > Live cells > Lymphocytes > NK cells\n- Then splits by Mamu-KIR3DL01+/- first, then KIR3DL05+/- (creating 4 quadrants)\n- Also includes CD16/CD56 combination gates at NK level\n\n**Analysis of Predictions:**\n\n1. **Core gating path:** Most runs get All Events > Singlets > Live cells > Lymphocytes > NK cells (though Run 4 skips Live cells, Runs 6/9 skip Lymphocytes)\n\n2. **Critical error - KIR hierarchy inversion:** Ground truth gates KIR3DL01 first, then KIR3DL05. Most predictions either:\n   - Gate CD16/CD56 first, then KIRs (Runs 2-10) - wrong order\n   - Gate KIRs independently, not sequentially (Run 1)\n\n3. **Missing Mamu- prefix:** All predictions drop \"Mamu-\" from KIR markers, which is scientifically significant (macaque-specific)\n\n4. **CD56/CD16 structure errors:** Ground truth has CD16/CD56 combinations as direct children of NK cells. Predictions create nested hierarchies (CD56bright/dim > KIR) that don't match.\n\n5. **Run 8 is closest:** Shows the quadrant approach (KIR3DL01+/- combined with KIR3DL05+/-) but still under CD56 subsets, not directly under NK cells.\n\n6. **Hallucinated gates:** CD56bright/CD56dim are inferred rather than stated in the ground truth which uses CD56+/CD56-.\n\nMEDIAN_QUALITY: 4 (captures NK focus and KIR markers but wrong hierarchical structure)\nCONSISTENCY: 2 (9 unique gate sets out of 10 runs - highly variable structure)\nWORST_CASE: 2 (Run 1 - minimal gates, no CD16/CD56 analysis, flat KIR structure)\nBEST_CASE: 5 (Run 8 - attempts quadrant gating for KIRs, closest to ground truth logic)\nFAILURE_MODES: KIR hierarchy inversion, missing Mamu- prefix, CD56/CD16 gated before KIRs instead of parallel, inconsistent intermediate gating steps, hallucinated CD56bright/dim terminology\nRELIABILITY: low - Model understands the biological markers but cannot reliably reproduce the specific hierarchical structure required for this macaque NK cell panel\nSUMMARY: Model identifies correct markers and general NK focus but consistently misstructures the KIR gating hierarchy (should be KIR3DL01 then KIR3DL05, not nested under CD56 subsets) and shows high run-to-run variability.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1650,
      "timestamp": "2026-01-13T03:29:21.819491",
      "error": null,
      "median_quality": 0.0,
      "consistency": 1.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "task refusal, input validation failure, no hierarchy generated, model requests clarification instead of attempting task",
      "reliability": "low The model consistently refuses to attempt the task under minimal context conditions, producing zero usable predictions.",
      "summary": "Complete task failure across all 10 runs - the model asks for panel information instead of generating gating hierarchies, suggesting either a prompt formatting issue (panel data not being passed correctly) or the model's refusal to operate without explicit marker lists.",
      "raw_response": "Looking at these 10 runs, I can see a clear and consistent pattern: **the model is not producing gating hierarchies at all**. Instead, every single run shows the model asking for clarification or listing what information it would need to complete the task.\n\nLet me analyze what's happening:\n\n**All 10 runs show the same fundamental behavior:**\n- Run 1: \"I notice that the panel information is missing from the prompt\"\n- Run 2-10: Various phrasings asking for \"markers\", \"fluorophores\", \"panel information\", \"context\"\n\nNone of these are gating hierarchy predictions. The model is refusing to complete the task because it perceives the input as incomplete.\n\n**Root cause analysis:**\nThe condition is `minimal_direct` which likely provides very sparse context. The model appears to be recognizing that a proper flow cytometry gating strategy requires marker information, and rather than hallucinating a hierarchy, it's asking for clarification. However, this represents a **complete task failure** since the benchmark expects a gating hierarchy output, not a request for more information.\n\n**Evaluation:**\n\nMEDIAN_QUALITY: 0 (no runs produced a valid gating hierarchy)\nCONSISTENCY: 10 (perfectly consistent - all runs failed identically by asking for input)\nWORST_CASE: 0 (all runs failed to produce any hierarchy)\nBEST_CASE: 0 (even the \"best\" run is just a clarification request)\nFAILURE_MODES: task refusal, input validation failure, no hierarchy generated, model requests clarification instead of attempting task\nRELIABILITY: low The model consistently refuses to attempt the task under minimal context conditions, producing zero usable predictions.\nSUMMARY: Complete task failure across all 10 runs - the model asks for panel information instead of generating gating hierarchies, suggesting either a prompt formatting issue (panel data not being passed correctly) or the model's refusal to operate without explicit marker lists.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2699,
      "timestamp": "2026-01-13T03:29:50.626350",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "Tfh hallucination, missing Plasmablasts, inconsistent B220/CD19 ordering, CD45+ insertion, marker-based naming vs functional naming mismatch, missing Activated B cells",
      "reliability": "low Model produces plausible flow cytometry hierarchies but lacks consistency and introduces populations not in the ground truth while missing specified ones.",
      "summary": "Model demonstrates reasonable immunological knowledge but unreliable for exact hierarchy reproduction due to systematic hallucinations (Tfh), naming convention mismatches, and high run-to-run variability in structural details.",
      "raw_response": "Looking at the 10 runs, I need to compare the model's predictions against the expected hierarchy for OMIP-076 (murine splenocytes).\n\n**Expected key populations:**\n- Lymphocytes (not CD45+ leukocytes)\n- B cells \u2192 Plasma cells, Plasmablasts, Activated B cells, Memory B cells\n- T cells \u2192 Naive, Effector memory, Central memory, Regulatory T cells \u2192 ICOS+ Treg\n\n**What the model consistently predicts:**\n- CD45+ leukocytes (extra gate not in ground truth)\n- TCR\u03b2+ or B220+ as primary lineage markers (more specific than ground truth)\n- Tfh cells (CXCR5+ PD-1+) - hallucinated, not in ground truth\n- CD4+ T cells as explicit gate (ground truth just has \"T cells\")\n- Foxp3+ Tregs with CD25+ subdivision (ground truth: Regulatory T cells \u2192 ICOS+ Treg)\n- Missing Plasmablasts distinction across all runs\n- Missing CD8+ T cell branch entirely in most runs\n\n**Structural differences:**\n- Model adds CD45+ gate between Live cells and lymphocytes\n- Model uses TCR\u03b2+ instead of generic \"T cells\"\n- Model consistently adds Tfh (follicular helper) population not present in ground truth\n- Model splits CD4 vs CD8 explicitly (ground truth doesn't)\n- Naming conventions differ significantly (marker-based vs functional names)\n\n**Consistency issues:**\n- B cell hierarchy varies: some runs have B220+ > CD19+, others CD19+ > B220+, others combined\n- Memory/effector T cell naming varies (CD44+ CD62L- vs \"effector memory\")\n- Plasma cell placement varies (under class-switched vs directly under B cells)\n- 10 unique gate sets = 0% exact consistency\n\nMEDIAN_QUALITY: 5 (captures major populations but adds extra gates, uses different naming, misses some ground truth populations like Plasmablasts, and hallucinates Tfh)\nCONSISTENCY: 3 (structural backbone consistent but gate naming, order, and specific subdivisions vary substantially across runs)\nWORST_CASE: 4 (Run 9 has minimal detail, Run 10 adds \"Germinal center B cells\" hallucination)\nBEST_CASE: 6 (Runs 4, 7 capture plasma cells, memory B cells, Tregs, memory T subsets with reasonable structure)\nFAILURE_MODES: Tfh hallucination, missing Plasmablasts, inconsistent B220/CD19 ordering, CD45+ insertion, marker-based naming vs functional naming mismatch, missing Activated B cells\nRELIABILITY: low Model produces plausible flow cytometry hierarchies but lacks consistency and introduces populations not in the ground truth while missing specified ones.\nSUMMARY: Model demonstrates reasonable immunological knowledge but unreliable for exact hierarchy reproduction due to systematic hallucinations (Tfh), naming convention mismatches, and high run-to-run variability in structural details.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.5555555555555556,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1545,
      "timestamp": "2026-01-13T03:30:19.907022",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of OMIP-008 Gating Predictions\n\n**Ground Truth Structure:**\n- All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+ T cells\n- Key features: Live cells gate present, explicit \"T cells\" parent gate before CD4/CD8 split\n\n**Observed Prediction Patterns:**\n\n| Pattern | Runs | Key Differences from Ground Truth |\n|---------|------|----------------------------------|\n| Missing Live cells + Missing T cells | 1, 3, 4, 6, 7, 8, 9, 10 (8 runs) | Skips viability gate, places CD4/CD8 directly under Lymphocytes |\n| Missing T cells only | 2, 5 (2 runs) | Has Live cells, but CD4/CD8 directly under Lymphocytes |\n| Hallucinated DP/DN gates | All 10 runs | Adds CD4+CD8+ and CD4-CD8- populations not in ground truth |\n\n**Detailed Analysis:**\n\n1. **Structural Errors:**\n   - 80% of runs (8/10) omit the \"Live cells\" gate entirely\n   - 100% of runs omit the \"T cells\" intermediate gate\n   - Parent-child relationships are consistently wrong: CD4+/CD8+ should be children of \"T cells\", not \"Lymphocytes\"\n\n2. **Hallucinations:**\n   - Every run adds double-positive (CD4+CD8+) and double-negative (CD4-CD8-) populations\n   - These are not in the ground truth hierarchy\n   - While scientifically plausible for some contexts, they are hallucinations relative to the specified gating strategy\n\n3. **Correct Elements:**\n   - All Events \u2192 Singlets structure is correct\n   - Terminal CD4+ and CD8+ T cell gates are present\n   - Lymphocytes gate is present (though at wrong depth in 80% of runs)\n\n---\n\n**MEDIAN_QUALITY: 4** (captures terminal populations but wrong hierarchy depth, consistent hallucinations)\n\n**CONSISTENCY: 7** (8/10 runs have identical structure; only 2 runs differ by including Live cells)\n\n**WORST_CASE: 4** (runs 1, 3, 4, 6-10 missing Live cells AND T cells gates, plus hallucinations)\n\n**BEST_CASE: 5** (runs 2, 5 include Live cells but still missing T cells gate, still have hallucinations)\n\n**FAILURE_MODES: missing intermediate gates (Live cells, T cells), hallucinated double-positive/double-negative populations, incorrect parent assignments**\n\n**RELIABILITY: medium** The model consistently identifies the core CD4/CD8 split but systematically omits intermediate gates and adds hallucinated populations, making it unreliable for reproducing precise gating hierarchies.\n\n**SUMMARY:** The model reliably identifies terminal T cell subsets but consistently produces a flattened hierarchy (missing Live cells and T cells gates) while hallucinating DP/DN populations in every run, suggesting a systematic bias toward common gating patterns rather than the specific OMIP-008 strategy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2260,
      "timestamp": "2026-01-13T03:30:48.865184",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "missing specialized B cell subsets (MZ B cells), missing plasma cells, missing NK-T cells, inconsistent DC nomenclature (mDC vs cDC), variable hierarchy depth for myeloid lineage, naming style inconsistency (CD marker prefix vs simple names)",
      "reliability": "low The model captures broad immunophenotyping structure but shows high variability in hierarchy organization and consistently misses specialized populations, making predictions unreliable for detailed gating strategy reproduction.",
      "summary": "Claude Sonnet identifies major leukocyte lineages reliably but exhibits substantial run-to-run variability in hierarchical structure and consistently fails to predict specialized subpopulations (NK-T, MZ B cells, plasma cells) present in the ground truth.",
      "raw_response": "Looking at these 10 predictions against the OMIP-077 ground truth, I'll evaluate the model's performance.\n\n**Key Observations:**\n\n1. **Core populations consistently identified**: T cells, B cells, NK cells, monocytes (classical/intermediate/non-classical), and DCs (pDC, mDC/cDC) appear in nearly all runs.\n\n2. **Structural variations**: The hierarchy depth and branching varies significantly:\n   - Run 4 omits \"Live cells\" gate entirely\n   - Runs 1, 3, 7 add intermediate gates like \"Lin-\" or \"HLA-DR+ myeloid\" before DCs\n   - Parent assignments for DCs vary (under \"HLA-DR+ myeloid\", \"HLA-DR+ Lineage-\", or directly under leukocytes)\n\n3. **Missing populations from ground truth**:\n   - NK-T cells: Only Run 1 includes this (as \"CD56+ NKT cells\")\n   - Marginal Zone B cells: None of the runs identify this specific B cell subset\n   - Plasma cells: Only Run 1 mentions \"CD38+ plasmablasts\" (close but not exact)\n   - The ground truth's specific populations are often missed or differently named\n\n4. **Naming inconsistency**: \n   - \"Leukocytes\" vs \"CD45+ leukocytes\" vs \"CD45+ Leukocytes\"\n   - \"mDC\" vs \"cDC\" vs \"mDC1/mDC2\" vs \"cDC1/cDC2\"\n   - Monocyte naming varies (CD14+CD16- vs Classical)\n\n5. **Hallucinations/additions**: Some runs add gates not in ground truth (Lin- gates, various CD marker-based intermediate gates)\n\n6. **Quality range**: Run 2 is most aligned with ground truth structure; Run 4 is worst (missing Live cells, unusual hierarchy)\n\nMEDIAN_QUALITY: 6 (captures major populations but misses specific subsets like MZ B cells, NK-T cells, plasma cells; structural variations from ground truth)\nCONSISTENCY: 3 (10 unique gate sets, significant structural variation in DC/monocyte gating logic, naming inconsistencies across runs)\nWORST_CASE: 4 (Run 4 omits Live cells gate, compressed hierarchy, misses several populations)\nBEST_CASE: 7 (Run 2 closest to ground truth naming/structure, though still missing MZ B cells and plasma cells)\nFAILURE_MODES: missing specialized B cell subsets (MZ B cells), missing plasma cells, missing NK-T cells, inconsistent DC nomenclature (mDC vs cDC), variable hierarchy depth for myeloid lineage, naming style inconsistency (CD marker prefix vs simple names)\nRELIABILITY: low The model captures broad immunophenotyping structure but shows high variability in hierarchy organization and consistently misses specialized populations, making predictions unreliable for detailed gating strategy reproduction.\nSUMMARY: Claude Sonnet identifies major leukocyte lineages reliably but exhibits substantial run-to-run variability in hierarchical structure and consistently fails to predict specialized subpopulations (NK-T, MZ B cells, plasma cells) present in the ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.33333333333333337,
      "unique_gate_sets": 7,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1284,
      "timestamp": "2026-01-13T03:31:15.414958",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.4,
      "worst_case": 0.5,
      "best_case": 0.9,
      "failure_modes": "omission of Live cells gate (60%), variable FoxP3- nomenclature, occasional hierarchy inversion",
      "reliability": "medium - Model understands the immunological logic but inconsistently applies standard flow cytometry preprocessing steps; 3/10 runs achieve correct structure",
      "summary": "The model reliably identifies the core Treg gating logic (CD4+ \u2192 FoxP3+/-) but shows concerning inconsistency in including the viability gate, which is standard practice in flow cytometry and present in the panel.",
      "raw_response": "## Evaluation of claude-sonnet-4-20250514-cli on OMIP-053\n\n### Structural Analysis\n\n**Ground Truth Structure:**\n- All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 CD4+ T cells \u2192 FoxP3+/FoxP3-\n\n**Prediction Patterns Observed:**\n\n| Pattern | Runs | Issue |\n|---------|------|-------|\n| Missing \"Live cells\" gate | 1, 2, 4, 6, 7, 10 (6/10) | Skips viability gating |\n| Correct structure (with Live cells) | 3, 8, 9 (3/10) | Matches ground truth |\n| Wrong order: Lymphocytes before Live cells | 5 (1/10) | Inverted hierarchy |\n\n**Terminal Gate Naming Variations:**\n- FoxP3+ side: \"Tregs\" vs \"Treg\" - consistent naming\n- FoxP3- side: \"conventional\", \"Tconv\", \"non-Treg\", \"Conventional T cells\" - inconsistent naming (7 variants across 10 runs)\n\n### Critical Observations\n\n1. **Live cell gate omission (60% of runs)**: The model frequently skips the viability gate, going directly from Singlets to Lymphocytes. This is a significant error in flow cytometry practice where dead cell exclusion is standard.\n\n2. **Correct core gates**: All runs correctly identify the essential immunological hierarchy: Singlets \u2192 Lymphocytes \u2192 CD4+ T cells \u2192 FoxP3+/FoxP3-.\n\n3. **Terminal gate nomenclature instability**: The FoxP3- population naming is highly variable, though semantically equivalent (all variants mean \"conventional/non-regulatory CD4+ T cells\").\n\n4. **Run 5 structural error**: Places \"Live cells\" after \"Lymphocytes\" - biologically nonsensical order.\n\n---\n\nMEDIAN_QUALITY: 7 (captures essential immunological structure but inconsistently includes viability gating)\nCONSISTENCY: 4 (significant variation in both structure and naming; only 3/10 runs match ground truth structure)\nWORST_CASE: 5 (Run 5 has inverted Live cells/Lymphocytes order - biologically incorrect)\nBEST_CASE: 9 (Runs 3, 8, 9 match ground truth structure with only minor naming differences)\nFAILURE_MODES: omission of Live cells gate (60%), variable FoxP3- nomenclature, occasional hierarchy inversion\nRELIABILITY: medium - Model understands the immunological logic but inconsistently applies standard flow cytometry preprocessing steps; 3/10 runs achieve correct structure\nSUMMARY: The model reliably identifies the core Treg gating logic (CD4+ \u2192 FoxP3+/-) but shows concerning inconsistency in including the viability gate, which is standard practice in flow cytometry and present in the panel.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.11111111111111116,
      "unique_gate_sets": 9,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2106,
      "timestamp": "2026-01-13T03:31:43.544278",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.4,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "missing Time Gate, missing Lymphocytes intermediate gate, inconsistent memory subset naming, variable structural depth, over-specification of terminal gates",
      "reliability": "medium Model captures the biological logic of T cell immunophenotyping but shows significant run-to-run variability and consistently misses QC gates like Time Gate.",
      "summary": "The model demonstrates understanding of T cell memory and functional phenotyping but lacks consistency in gate naming/structure and systematically omits standard QC gates (Time Gate, sometimes Lymphocytes).",
      "raw_response": "Looking at the predictions across 10 runs compared to the expected hierarchy:\n\n**Key Observations:**\n\n1. **Missing Time Gate**: All 10 runs omit the \"Time Gate\" that should come after \"All Events\" - this is a consistent structural error.\n\n2. **Lymphocytes gate inconsistency**: Only Run 6 includes a \"Lymphocytes\" gate; most runs skip directly from \"Live cells\" to \"CD3+ T cells\" - missing an important intermediate gate that's in the ground truth.\n\n3. **T cells naming**: Ground truth uses \"T cells\" but predictions use \"CD3+ T cells\" or just \"CD3+\" - semantically equivalent but naming varies.\n\n4. **Memory subset detail**: The model consistently provides specific memory subset names (Naive, Central Memory, Effector Memory, TEMRA) while ground truth groups these under \"Memory Subsets\" - this is actually MORE detailed than required.\n\n5. **Functional analysis gates**: Model correctly identifies cytokine gates (IFN-\u03b3+, IL-2+, TNF+, etc.) corresponding to \"Functional Analysis\" in ground truth.\n\n6. **Structural variation**: Run 6 nests functional gates under memory subsets; Run 8 uses dump gates like \"CD14- CD19-\"; Run 9 is truncated with only 8 paths shown.\n\n7. **Consistent core structure**: Despite variations, all runs capture: Singlets \u2192 Live cells \u2192 T cell lineage split \u2192 CD4/CD8 separation \u2192 memory phenotyping + functional readouts.\n\n**Critical gaps**:\n- Time Gate missing (0/10 runs)\n- Lymphocytes gate missing (9/10 runs)\n- High naming variability in memory subsets\n\nMEDIAN_QUALITY: 6 (captures key biological logic but misses Time Gate and often Lymphocytes; over-specifies memory subsets)\nCONSISTENCY: 4 (9 unique gate sets out of 10; significant variation in gate naming, depth, and structure)\nWORST_CASE: 4 (Run 9 appears truncated; Run 8 uses unusual dump gate structure)\nBEST_CASE: 7 (Run 6 includes Lymphocytes gate and reasonable structure, though still missing Time Gate)\nFAILURE_MODES: missing Time Gate, missing Lymphocytes intermediate gate, inconsistent memory subset naming, variable structural depth, over-specification of terminal gates\nRELIABILITY: medium Model captures the biological logic of T cell immunophenotyping but shows significant run-to-run variability and consistently misses QC gates like Time Gate.\nSUMMARY: The model demonstrates understanding of T cell memory and functional phenotyping but lacks consistency in gate naming/structure and systematically omits standard QC gates (Time Gate, sometimes Lymphocytes).",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2679,
      "timestamp": "2026-01-13T03:32:11.938855",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.7,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "missing time gate, missing non-beads gate, missing non-aggregates gate, missing monocyte subsets, missing HLA-DR+ myeloid branch, T-cell-centric bias, inconsistent gate capitalization",
      "reliability": "medium Model produces structurally coherent lymphocyte hierarchies consistently but systematically omits quality control gates and the myeloid compartment, making it unreliable for comprehensive whole blood immunophenotyping panels.",
      "summary": "Claude Sonnet demonstrates good consistency in predicting T/B/NK lymphocyte hierarchies but has a systematic blind spot for quality control gates and myeloid populations, resulting in predictions that cover roughly 60% of the expected cell populations.",
      "raw_response": "## Evaluation: OMIP-101 Gating Hierarchy Predictions\n\n### Analysis\n\n**Ground Truth Structure:**\nThe expected hierarchy has a distinctive deep structure with:\n- Time gate \u2192 Singlets \u2192 Non-beads \u2192 Leukocytes \u2192 Non-aggregates \u2192 Non-granulocytes\n- Terminal populations including monocyte subsets (classical/intermediate/non-classical), mDCs, B cell subsets, and NK cells\n\n**Prediction Patterns Across 10 Runs:**\n\n1. **Consistent elements across all runs:**\n   - All Events \u2192 Singlets \u2192 Live cells \u2192 CD45+ Leukocytes (core backbone present)\n   - T cell lineage well-represented (CD3+, \u03b3\u03b4, \u03b1\u03b2, CD4+, CD8+ subsets)\n   - NK cells and B cells included\n   - MAIT cells consistently identified\n\n2. **Missing from ground truth:**\n   - Time gate (absent in all predictions)\n   - Non-beads gate (absent)\n   - Non-aggregates gate (absent)\n   - The specific myeloid gating pathway (Non-T/B/NK contamination \u2192 HLA-DR+ myeloid \u2192 monocyte subsets)\n   - Classical/intermediate/non-classical monocyte distinction\n\n3. **Structural variations between runs:**\n   - Run 4: Added CD66+ granulocytes / CD66- non-granulocytes branch\n   - Run 5: Used \"CD66- CD33-\" as intermediate gate\n   - Run 7: Nested MAIT differently under CD4+ T cells\n   - Most runs: Direct CD3+ branching without granulocyte exclusion\n\n4. **Gate naming inconsistencies:**\n   - \"CD45+ Leukocytes\" vs \"CD45+ leukocytes\" (capitalization)\n   - \"V\u03b42+ \u03b3\u03b4 T\" vs \"V\u03b42+ \u03b3\u03b4 T cells\" (truncation)\n\n**Key Deficiencies:**\n- Model consistently omits quality control gates (Time, Non-beads, Non-aggregates)\n- Myeloid branch is severely underrepresented - monocyte subsets missing\n- Model defaults to a T-cell-centric hierarchy rather than the balanced pan-leukocyte structure\n- The HLA-DR+ myeloid pathway is entirely absent\n\n---\n\nMEDIAN_QUALITY: 4 (captures lymphocyte populations but misses QC gates and myeloid compartment)\nCONSISTENCY: 7 (core structure highly consistent; minor variations in intermediate gates and naming)\nWORST_CASE: 3 (Run 5 - unusual CD66- CD33- intermediate gate, fewer terminal populations)\nBEST_CASE: 5 (Run 4 - includes granulocyte distinction, closest to ground truth structure)\nFAILURE_MODES: missing time gate, missing non-beads gate, missing non-aggregates gate, missing monocyte subsets, missing HLA-DR+ myeloid branch, T-cell-centric bias, inconsistent gate capitalization\nRELIABILITY: medium Model produces structurally coherent lymphocyte hierarchies consistently but systematically omits quality control gates and the myeloid compartment, making it unreliable for comprehensive whole blood immunophenotyping panels.\nSUMMARY: Claude Sonnet demonstrates good consistency in predicting T/B/NK lymphocyte hierarchies but has a systematic blind spot for quality control gates and myeloid populations, resulting in predictions that cover roughly 60% of the expected cell populations.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2383,
      "timestamp": "2026-01-13T03:32:38.862431",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.2,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing Time gate, missing Lymphocytes gate, wrong memory B cell categorization (IgM/class-switched vs RM/AM/TLM), inconsistent naming conventions, Kappa/Lambda hallucinations, variable hierarchy depth",
      "reliability": "low The model shows high variance across runs and systematically uses a different conceptual framework for memory B cell classification than the ground truth expects.",
      "summary": "Claude Sonnet captures the general B cell isotype subtyping structure but fails to reproduce the specific OMIP-074 memory B cell functional categories (RM/AM/TLM) and critical early gates (Time, Lymphocytes), with substantial run-to-run variability making it unreliable for this task.",
      "raw_response": "Looking at the model's predictions across 10 runs compared to the expected OMIP-074 hierarchy:\n\n**Key Observations:**\n\n1. **Missing Critical Gates**: All 10 runs consistently miss \"Time gate\" and \"Lymphocytes\" from the early hierarchy. The expected path is `All Events > Time gate > Singlets > Lymphocytes > Live cells > B cells` but predictions all show `All Events > Singlets > Live cells > B cells` (or similar).\n\n2. **Memory B Cell Categorization**: The ground truth uses specific functional categories (Resting Memory, Activated Memory, Tissue-like Memory) while the model consistently uses immunoglobulin-based classification (IgM memory, IgG+ memory, class-switched memory). This is a systematic mismatch in conceptual framework.\n\n3. **IgG Subclass Gates**: The model correctly identifies IgG1+, IgG2+, IgG3+, IgG4+ in most runs - this matches the ground truth well.\n\n4. **IgA Subclasses**: Ground truth expects IgA1+ and IgA2+ B cells. Some runs include IgA but often not with the subclass breakdown.\n\n5. **IgE+ B cells**: Present in ground truth but inconsistently captured (only some runs mention IgE).\n\n6. **High Variability**: Each of the 10 runs produces a different hierarchy structure with different naming conventions (e.g., \"Memory B cells\" vs \"Memory B Cells\" vs \"Switched Memory\") and different depths.\n\n7. **Hallucinations**: Run 2 adds Kappa+/Lambda+ subgates not in the ground truth. Run 6 adds similar light chain gates. These may be reasonable for the panel but don't match the expected output.\n\nMEDIAN_QUALITY: 5 (captures core B cell and IgG subclass structure but misses Time gate, Lymphocytes, and uses wrong memory categorization scheme)\nCONSISTENCY: 2 (10 unique gate sets from 10 runs; naming, depth, and structure vary substantially)\nWORST_CASE: 4 (runs with excessive hallucinated gates like Kappa/Lambda subsets and missing IgA subclasses)\nBEST_CASE: 6 (runs that capture naive, memory, and class-switched structure with IgG/IgA/IgE breakdown)\nFAILURE_MODES: missing Time gate, missing Lymphocytes gate, wrong memory B cell categorization (IgM/class-switched vs RM/AM/TLM), inconsistent naming conventions, Kappa/Lambda hallucinations, variable hierarchy depth\nRELIABILITY: low The model shows high variance across runs and systematically uses a different conceptual framework for memory B cell classification than the ground truth expects.\nSUMMARY: Claude Sonnet captures the general B cell isotype subtyping structure but fails to reproduce the specific OMIP-074 memory B cell functional categories (RM/AM/TLM) and critical early gates (Time, Lymphocytes), with substantial run-to-run variability making it unreliable for this task.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2738,
      "timestamp": "2026-01-13T03:33:05.755504",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.3,
      "worst_case": 0.5,
      "best_case": 0.8,
      "failure_modes": "singlets hallucination on CyTOF panel, variable early gate ordering, inconsistent gate naming, missing stem-cell-memory subset, missing transitional-memory subset",
      "reliability": "medium The model reliably identifies the major T cell populations but applies flow cytometry conventions inappropriately to CyTOF data and shows high run-to-run structural variability.",
      "summary": "Claude Sonnet produces biologically reasonable T cell memory hierarchies with good functional subset coverage, but inconsistent structure and inappropriate singlet gating for this CyTOF panel reduce reliability for automated pipelines.",
      "raw_response": "Looking at these 10 predictions against the OMIP-087 ground truth for CD4/CD8 T cell memory subset analysis by CyTOF:\n\n**Key Observations:**\n\n1. **Core populations captured well**: All runs correctly identify the major CD4+ T cell memory subsets (Naive, Central Memory, Effector Memory, TEMRA/Terminal Effector) and functional subsets (Th1, Th2, Th17, Tfh, Tregs).\n\n2. **Structural inconsistency**: The early gating hierarchy varies substantially:\n   - Run 1: All Events > Singlets > Live cells > CD45+\n   - Run 2: All Events > Lymphocytes > Singlets > Live cells > CD45+\n   - Run 5: All Events > Singlets > CD45+ (missing Live gate)\n   - Run 8: All Events > Singlets > Lymphocytes > CD45+\n\n3. **CyTOF-specific issue**: OMIP-087 is a mass cytometry (CyTOF) panel. The ground truth correctly omits scatter-based singlets gating (not applicable to CyTOF), but the model consistently hallucinates \"Singlets\" gates based on flow cytometry conventions.\n\n4. **Naming conventions vary**: Same populations named differently across runs (e.g., \"CD4+ Naive\" vs \"CD45RA+ CCR7+ Naive CD4\" vs \"Naive CD4+ T cells\").\n\n5. **Extra detail vs. ground truth**: Model predictions often include marker phenotypes in gate names (e.g., \"CCR6+ CCR4+ Th17\") which is more detailed than the ground truth's simpler naming.\n\n6. **Missing populations**: \"Stem cell memory\" and \"Transitional memory\" subsets from ground truth are inconsistently captured or missing.\n\n7. **TCRgd inclusion**: Most runs add TCRgd+ T cells which isn't in the ground truth hierarchy (panel does include TCRgd marker though).\n\nMEDIAN_QUALITY: 7 (captures major T cell memory architecture and functional subsets correctly)\nCONSISTENCY: 3 (significant structural variation in early gates, inconsistent naming conventions)\nWORST_CASE: 5 (Run 3/4 have truncated hierarchies missing some functional subsets)\nBEST_CASE: 8 (Runs 1, 6 have comprehensive coverage with appropriate depth)\nFAILURE_MODES: singlets hallucination on CyTOF panel, variable early gate ordering, inconsistent gate naming, missing stem-cell-memory subset, missing transitional-memory subset\nRELIABILITY: medium The model reliably identifies the major T cell populations but applies flow cytometry conventions inappropriately to CyTOF data and shows high run-to-run structural variability.\nSUMMARY: Claude Sonnet produces biologically reasonable T cell memory hierarchies with good functional subset coverage, but inconsistent structure and inappropriate singlet gating for this CyTOF panel reduce reliability for automated pipelines.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2315,
      "timestamp": "2026-01-13T03:33:34.738089",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.1,
      "worst_case": 0.2,
      "best_case": 0.5,
      "failure_modes": "ILC hierarchy never predicted, Activated NK missing, massive overgeneration of CD27/CD38/CD57 subsets, inconsistent parent-child structure, Other ILC subsets never identified",
      "reliability": "low - Model produces entirely different predictions each run with zero reproducibility, making it unsuitable for standardized gating strategy generation.",
      "summary": "The model recognizes key populations (MAIT, \u03b3\u03b4 T, NK) but fails to reproduce the expected ILC-centric hierarchy, dramatically overgenerates marker-combination gates, and shows no consistency across runs.",
      "raw_response": "Looking at these 10 runs, I need to evaluate how well claude-sonnet-4 predicts the OMIP-064 gating hierarchy.\n\n**Expected hierarchy analysis:**\nThe ground truth focuses on: MAIT cells, \u03b3\u03b4 T cells, NK cells (with Activated NK subset), and Other ILC subsets - all under a clean Lymphocytes > Innate Lymphoid Cells or T cells structure.\n\n**Prediction analysis across runs:**\n\n1. **Critical gates captured:** MAIT cells appear in 8/10 runs (Runs 3,4,6,7,9,10 explicitly; Runs 1,2,5,8 miss it). \u03b3\u03b4 T cells appear in 7/10 runs. NK cells appear in most runs but rarely under \"Innate Lymphoid Cells\" as expected. \"Other ILC subsets\" is essentially never predicted.\n\n2. **Structural issues:** \n   - Run 3 has inverted hierarchy (Lymphocytes > Singlets - wrong order)\n   - Most runs use \"Leukocytes\" or skip directly to T cells instead of \"Lymphocytes\"\n   - None correctly place NK cells under \"Innate Lymphoid Cells\" - they're typically under CD3- cells\n   - \"Activated NK cells\" as a named gate is missing; models predict functional markers instead (NKG2A+, Ki67+, etc.)\n\n3. **Overgeneration:** Every run produces 13-25+ gates when ground truth has only 4 terminal populations. The model generates extensive CD4/CD8 subsets with activation/memory markers (CD27, CD38, CD57, Ki67) not in the expected hierarchy.\n\n4. **Consistency:** 0% overlap between runs (10 unique gate sets). The model takes different gating \"strategies\" each time - sometimes focusing on NK phenotypes, sometimes on T cell subsets.\n\n5. **Best case (Runs 4, 7):** These correctly identify MAIT under TCR\u03b3\u03b4- T cells and \u03b3\u03b4 T cells with V\u03b42 distinction - reasonable interpretation of panel markers, though structure differs from ground truth.\n\n6. **Worst case (Run 1):** Misses MAIT entirely, no \u03b3\u03b4 T cells, over-focuses on activation states.\n\nMEDIAN_QUALITY: 4 (captures some key populations but wrong hierarchical structure and significant overgeneration)\nCONSISTENCY: 1 (10 completely different gate sets; no reproducibility)\nWORST_CASE: 2 (Run 1 misses most critical populations entirely)\nBEST_CASE: 5 (Runs 4,7 capture MAIT and \u03b3\u03b4 T correctly but wrong ILC structure)\nFAILURE_MODES: ILC hierarchy never predicted, Activated NK missing, massive overgeneration of CD27/CD38/CD57 subsets, inconsistent parent-child structure, Other ILC subsets never identified\nRELIABILITY: low - Model produces entirely different predictions each run with zero reproducibility, making it unsuitable for standardized gating strategy generation.\nSUMMARY: The model recognizes key populations (MAIT, \u03b3\u03b4 T, NK) but fails to reproduce the expected ILC-centric hierarchy, dramatically overgenerates marker-combination gates, and shows no consistency across runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.11111111111111116,
      "unique_gate_sets": 9,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2259,
      "timestamp": "2026-01-13T03:34:01.598543",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.3,
      "worst_case": 0.3,
      "best_case": 0.7,
      "failure_modes": "inconsistent lymphocyte gate inclusion, variable memory subset naming conventions, unstable Tfh nesting position, one run with inverted gating order",
      "reliability": "low The model produces scientifically reasonable hierarchies but lacks the reproducibility needed for standardized gating\u2014same prompt yields structurally different outputs.",
      "summary": "Claude Sonnet demonstrates strong domain knowledge of T/NK immunophenotyping but exhibits problematic run-to-run variability in hierarchy structure and nomenclature that would require manual review for each prediction.",
      "raw_response": "Looking at these 10 runs, I'll evaluate the model's performance systematically.\n\n**Structural Analysis:**\n- Most runs correctly identify the core hierarchy: All Events > Singlets > Live cells > [lymphocyte gate] > T cells > CD4+/CD8+ subsets\n- Run 10 has a critical error: \"Lymphocytes > Singlets\" inverts the logical order (singlets should precede lymphocyte gating)\n- Runs 1, 3, 5, 6 skip the Lymphocyte gate entirely, going directly to CD3+ T cells\n- Run 5 uses an unusual dump gate \"CD14- CD19- CD56-\" instead of standard lymphocyte gating\n\n**Naming Consistency Issues:**\n- Memory subset naming varies: \"Naive CD4+\", \"CD4+ Naive\", \"CD4 Naive\", \"Naive CD4\", \"CD45RA+ CCR7+ Naive\"\n- Tfh placement varies: sometimes nested under Central Memory (Run 7), sometimes parallel to memory subsets\n- Functional subsets (IFN-\u03b3+, IL-2+, TNF-\u03b1+) show inconsistent nesting depth\n\n**Comparison to Ground Truth:**\n- Ground truth uses grouped categories: \"CD4+ Memory subsets\", \"CD4+ Functional subsets\"\n- Model provides granular populations (Naive, CM, EM, TEMRA) but inconsistently groups them\n- NK cells appear in most runs but with variable depth and functional subset detail\n- Tfh cells consistently identified but nesting varies\n\n**Critical Gates:**\n- Singlets: Present in all 10 runs \u2713\n- Live cells: Present in all 10 runs \u2713  \n- Lymphocytes: Missing in 4/10 runs \u2717\n- T cells/CD3+: Present in all runs \u2713\n- NK cells: Present in most runs \u2713\n\nMEDIAN_QUALITY: 6 (captures major populations correctly with appropriate markers, but organizational structure varies from ground truth)\nCONSISTENCY: 3 (9 unique gate sets across 10 runs shows high variability in naming conventions and hierarchy depth)\nWORST_CASE: 3 (Run 10 inverts singlet/lymphocyte order, Run 5 uses non-standard dump gating)\nBEST_CASE: 7 (Runs 4, 8, 9 have clean hierarchies with appropriate structure)\nFAILURE_MODES: inconsistent lymphocyte gate inclusion, variable memory subset naming conventions, unstable Tfh nesting position, one run with inverted gating order\nRELIABILITY: low The model produces scientifically reasonable hierarchies but lacks the reproducibility needed for standardized gating\u2014same prompt yields structurally different outputs.\nSUMMARY: Claude Sonnet demonstrates strong domain knowledge of T/NK immunophenotyping but exhibits problematic run-to-run variability in hierarchy structure and nomenclature that would require manual review for each prediction.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2405,
      "timestamp": "2026-01-13T03:34:26.399256",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.2,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "scope expansion beyond ground truth, missing SLAN+/SLAN- distinction, inconsistent intermediate gating steps, variable parent-child relationships for monocytes",
      "reliability": "low The model reliably identifies monocyte subsets exist but cannot consistently reproduce the specific hierarchy structure or the critical SLAN distinction.",
      "summary": "Model demonstrates knowledge of monocyte biology but over-generates comprehensive PBMC panels instead of matching the focused monocyte hierarchy, with poor run-to-run consistency in structure and terminology.",
      "raw_response": "Looking at these 10 runs, I need to evaluate how well claude-sonnet-4's predictions match the expected monocyte-focused hierarchy from OMIP-083.\n\n**Key observations:**\n\n1. **The ground truth is monocyte-specific**: All Events > Cleaned Events > Leukocytes > Non-granulocytes > Monocytes > {Classical, Intermediate, SLAN+ Nonclassical, SLAN- Nonclassical}\n\n2. **All 10 predictions show broad immunophenotyping**: The model consistently produces comprehensive PBMC panels covering T cells, B cells, NK cells, granulocytes, DCs, AND monocytes - rather than the focused monocyte hierarchy expected.\n\n3. **Monocyte subset recognition is present but inconsistent**:\n   - Classical monocytes: Identified in all 10 runs \u2713\n   - Intermediate monocytes: Runs 2, 4, 7 explicitly name them\n   - Non-classical monocytes: Runs 2, 4, 7, 8 identify them\n   - SLAN+/SLAN- distinction: Only Run 4 and Run 7 mention SLAN markers\n\n4. **Structural inconsistencies**:\n   - Root varies: \"All Events\" vs \"All Events > Cells\"\n   - Intermediate gates vary: \"Singlets > Live cells > CD45+\" vs \"Singlets > CD45+ Leukocytes\"\n   - Monocyte parent varies: \"HLA-DR+ Myeloid\" vs \"CD14+ Monocytes\" vs \"APCs\"\n\n5. **Naming convention drift**: \"Cleaned Events\" (ground truth) never appears; models use \"Singlets > Live cells\" instead\n\n6. **Critical omission**: The specific SLAN+/SLAN- nonclassical distinction from ground truth is rarely captured - most runs just say \"Non-classical Monocytes\"\n\nMEDIAN_QUALITY: 4 (captures monocyte subsets but wrong scope and missing SLAN distinction)\nCONSISTENCY: 2 (10 unique gate sets, structural variation in every run)\nWORST_CASE: 3 (Run 9 has minimal monocyte detail, just \"Classical Monocytes\")\nBEST_CASE: 5 (Run 7 includes SLAN+ nonclassical and detailed monocyte hierarchy)\nFAILURE_MODES: scope expansion beyond ground truth, missing SLAN+/SLAN- distinction, inconsistent intermediate gating steps, variable parent-child relationships for monocytes\nRELIABILITY: low The model reliably identifies monocyte subsets exist but cannot consistently reproduce the specific hierarchy structure or the critical SLAN distinction.\nSUMMARY: Model demonstrates knowledge of monocyte biology but over-generates comprehensive PBMC panels instead of matching the focused monocyte hierarchy, with poor run-to-run consistency in structure and terminology.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1923,
      "timestamp": "2026-01-13T03:34:51.884129",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.1,
      "worst_case": 0.2,
      "best_case": 0.4,
      "failure_modes": "missing Mamu-KIR3DL01 bifurcation structure, KIR gates as parallel not hierarchical, missing Live cells gate, inconsistent Singlets/Lymphocytes ordering, CD56bright/dim substitution for CD56+/- nomenclature",
      "reliability": "low - The model fails to recognize species-specific KIR nomenclature and never produces the correct hierarchical KIR bifurcation pattern central to this macaque NK panel.",
      "summary": "The model understands basic NK gating concepts but fails completely on the macaque-specific KIR hierarchy that defines this panel, with zero consistency across runs.",
      "raw_response": "Looking at the predictions across 10 runs compared to the ground truth, I'll evaluate the model's performance.\n\n**Key observations:**\n\n1. **Missing critical gates**: The ground truth uses Mamu-KIR3DL01 (a macaque-specific KIR) as the primary bifurcation point for NK cell subsets, with KIR3DL05 as secondary. The model never predicts this structure - it consistently treats KIR3DL01+ and KIR3DL05+ as parallel terminal leaves rather than hierarchical (KIR3DL01 first, then +/- KIR3DL05 within each).\n\n2. **Missing Live cells gate**: Many runs (2, 5, 6, 7, 9, 10) skip the Live cells gate entirely.\n\n3. **Inconsistent early gating order**: Runs 1 and 6 incorrectly place Lymphocytes before Singlets.\n\n4. **CD16/CD56 subset structure wrong**: Ground truth has three CD16/CD56 populations as siblings (CD16+ CD56+, CD16+ CD56-, CD16- CD56+). Model predictions generally nest these differently or use CD56bright/dim nomenclature instead.\n\n5. **No run captures the Mamu-KIR3DL01+/- bifurcation**: This is the core failure - the ground truth's key structure is KIR3DL01+ \u2192 KIR3DL05+/- and KIR3DL01- \u2192 KIR3DL05+/-. No prediction attempts this.\n\n6. **10 unique gate sets**: Zero consistency across runs - every run produces a different hierarchy.\n\n**Quality assessment:**\n- Best runs (3, 7, 9) get the general flow right (Singlets \u2192 Live \u2192 Lymphocytes \u2192 NK subsets) but miss the KIR hierarchy\n- Worst runs (1, 6) have reversed Singlets/Lymphocytes order\n- All runs fail to capture the species-specific KIR nomenclature (Mamu-KIR3DL01)\n\nMEDIAN_QUALITY: 3\nCONSISTENCY: 1\nWORST_CASE: 2\nBEST_CASE: 4\nFAILURE_MODES: missing Mamu-KIR3DL01 bifurcation structure, KIR gates as parallel not hierarchical, missing Live cells gate, inconsistent Singlets/Lymphocytes ordering, CD56bright/dim substitution for CD56+/- nomenclature\nRELIABILITY: low - The model fails to recognize species-specific KIR nomenclature and never produces the correct hierarchical KIR bifurcation pattern central to this macaque NK panel.\nSUMMARY: The model understands basic NK gating concepts but fails completely on the macaque-specific KIR hierarchy that defines this panel, with zero consistency across runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.9,
      "consistency_score": 0.0,
      "unique_gate_sets": 9,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1730,
      "timestamp": "2026-01-13T03:35:13.439381",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "Looking at these predictions, I can see a fundamental problem: **the model is not receiving the panel information** and is instead outputting requests for what it needs to make predictions.\n\nEvery single \"prediction\" is actually the model describing what input it requires:\n- \"The list of markers in the panel\"\n- \"Marker list with their fluorophores/channels\"\n- \"Refuse - cannot predict without...\"\n\nRun 4 explicitly states: \"I need to see the panel information to predict a gating hierarchy. The panel markers section appears to be empty in your message.\"\n\nThis is a **prompt/input failure**, not a model reasoning failure. The model never saw the OMIP-095 panel markers (which should include markers like CD45, CD3, CD4, CD8, NK1.1, B220, CD11b, CD11c, etc. for a 40-color spectral panel on mouse tissues).\n\n**MEDIAN_QUALITY: 0** (predictions are meta-responses about needed input, not actual gating hierarchies)\n**CONSISTENCY: 2** (consistently fails the same way - asking for input - but with varied phrasing)\n**WORST_CASE: 0** (no run produced a valid gating hierarchy)\n**BEST_CASE: 0** (even the \"best\" runs just list what input is needed)\n**FAILURE_MODES: prompt injection failure, panel data not transmitted to model, meta-response instead of prediction, model requesting input rather than predicting\n**RELIABILITY: low** This is a pipeline bug where panel markers are not being included in the prompt, making evaluation impossible.\n**SUMMARY: Complete task failure due to missing panel data in prompts - the model correctly identifies it lacks the necessary input to predict a gating hierarchy, so these runs cannot evaluate the model's actual gating prediction capability.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2591,
      "timestamp": "2026-01-13T03:35:42.837182",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.2,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "plasmablast omission (10/10), Tfh hallucination (9/10), inconsistent gate naming, structural order errors (2/10), germinal center B cell hallucination (4/10)",
      "reliability": "low - While the model understands murine immunophenotyping concepts, it produces inconsistent hierarchies and systematically hallucinates Tfh populations while missing plasmablasts, making it unreliable for reproducible gating strategy generation.",
      "summary": "Model demonstrates domain knowledge of murine lymphocyte populations but suffers from poor run-to-run consistency, systematic population hallucinations (Tfh), and consistent omissions (plasmablasts), producing variable outputs unsuitable for standardized gating workflows.",
      "raw_response": "Looking at this evaluation task, I need to compare the model's 10 predictions against the ground truth hierarchy for OMIP-076 (murine splenocyte immunophenotyping).\n\n**Ground Truth Key Features:**\n- Standard gating: All Events > Singlets > Live cells > Lymphocytes\n- B cell branch: B cells > Plasma cells, Plasmablasts, Activated B cells, Memory B cells\n- T cell branch: T cells > Naive, Effector memory, Central memory, Regulatory T cells > ICOS+ Treg\n\n**Analysis of Predictions:**\n\n**Structural Issues:**\n- **Run 1 & 10**: Incorrect order - \"Lymphocytes > Singlets\" instead of \"Singlets > Lymphocytes\" (singlets should come first)\n- Most runs correctly get: Singlets > Live cells > [CD45+/Leukocytes]\n- Ground truth uses \"Lymphocytes\" after Live cells; predictions vary between CD45+, Leukocytes, or both\n\n**Population Coverage (Strengths):**\n- All runs identify core populations: T cells, B cells, plasma cells, memory T cells, Tregs\n- Central/effector memory T cell distinction present in most runs\n- B cell subsets (naive, memory, activated) captured\n\n**Population Coverage (Gaps):**\n- **Plasmablasts**: Missing from all 10 runs - a consistent failure\n- Ground truth has simple \"T cells\" branch; predictions add \"CD4+ T cells\" intermediate (technically correct but adds depth)\n- Tfh cells appear in predictions but not in ground truth hierarchy shown\n- Germinal center B cells appear in several predictions but not in ground truth\n\n**Hallucinations/Extras:**\n- Tfh cells (CXCR5+, PD-1+, ICOS+ Tfh) - appears in ~9/10 runs but not in ground truth\n- Germinal center B cells - appears in ~4/10 runs\n- PD-L2+ B cells (Run 9) - extra subset\n\n**Consistency Issues:**\n- 10 unique gate sets (0.00 consistency score) confirms high variability\n- Gate naming varies wildly: \"Tregs\" vs \"CD25+ Foxp3+ Tregs\" vs \"Regulatory T cells\"\n- B cell hierarchy varies: some have B220+ as intermediate, others don't\n\nMEDIAN_QUALITY: 6 (captures most major populations correctly, reasonable structure, but consistent plasmablast omission and Tfh hallucination)\nCONSISTENCY: 2 (10 unique outputs, variable naming conventions, structural variations between runs)\nWORST_CASE: 4 (Runs 1 & 10 have inverted Singlets/Lymphocytes order - fundamental gating error)\nBEST_CASE: 7 (Runs 4, 7 have correct structure, good population coverage, though still missing plasmablasts)\nFAILURE_MODES: plasmablast omission (10/10), Tfh hallucination (9/10), inconsistent gate naming, structural order errors (2/10), germinal center B cell hallucination (4/10)\nRELIABILITY: low - While the model understands murine immunophenotyping concepts, it produces inconsistent hierarchies and systematically hallucinates Tfh populations while missing plasmablasts, making it unreliable for reproducible gating strategy generation.\nSUMMARY: Model demonstrates domain knowledge of murine lymphocyte populations but suffers from poor run-to-run consistency, systematic population hallucinations (Tfh), and consistent omissions (plasmablasts), producing variable outputs unsuitable for standardized gating workflows.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.2222222222222222,
      "unique_gate_sets": 8,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1334,
      "timestamp": "2026-01-13T03:36:08.080994",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.3,
      "worst_case": 0.1,
      "best_case": 0.6,
      "failure_modes": "missing T cells intermediate gate, missing Live cells gate, inconsistent gate ordering, hallucinated DN/DP populations, structural variance",
      "reliability": "low The model cannot reliably reproduce the standard gating hierarchy even for a simple T cell panel, with critical intermediate gates systematically omitted.",
      "summary": "Model correctly identifies terminal CD4+/CD8+ populations but fails to construct the proper hierarchical gating structure, consistently omitting the T cells intermediate gate and showing high run-to-run variance in gate ordering.",
      "raw_response": "Looking at these 10 runs, I'll evaluate the model's performance systematically.\n\n**Key Observations:**\n\n1. **Missing Critical Gates**: The ground truth requires \"Live cells\" and \"T cells\" as intermediate gates. Most runs (8/10) omit \"Live cells\", and ALL runs omit the \"T cells\" gate, jumping directly to CD4+/CD8+ T cells.\n\n2. **Gate Order Inconsistency**: \n   - Runs 1,2,4,5,8,9: Singlets > Lymphocytes > CD4/CD8 (missing Live cells, T cells)\n   - Run 3: Catastrophic - jumps directly from All Events to CD4/CD8\n   - Run 6: Wrong order - Live cells placed UNDER Lymphocytes\n   - Run 7: Correct order (Singlets > Live cells > Lymphocytes)\n   - Run 10: Missing Singlets entirely\n\n3. **Hallucinated Populations**: 7/10 runs include Double Negative (DN) and/or Double Positive (DP) populations not in the ground truth - these are reasonable but not requested.\n\n4. **Best Run**: Run 7 has the correct gate order (Singlets > Live cells > Lymphocytes) but still misses the T cells intermediate gate.\n\n5. **Worst Run**: Run 3 is catastrophically wrong, skipping all intermediate gating steps.\n\n**Scoring Rationale:**\n- The model consistently identifies CD4+ and CD8+ T cells (correct endpoints)\n- Structure is wrong in nearly all runs due to missing T cells gate\n- High variance in intermediate gating steps\n- Only 1/10 runs gets the Live cells position correct\n\nMEDIAN_QUALITY: 4 (identifies correct terminal populations but consistently missing T cells gate and usually missing Live cells)\nCONSISTENCY: 3 (8 unique gate sets out of 10 runs, high structural variance in intermediate gates)\nWORST_CASE: 1 (Run 3 skips all intermediate gates, essentially useless for actual flow cytometry)\nBEST_CASE: 6 (Run 7 has correct gate order but still missing T cells intermediate)\nFAILURE_MODES: missing T cells intermediate gate, missing Live cells gate, inconsistent gate ordering, hallucinated DN/DP populations, structural variance\nRELIABILITY: low The model cannot reliably reproduce the standard gating hierarchy even for a simple T cell panel, with critical intermediate gates systematically omitted.\nSUMMARY: Model correctly identifies terminal CD4+/CD8+ populations but fails to construct the proper hierarchical gating structure, consistently omitting the T cells intermediate gate and showing high run-to-run variance in gate ordering.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2291,
      "timestamp": "2026-01-13T03:36:35.911093",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "missing Live cells gate, missing Marginal Zone B cells, inconsistent hierarchy depth, variable intermediate gating nodes, naming inconsistency for DC subsets",
      "reliability": "medium The model reliably identifies major leukocyte populations but produces structurally inconsistent hierarchies that would require manual correction for practical use.",
      "summary": "Claude Sonnet correctly identifies all major leukocyte populations but shows poor structural consistency across runs, with variable hierarchy depth and intermediate gating strategies that diverge from the expected pan-leukocyte gating template.",
      "raw_response": "Looking at these 10 predictions against the ground truth for OMIP-077 (pan-leukocyte immunophenotyping panel), I'll evaluate the model's performance.\n\n**Key observations:**\n\n1. **Core populations consistently identified**: All runs correctly identify T cells, B cells, NK cells, classical/intermediate/non-classical monocytes, and dendritic cell subsets (pDC, cDC1/mDC1, cDC2/mDC2).\n\n2. **Structural variations**: The main inconsistency is in hierarchical organization:\n   - Some runs use \"Lymphocytes\" as intermediate node (runs 2-5, 9)\n   - Some use lineage-negative gating for myeloid (runs 1, 6, 8)\n   - Some use SSC-based separation (run 5)\n   - Run 7 uniquely includes Live cells gate matching ground truth\n\n3. **Missing from ground truth alignment**:\n   - Most runs omit explicit \"Live cells\" gate (only runs 7, 9 include it)\n   - NK-T cells only explicitly identified in run 7\n   - Marginal Zone B cells never identified\n   - Plasma cells identified in runs 4, 7 only\n\n4. **Naming variations**: Same populations use different names (e.g., \"CD1c+ mDC2\" vs \"CD1c+ cDC2\" vs \"cDC2\")\n\n5. **Structural depth differences**: Ground truth has 5-6 levels; predictions range from 4 levels (run 10) to 8 levels (runs 1, 7, 8)\n\n**Quality assessment per run:**\n- Runs 3, 4, 9: Best alignment with ground truth structure\n- Run 7: Most complete (includes Live cells, NKT, plasma cells)\n- Runs 1, 6, 8: Over-complicated myeloid gating with unnecessary intermediate gates\n- Run 10: Too shallow, missing key intermediate gates\n\nMEDIAN_QUALITY: 6 (correctly identifies major populations but with structural deviations from ground truth)\nCONSISTENCY: 3 (significant variation in hierarchy depth and intermediate gate organization across runs)\nWORST_CASE: 4 (run 10 too shallow; runs 1,6,8 over-engineered myeloid strategy)\nBEST_CASE: 7 (run 7 includes Live cells, NKT, plasma cells with reasonable structure)\nFAILURE_MODES: missing Live cells gate, missing Marginal Zone B cells, inconsistent hierarchy depth, variable intermediate gating nodes, naming inconsistency for DC subsets\nRELIABILITY: medium The model reliably identifies major leukocyte populations but produces structurally inconsistent hierarchies that would require manual correction for practical use.\nSUMMARY: Claude Sonnet correctly identifies all major leukocyte populations but shows poor structural consistency across runs, with variable hierarchy depth and intermediate gating strategies that diverge from the expected pan-leukocyte gating template.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.11111111111111116,
      "unique_gate_sets": 9,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1142,
      "timestamp": "2026-01-13T03:37:01.626686",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.2,
      "worst_case": 0.3,
      "best_case": 0.8,
      "failure_modes": "omitting Live cells gate (6/10), missing FoxP3- branch (4/10), incorrect gate ordering (2/10), hallucinated gates (2/10)",
      "reliability": "low The model produces highly variable outputs with only 1/10 runs fully matching the expected structure, making it unreliable for this task.",
      "summary": "While the model understands the general gating concept (singlets \u2192 lymphocytes \u2192 CD4 \u2192 FoxP3 subsets), it inconsistently applies critical gates like Live cells and frequently omits the complete hierarchy, with almost every run producing a different structure.",
      "raw_response": "Looking at the predictions across 10 runs against the ground truth:\n\n**Ground Truth Structure:**\n- All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3+ Treg\n- All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3- non-Treg\n\n**Analysis:**\n\n1. **Live cells gate:** Only 4/10 runs include it (Runs 2, 6, 7, 8). This is a critical gate that's frequently omitted.\n\n2. **Lymphocytes gate:** Present in most runs, but positioned incorrectly in Runs 7 and 8 (before Singlets instead of after).\n\n3. **Both branches (FoxP3+ and FoxP3-):** Only 6/10 runs capture both terminal populations. Runs 1, 4, 7, 10 miss the FoxP3- branch entirely.\n\n4. **Gate ordering errors:** Runs 7, 8 have Lymphocytes before Singlets (incorrect). Run 6 adds an extraneous \"Cells\" gate.\n\n5. **Best prediction:** Run 2 - captures all gates including Live cells, both branches, with only minor naming variations (CD4+FoxP3+ vs FoxP3+).\n\n6. **Worst prediction:** Run 7 - wrong gate order (Lymphocytes > Singlets), missing Live cells, missing FoxP3- branch.\n\n7. **Hallucinations:** Run 6 adds \"Cells\" and \"CD3+ T cells\" gates not in ground truth. Run 3 adds \"CD4-\" branch.\n\n---\n\nMEDIAN_QUALITY: 5 (typically captures core structure but misses Live cells gate and sometimes the FoxP3- branch)\nCONSISTENCY: 2 (9 unique gate sets across 10 runs shows very poor reproducibility)\nWORST_CASE: 3 (Run 7 has wrong gate ordering and missing branches)\nBEST_CASE: 8 (Run 2 captures full hierarchy with both branches, only minor naming differences)\nFAILURE_MODES: omitting Live cells gate (6/10), missing FoxP3- branch (4/10), incorrect gate ordering (2/10), hallucinated gates (2/10)\nRELIABILITY: low The model produces highly variable outputs with only 1/10 runs fully matching the expected structure, making it unreliable for this task.\nSUMMARY: While the model understands the general gating concept (singlets \u2192 lymphocytes \u2192 CD4 \u2192 FoxP3 subsets), it inconsistently applies critical gates like Live cells and frequently omits the complete hierarchy, with almost every run producing a different structure.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2232,
      "timestamp": "2026-01-13T03:37:30.728326",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.2,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "missing Time Gate, inconsistent gate ordering (Lymphocytes vs Singlets), variable granularity, inconsistent dump gate inclusion",
      "reliability": "low The model produces scientifically plausible hierarchies but cannot reliably reproduce consistent structure across runs.",
      "summary": "Claude Sonnet understands the biological content (T cell memory and function) but exhibits high structural variability, missing the Time Gate consistently and showing unstable early gate ordering across runs.",
      "raw_response": "Looking at the predictions across 10 runs compared to the expected hierarchy:\n\n**Expected Structure:**\n- All Events > Time Gate > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ > Memory Subsets + Functional Analysis\n\n**Observed Patterns Across Runs:**\n\n1. **Gate ordering inconsistency**: The model shows significant variation in early gate ordering:\n   - Runs 2,4,7: Lymphocytes > Singlets (incorrect - singlets should come first)\n   - Runs 1,3,5,6,8,9,10: Singlets before Lymphocytes (more correct)\n\n2. **Missing Time Gate**: None of the 10 runs include the Time Gate, which is in the ground truth\n\n3. **Missing Lymphocytes gate in some runs**: Runs 1,5,9,10 skip from Live cells directly to CD3+ T cells\n\n4. **CD14-CD19- dump gate**: Runs 1,6,7,9 include this monocyte/B-cell exclusion gate, which isn't in ground truth but is scientifically reasonable\n\n5. **Granularity variation**: \n   - Runs 2,5,7,10: Very detailed with cytokine gates under each memory subset (44+ gates)\n   - Runs 3,6,9: Minimal with just memory subsets (8-10 gates)\n   - Runs 1,4,8: Intermediate detail\n\n6. **Core content is correct**: All runs correctly identify:\n   - CD4+ and CD8+ T cell branching\n   - Memory subsets (Naive, Central Memory, Effector Memory, TEMRA)\n   - Functional markers (IFN-\u03b3, IL-2, TNF, CD154)\n\n7. **Structural accuracy**: The nesting of functional analysis under memory subsets vs as siblings varies significantly between runs\n\nMEDIAN_QUALITY: 6 (captures core biology but ordering and granularity inconsistent)\nCONSISTENCY: 2 (10 unique hierarchies, highly variable gate ordering and depth)\nWORST_CASE: 4 (runs with inverted Lymphocytes>Singlets ordering)\nBEST_CASE: 7 (runs 5,10 with correct ordering and comprehensive functional analysis)\nFAILURE_MODES: missing Time Gate, inconsistent gate ordering (Lymphocytes vs Singlets), variable granularity, inconsistent dump gate inclusion\nRELIABILITY: low The model produces scientifically plausible hierarchies but cannot reliably reproduce consistent structure across runs.\nSUMMARY: Claude Sonnet understands the biological content (T cell memory and function) but exhibits high structural variability, missing the Time Gate consistently and showing unstable early gate ordering across runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2646,
      "timestamp": "2026-01-13T03:38:04.010929",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing Time gate, missing Non-beads gate, missing Non-aggregates gate, incomplete myeloid branch, missing HLA-DR+ gating logic, missing monocyte subset detail, inconsistent Live cell inclusion, variable gate naming",
      "reliability": "medium (Model reliably identifies terminal lymphocyte populations but cannot be trusted for the critical early gating hierarchy or myeloid compartment structure that OMIP-101 specifically requires)",
      "summary": "The model demonstrates good knowledge of lymphocyte subset markers but systematically fails to reproduce the distinctive OMIP-101 quality control gates (Time, Non-beads, Non-aggregates) and underspecifies the myeloid compartment, suggesting reliance on generic immunophenotyping templates rather than paper-specific reasoning.",
      "raw_response": "Looking at these 10 independent predictions against the ground truth for OMIP-101 (27-color whole blood leukocyte immunophenotyping):\n\n**Key Observations:**\n\n1. **Major structural deviation**: The ground truth uses a distinctive hierarchy with \"Time gate > Singlets > Non-beads > Leukocytes > Non-aggregates > Non-granulocytes\" as the backbone, then splits into Myeloid/Lymphoid branches. The model consistently skips Time gate, Non-beads, Non-aggregates, and often Non-granulocytes.\n\n2. **Missing myeloid detail**: Ground truth has detailed monocyte subsets (Classical/Intermediate/Non-classical) and mDCs under \"HLA-DR+ myeloid > Non-T/B/NK contamination\". The model predictions focus heavily on T-cell subsets but largely omit the myeloid branch architecture.\n\n3. **Correct elements**: The model reliably identifies T-cell memory subsets (Naive, Central Memory, Effector Memory, EMRA), \u03b3\u03b4 T cells (V\u03b42+/-), MAIT cells, NK cell subsets, and B cell populations - these match ground truth populations.\n\n4. **Variable early gates**: Live cell gate appears inconsistently (Runs 2,4,6,7,10 include it; others don't). CD66- (granulocyte exclusion) appears in only 2 runs.\n\n5. **Naming inconsistency**: Same populations named differently across runs (e.g., \"Naive CD4 T cells\" vs \"CD4+ Naive\" vs \"CD4 Naive\" vs \"CD4+ Na\u00efve\").\n\n6. **Terminal populations largely correct**: Despite structural differences, most leaf populations (final cell types) are biologically appropriate for the panel.\n\nMEDIAN_QUALITY: 5 (captures major lymphocyte populations correctly but misses critical early gating structure and myeloid branch detail)\nCONSISTENCY: 3 (10 unique gate sets with variable early gates, inconsistent naming, and fluctuating depth)\nWORST_CASE: 4 (Run 3/5 - shortest hierarchies missing Live gate and granulocyte exclusion)\nBEST_CASE: 6 (Runs 1-2 - include CD66- exclusion and more complete structure)\nFAILURE_MODES: missing Time gate, missing Non-beads gate, missing Non-aggregates gate, incomplete myeloid branch, missing HLA-DR+ gating logic, missing monocyte subset detail, inconsistent Live cell inclusion, variable gate naming\nRELIABILITY: medium (Model reliably identifies terminal lymphocyte populations but cannot be trusted for the critical early gating hierarchy or myeloid compartment structure that OMIP-101 specifically requires)\nSUMMARY: The model demonstrates good knowledge of lymphocyte subset markers but systematically fails to reproduce the distinctive OMIP-101 quality control gates (Time, Non-beads, Non-aggregates) and underspecifies the myeloid compartment, suggesting reliance on generic immunophenotyping templates rather than paper-specific reasoning.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2357,
      "timestamp": "2026-01-13T03:38:33.886851",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.3,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "Missing Time gate, missing Lymphocytes gate, omits IgE+ population, inconsistent memory phenotype naming (RM/AM/TLM vs CD27-based), variable structural organization",
      "reliability": "low The model understands B cell biology but produces structurally inconsistent hierarchies and systematically omits specific gates from the ground truth.",
      "summary": "Model demonstrates solid understanding of B cell isotype phenotyping but fails to reproduce the exact ground truth hierarchy consistently, with high structural variability across runs and systematic omission of Time gate, Lymphocytes gate, and specific memory subtypes (RM, AM, TLM).",
      "raw_response": "Looking at the 10 runs against the ground truth, I'll evaluate the model's performance:\n\n**Key Observations:**\n\n1. **Consistent strengths across all runs:**\n   - All runs correctly identify the core hierarchy: All Events > Singlets > Live cells > B cells\n   - All runs correctly capture IgG subclasses (IgG1, IgG2, IgG3, IgG4) and IgA subclasses (IgA1, IgA2)\n   - Class-switched B cell concept is consistently represented\n\n2. **Consistent deviations from ground truth:**\n   - **Missing gates:** All runs omit \"Time gate\" and \"Lymphocytes\" gates that appear in ground truth between Singlets and Live cells\n   - **Memory classification differs:** Ground truth uses specific memory subtypes (RM, AM, TLM) which model replaces with CD27-based or IgD-based memory classifications\n   - **IgE omitted:** None of the runs predict IgE+ B cells (present in ground truth)\n\n3. **Run-to-run variation:**\n   - Structural organization varies (some use IgD+/IgD- split, others use Naive/Memory split)\n   - Naming conventions differ (IgG1+ vs IgG1+ B cells)\n   - Run 7 adds Kappa/Lambda light chain detail not in ground truth\n   - Run 10 adds CD27+ memory/CD27- naive subdivisions at deeper levels\n\n4. **Biological validity:** The predictions are biologically reasonable alternative gating strategies for B cell isotype panels, even when differing from the specific ground truth hierarchy.\n\nMEDIAN_QUALITY: 6 (captures core B cell subtyping and isotype hierarchy correctly, but misses specific memory phenotypes and Time/Lymphocyte gates)\nCONSISTENCY: 3 (same core gates but highly variable structure and naming; 10 unique hierarchies indicates poor structural consistency)\nWORST_CASE: 5 (all runs capture essential elements; worst cases just have different organizational schemes)\nBEST_CASE: 7 (runs 4, 9 come closest to ground truth organization with class-switched memory structure)\nFAILURE_MODES: Missing Time gate, missing Lymphocytes gate, omits IgE+ population, inconsistent memory phenotype naming (RM/AM/TLM vs CD27-based), variable structural organization\nRELIABILITY: low The model understands B cell biology but produces structurally inconsistent hierarchies and systematically omits specific gates from the ground truth.\nSUMMARY: Model demonstrates solid understanding of B cell isotype phenotyping but fails to reproduce the exact ground truth hierarchy consistently, with high structural variability across runs and systematic omission of Time gate, Lymphocytes gate, and specific memory subtypes (RM, AM, TLM).",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2553,
      "timestamp": "2026-01-13T03:39:01.839724",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "Looking at these 10 predictions against the ground truth for OMIP-087 (a CyTOF panel for CD4/CD8 memory subsets), I'll analyze the model's performance.\n\n**Key Observations:**\n\n1. **Correct core structure**: All runs correctly identify the main hierarchy: All Events \u2192 CD45+ \u2192 CD3+ \u2192 CD4+ T cells with memory subsets (Naive, Central Memory, Effector Memory, TEMRA)\n\n2. **Missing ground truth populations**: The ground truth includes \"Stem cell memory\" and \"Transitional memory\" which are **never predicted** across any run. The model consistently predicts Th1/Th2/Th17/Tfh/Treg functional subsets instead.\n\n3. **Inconsistent intermediate gates**: \n   - Some runs add \"TCRgd-\" gate (Runs 1,3,4,6,7,8,9)\n   - Some add \"Live cells\" (Run 2)\n   - Some add \"Lineage negative\" (Runs 3,9)\n   - Run 5 adds \"Cells\" intermediate gate\n\n4. **Variable naming conventions**: Gate names vary significantly (e.g., \"Naive CD4\" vs \"CD4+ Naive (CD45RA+ CCR7+)\" vs \"Naive (CD45RA+ CCR7+)\")\n\n5. **Functionally reasonable**: The predicted hierarchies are biologically valid gating strategies for this panel, but they diverge from the specific ground truth structure which focuses on memory differentiation states rather than Th subsets.\n\n6. **Hallucinations**: Several runs add RTE (Recent Thymic Emigrants) with CD31 gating (Runs 4, 10) - this marker isn't in the panel description.\n\n**MEDIAN_QUALITY: 5** (captures main populations but systematically misses stem cell memory/transitional memory, over-predicts Th subsets)\n\n**CONSISTENCY: 3** (zero identical predictions across runs; intermediate gates and naming vary substantially)\n\n**WORST_CASE: 4** (Run 3 with excessive lineage dump gate adds unnecessary complexity; runs with hallucinated CD31/RTE gates)\n\n**BEST_CASE: 6** (Run 5 is cleanest structure, closest to ground truth format, though still missing key populations)\n\n**FAILURE_MODES: missing_stem_cell_memory, missing_transitional_memory, inconsistent_intermediate_gates, variable_gate_naming, hallucinated_RTE_gates, over_predicting_Th_subsets\n\n**RELIABILITY: low** The model produces biologically plausible but structurally inconsistent hierarchies that systematically miss specific memory subset populations defined in the ground truth.\n\n**SUMMARY: The model demonstrates domain knowledge but fails to reproduce the specific ground truth hierarchy, consistently substituting Th functional subsets for the expected memory differentiation stages while showing high variability in intermediate gating structure.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2260,
      "timestamp": "2026-01-13T03:39:31.365923",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.3,
      "best_case": 0.7,
      "failure_modes": "inconsistent intermediate gate naming, missing MAIT cells in 80% of runs, missing \u03b3\u03b4 T cells in 80% of runs, over-elaboration of NK subsets beyond ground truth",
      "reliability": "low - Model produces scientifically plausible but highly variable hierarchies; critical T cell populations (MAIT, \u03b3\u03b4) are missed in most runs",
      "summary": "The model demonstrates domain knowledge of NK/ILC biology but exhibits poor consistency and frequently omits the T cell populations (MAIT, \u03b3\u03b4) that are central to this OMIP's purpose.",
      "raw_response": "Looking at the predictions across 10 runs compared to the ground truth, I'll evaluate systematically.\n\n**Ground Truth Analysis:**\nThe expected hierarchy focuses on:\n- T cells \u2192 MAIT cells, \u03b3\u03b4 T cells\n- Innate Lymphoid Cells \u2192 NK cells (with Activated NK subset), Other ILC subsets\n\n**Prediction Analysis:**\n\n**Strengths across runs:**\n- All 10 runs correctly identify the core structure: All Events > Singlets > Live cells > Lymphocytes\n- NK cell identification is consistent (present in all runs with appropriate CD56bright/CD56dim subsetting)\n- ILC identification appears in most runs (ILC1, ILC2, ILC3 subsets)\n- \u03b3\u03b4 T cells and MAIT cells appear in runs 2 and 10\n\n**Weaknesses:**\n1. **Inconsistent intermediate gating**: Runs vary between \"Lineage negative\", \"CD3-CD19-\", \"CD3- cells > CD19- cells\", \"CD45+ leukocytes\"\n2. **Missing expected gates**: Only 2/10 runs (Run 2, Run 10) include MAIT and \u03b3\u03b4 T cells - these are critical populations for OMIP-064\n3. **Over-specification**: Many runs add excessive detail (NKG2A+, NKG2C+, CD57+, V\u03b42+/V\u03b42-) not in the ground truth\n4. **Structural variance**: The parent of NK/ILC populations varies significantly across runs\n5. **Ground truth alignment**: The expected \"Activated NK cells\" and \"Other ILC subsets\" naming is never matched - model uses more specific ILC1/2/3 nomenclature\n\n**Critical issue:** The ground truth shows a relatively simple hierarchy, but the model consistently produces more elaborate structures. While scientifically reasonable, this deviates from the expected output format.\n\nMEDIAN_QUALITY: 5 (captures main populations but misses T cell subsets in most runs, over-elaborates NK/ILC gating)\nCONSISTENCY: 3 (10 unique gate sets out of 10 runs, high structural variance in intermediate gates)\nWORST_CASE: 3 (runs missing both MAIT and \u03b3\u03b4 T cells entirely, like runs 1, 3, 4, 6, 7, 8, 9)\nBEST_CASE: 7 (runs 2 and 10 include MAIT and \u03b3\u03b4 T cells, proper T cell branching)\nFAILURE_MODES: inconsistent intermediate gate naming, missing MAIT cells in 80% of runs, missing \u03b3\u03b4 T cells in 80% of runs, over-elaboration of NK subsets beyond ground truth\nRELIABILITY: low - Model produces scientifically plausible but highly variable hierarchies; critical T cell populations (MAIT, \u03b3\u03b4) are missed in most runs\nSUMMARY: The model demonstrates domain knowledge of NK/ILC biology but exhibits poor consistency and frequently omits the T cell populations (MAIT, \u03b3\u03b4) that are central to this OMIP's purpose.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.11111111111111116,
      "unique_gate_sets": 9,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2386,
      "timestamp": "2026-01-13T03:40:00.004658",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "Looking at these 10 runs, I'll evaluate the model's performance against the expected hierarchy.\n\n**Key Observations:**\n\n1. **Core structure is consistently correct**: All runs correctly identify the fundamental hierarchy: All Events \u2192 Singlets \u2192 Live cells \u2192 (some intermediate) \u2192 CD3+ T cells \u2192 CD4+/CD8+ branching\n\n2. **Consistent strengths across runs**:\n   - Memory subset identification (Naive, Central Memory, Effector Memory, TEMRA) - present in all 10 runs\n   - TFH-like cells (CXCR5+ PD1+) - correctly identified in all 10 runs\n   - Functional markers (IFN-\u03b3, IL-2, TNF-\u03b1) - present in most runs\n\n3. **Structural inconsistencies**:\n   - **Lymphocyte gate**: Present in 6/10 runs, missing in 4 (runs 3, 4, 7, 9)\n   - **Dump channel (CD14- CD19-)**: Included as explicit gate in 6/10 runs, varies in placement\n   - **NK cells**: Only explicitly mentioned in runs 1, 2, 5 - underrepresented vs ground truth\n\n4. **Granularity mismatch**: Ground truth uses abstract groupings (\"CD4+ Memory subsets\", \"CD4+ Functional subsets\") while model predicts specific populations (Naive, CM, EM, TEMRA, IFN-\u03b3+). This is actually **more detailed** than ground truth but structurally different.\n\n5. **Missing from most predictions**: \n   - NK cells are underrepresented (only ~30% of runs)\n   - The ground truth's abstract \"functional subsets\" grouping is expanded into individual cytokine gates\n\n**MEDIAN_QUALITY: 7** (correctly identifies major populations with appropriate markers, but structural organization varies)\n\n**CONSISTENCY: 4** (9 unique gate sets out of 10 runs; intermediate gates vary significantly)\n\n**WORST_CASE: 5** (Run 3 is shortest with only 9 gates, missing Lymphocyte gate and NK cells entirely)\n\n**BEST_CASE: 8** (Runs 1, 2, 6, 10 capture T cell subsets comprehensively with correct memory/functional breakdown)\n\n**FAILURE_MODES:** inconsistent dump channel placement, variable Lymphocyte gate inclusion, NK cells frequently omitted, over-granular functional subsets vs ground truth abstraction\n\n**RELIABILITY: medium** The model reliably identifies core T cell populations and memory subsets but produces structurally inconsistent hierarchies across runs, particularly for intermediate gating steps and NK cells.\n\n**SUMMARY:** Claude Sonnet demonstrates strong domain knowledge of T cell immunophenotyping with correct memory subset and TFH identification, but exhibits significant run-to-run variability in hierarchy structure and consistently underrepresents NK cell gating.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2551,
      "timestamp": "2026-01-13T03:40:27.675476",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.2,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "over-specification with functional marker sub-gates, inconsistent SLAN- detection, variable intermediate gate inclusion (CD66b/CD42b/HLA-DR), structural mismatch with ground truth nomenclature",
      "reliability": "low Model produces biologically reasonable but structurally inconsistent hierarchies that rarely match ground truth organization.",
      "summary": "Claude Sonnet reliably identifies the three canonical monocyte subsets but exhibits high variance in hierarchy structure and consistently over-elaborates with marker expression sub-gates not present in ground truth.",
      "raw_response": "Looking at these 10 predictions against the ground truth, I'll evaluate systematically.\n\n**Ground Truth Structure:**\n- Simple hierarchy: All Events > Cleaned Events > Leukocytes > Non-granulocytes > Monocytes > [3 branches]\n- Key populations: Classical Monocytes, Intermediate Monocytes, SLAN+ Nonclassical, SLAN- Nonclassical\n- Uses \"Cleaned Events\" and \"Non-granulocytes\" as intermediate gates\n\n**Prediction Analysis:**\n\nAll 10 runs correctly identify the core monocyte subsets (Classical, Intermediate, Non-classical) and most include SLAN stratification. However:\n\n1. **Structural divergence**: Predictions use \"Singlets > Live cells > CD45+\" pathway vs ground truth's \"Cleaned Events > Leukocytes > Non-granulocytes\" - semantically equivalent but structurally different\n2. **Over-specification**: Predictions add marker expressions as sub-gates (CCR2+, CX3CR1+, CD64+, CD86+, TLR2+, CD36+) that aren't in ground truth\n3. **Missing SLAN- stratification**: Only Runs 6, 9 include both SLAN+ and SLAN- nonclassical; others omit SLAN-\n4. **Variable depth**: Runs range from 7-10 levels deep; ground truth is 6 levels\n5. **Inconsistent intermediate gates**: CD66b-, CD42b-, Lineage- appear variably across runs\n\n**Core gate detection:**\n- Classical Monocytes: 10/10 \u2713\n- Intermediate Monocytes: 10/10 \u2713\n- Non-classical Monocytes: 10/10 \u2713\n- SLAN+ Nonclassical: 8/10 \u2713\n- SLAN- Nonclassical: 2/10 \u2717\n\nMEDIAN_QUALITY: 6 (correctly identifies main populations but over-elaborates with marker sub-gates not in ground truth)\nCONSISTENCY: 2 (10 unique gate sets; variable depth, inconsistent intermediate gates, different marker sub-populations)\nWORST_CASE: 4 (Run 1 omits live/dead, heavily over-specified with functional marker sub-gates)\nBEST_CASE: 7 (Run 6 cleanest structure, includes both SLAN+/- without excessive sub-gates)\nFAILURE_MODES: over-specification with functional marker sub-gates, inconsistent SLAN- detection, variable intermediate gate inclusion (CD66b/CD42b/HLA-DR), structural mismatch with ground truth nomenclature\nRELIABILITY: low Model produces biologically reasonable but structurally inconsistent hierarchies that rarely match ground truth organization.\nSUMMARY: Claude Sonnet reliably identifies the three canonical monocyte subsets but exhibits high variance in hierarchy structure and consistently over-elaborates with marker expression sub-gates not present in ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.2222222222222222,
      "unique_gate_sets": 8,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1982,
      "timestamp": "2026-01-13T03:40:55.807000",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.3,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "wrong NK subset bifurcation scheme, missing Mamu- prefix, KIR gates as independent rather than combinatorial quadrants, inconsistent critical gate inclusion, CD56bright/dim terminology instead of simple +/- notation",
      "reliability": "low The model shows consistent conceptual understanding of NK biology but fails to match the specific experimental design of this macaque KIR functional panel.",
      "summary": "Model demonstrates general NK cell biology knowledge but systematically misinterprets the panel's specific design for macaque KIR receptor combinatorial analysis, substituting human-centric CD56bright/dim organization for the expected Mamu-KIR-based hierarchy.",
      "raw_response": "Looking at the 10 runs against the expected hierarchy for OMIP-035 (macaque NK cell functional analysis):\n\n**Key Observations:**\n\n1. **Core structure generally correct**: Most runs capture All Events > Singlets > Live cells > Lymphocytes > NK cells flow (with some variation in including \"Live cells\" or \"Lymphocytes\")\n\n2. **Critical error - wrong NK subset organization**: The ground truth uses:\n   - Direct CD16/CD56 combinations under NK cells (CD16+ CD56+, CD16+ CD56-, CD16- CD56+)\n   - Mamu-KIR3DL01+/- as the primary bifurcation for KIR analysis\n   \n   The model consistently predicts:\n   - CD56bright CD16- vs CD56dim CD16+ as the primary NK bifurcation\n   - KIR3DL01 and KIR3DL05 as separate single-positive gates (not the combinatorial Mamu-KIR3DL01+/- KIR3DL05+/- quadrants)\n\n3. **Missing \"Mamu-\" prefix**: All predictions drop the species-specific \"Mamu-\" prefix for KIR receptors, which is scientifically significant for macaque-specific reagents\n\n4. **Incomplete KIR combinatorics**: Only Run 5 attempts the full 4-way KIR combinatorial gates; others treat KIR3DL01 and KIR3DL05 as independent rather than combined gates\n\n5. **Variable inclusion of critical gates**: \"Live cells\" missing in Runs 4, 6, 10; \"Lymphocytes\" missing in Run 1, 7\n\nMEDIAN_QUALITY: 4 (captures NK biology concept but wrong hierarchy structure and missing KIR combinatorics)\nCONSISTENCY: 3 (8 unique gate sets from 10 runs; variable inclusion of Live cells/Lymphocytes)\nWORST_CASE: 3 (Run 1 missing Lymphocytes gate and has flat KIR structure)\nBEST_CASE: 5 (Run 5 attempts combinatorial KIR gates but still wrong primary CD16/CD56 organization)\nFAILURE_MODES: wrong NK subset bifurcation scheme, missing Mamu- prefix, KIR gates as independent rather than combinatorial quadrants, inconsistent critical gate inclusion, CD56bright/dim terminology instead of simple +/- notation\nRELIABILITY: low The model shows consistent conceptual understanding of NK biology but fails to match the specific experimental design of this macaque KIR functional panel.\nSUMMARY: Model demonstrates general NK cell biology knowledge but systematically misinterprets the panel's specific design for macaque KIR receptor combinatorial analysis, substituting human-centric CD56bright/dim organization for the expected Mamu-KIR-based hierarchy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.7,
      "consistency_score": 0.0,
      "unique_gate_sets": 7,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1598,
      "timestamp": "2026-01-13T03:41:22.236792",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.1,
      "worst_case": 0.0,
      "best_case": 0.2,
      "failure_modes": "panel data not received by model, task misunderstanding (describing panel structure instead of gating), incomplete hierarchy (stopped at leukocytes), parse failures",
      "reliability": "low This model systematically failed to receive or process the panel information, producing no usable gating predictions in any run.",
      "summary": "Complete benchmark failure - the model either didn't receive the panel data or fundamentally misunderstood the task, with 0/10 runs producing a valid gating hierarchy.",
      "raw_response": "Looking at these 10 runs, I can see a clear pattern of systematic failure rather than genuine prediction attempts.\n\n**Analysis of the predictions:**\n\n- **Runs 4, 6, 10 (30%)**: Explicit parse failures where the model correctly identified that the panel information was missing/empty and asked for clarification\n- **Runs 1, 2, 5, 7, 8, 9 (60%)**: The model appears to have been confused about the task - instead of predicting a gating hierarchy, it generated what looks like descriptions of what panel information should contain (marker lists, fluorophores, etc.)\n- **Run 3 (10%)**: Only one run produced anything resembling a valid gating hierarchy, and it stopped at just 4 levels (All Events > Singlets > Live cells > CD45+ Leukocytes) - missing all the downstream populations\n\n**Key observation**: The runs asking for panel information suggest the prompt may have been malformed or the panel data wasn't properly included. This is a **data/prompt delivery failure**, not a reasoning failure.\n\nThe one run (Run 3) that attempted a hierarchy only captured the initial quality gates and completely missed the 12+ downstream populations (T cells, B cells, NK cells, monocytes, macrophages, DCs, ILCs, etc.).\n\nMEDIAN_QUALITY: 0 (most predictions don't even attempt the task)\nCONSISTENCY: 1 (predictions are consistently wrong but in different ways)\nWORST_CASE: 0 (complete task failures asking for missing data)\nBEST_CASE: 2 (Run 3 got early gates but missed all population phenotyping)\nFAILURE_MODES: panel data not received by model, task misunderstanding (describing panel structure instead of gating), incomplete hierarchy (stopped at leukocytes), parse failures\nRELIABILITY: low This model systematically failed to receive or process the panel information, producing no usable gating predictions in any run.\nSUMMARY: Complete benchmark failure - the model either didn't receive the panel data or fundamentally misunderstood the task, with 0/10 runs producing a valid gating hierarchy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2670,
      "timestamp": "2026-01-13T03:41:51.862961",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "Missing Lymphocytes parent gate, incomplete B cell terminal populations (plasma cells/plasmablasts/memory), Tfh hallucination not in ground truth, inconsistent gate naming, CD45+ used instead of Lymphocytes",
      "reliability": "medium This model reliably predicts T cell subsets with correct marker logic but inconsistently handles B cell populations and adds Tfh cells not specified in ground truth.",
      "summary": "Model demonstrates sound immunological reasoning for T cell subsets but systematically differs from ground truth structure (missing Lymphocytes gate, adding Tfh) and fails to consistently predict B cell terminal populations like plasma cells and plasmablasts.",
      "raw_response": "Looking at the 10 runs, I need to evaluate how well the model predicts the expected gating hierarchy for OMIP-076 (murine splenocytes).\n\n**Key Observations:**\n\n1. **Structural Consistency**: All 10 runs use the same basic hierarchy structure: `All Events > Singlets > Live cells > CD45+ leukocytes > ...` - this is consistent but differs from ground truth which uses `Lymphocytes` as the parent for T/B cells rather than direct gating from CD45+.\n\n2. **T cell Gating**: All runs correctly identify T cell subsets (naive, effector memory, central memory, Tregs) but use `TCR\u03b2+ T cells > CD4+ T cells` gating rather than the simpler `T cells` parent in ground truth.\n\n3. **B cell Coverage**: Highly variable across runs:\n   - Runs 1-3: No B cells shown (truncated output)\n   - Runs 4, 6, 7: Include B cells with some subsets\n   - Missing key populations: Plasma cells, Plasmablasts, Activated B cells, Memory B cells (from ground truth)\n\n4. **Extra Populations**: All runs include Tfh cells (CXCR5+ PD-1+) which are NOT in the ground truth hierarchy - this is a consistent hallucination based on panel markers.\n\n5. **Naming Variations**: Gate names vary significantly (e.g., \"Foxp3+ Tregs\" vs \"CD25+ Foxp3+ Tregs\" vs \"CD25+ Foxp3+ regulatory T cells\")\n\n6. **Missing Critical Gates**: \n   - \"Lymphocytes\" gate consistently missing (model gates directly from CD45+)\n   - B cell terminal populations (Plasma cells, Plasmablasts, Activated B cells, Memory B cells) mostly missing\n   - \"ICOS+ Treg\" from ground truth rarely captured correctly\n\n7. **Consistency Issues**: 10 unique gate sets out of 10 runs (0% consistency) - naming variations and different population inclusion patterns.\n\nMEDIAN_QUALITY: 5 (captures major T cell subsets correctly but misses B cell terminal populations and Lymphocyte gate; consistent Tfh hallucination)\nCONSISTENCY: 3 (same overall structure but naming varies substantially; B cell coverage inconsistent; 0% identical gate sets)\nWORST_CASE: 4 (runs with minimal B cell coverage miss half the ground truth hierarchy)\nBEST_CASE: 6 (runs 4-7 capture both T and B lineages but still miss terminal B populations)\nFAILURE_MODES: Missing Lymphocytes parent gate, incomplete B cell terminal populations (plasma cells/plasmablasts/memory), Tfh hallucination not in ground truth, inconsistent gate naming, CD45+ used instead of Lymphocytes\nRELIABILITY: medium This model reliably predicts T cell subsets with correct marker logic but inconsistently handles B cell populations and adds Tfh cells not specified in ground truth.\nSUMMARY: Model demonstrates sound immunological reasoning for T cell subsets but systematically differs from ground truth structure (missing Lymphocytes gate, adding Tfh) and fails to consistently predict B cell terminal populations like plasma cells and plasmablasts.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.2222222222222222,
      "unique_gate_sets": 8,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1288,
      "timestamp": "2026-01-13T03:42:21.289891",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "Looking at these predictions against the expected hierarchy, I'll evaluate systematically.\n\n**Expected structure:** All Events > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+\n\n**Analysis of predictions:**\n\n1. **Missing gates across all runs:**\n   - \"T cells\" gate is missing in ALL 10 predictions - a critical intermediate gate\n   - This is a systematic failure, not random variation\n\n2. **Structural inconsistency patterns:**\n   - Runs 1-2: Skip Lymphocytes entirely (Live cells \u2192 CD4+/CD8+)\n   - Runs 3, 6: Closest to ground truth (have Live cells > Lymphocytes), but still missing T cells\n   - Runs 4-5, 7-9: Skip Live cells (Singlets \u2192 Lymphocytes)\n   - Run 10: Incorrect ordering (Lymphocytes > Live cells - reversed)\n\n3. **Extra hallucinated gates:**\n   - Runs 2, 5, 7, 8, 10: Add double-negative (DN) and/or double-positive (DP) populations not in ground truth\n\n4. **Best predictions (Runs 3, 6):**\n   - Structure: All Events > Singlets > Live cells > Lymphocytes > CD4+/CD8+\n   - Only missing the intermediate \"T cells\" gate\n   - No hallucinations\n\n5. **Worst predictions (Runs 1, 2, 10):**\n   - Run 1-2: Missing both Lymphocytes AND T cells gates\n   - Run 10: Incorrect gate ordering plus hallucinations\n\n**MEDIAN_QUALITY: 5** (captures major populations but consistently misses T cells intermediate gate, variable structural accuracy)\n\n**CONSISTENCY: 3** (8 unique gate sets across 10 runs; significant variation in whether Live cells or Lymphocytes appear, and in what order)\n\n**WORST_CASE: 3** (Run 10 has reversed gate order; Runs 1-2 skip two intermediate gates)\n\n**BEST_CASE: 7** (Runs 3, 6 have correct structure except missing T cells gate, no hallucinations)\n\n**FAILURE_MODES:** missing T cells intermediate gate (10/10), inconsistent Live cells vs Lymphocytes ordering, hallucinated DN/DP populations (5/10), occasionally skipping critical gates\n\n**RELIABILITY: low** The model shows high structural variance across runs and systematically omits the T cells intermediate gate, making it unreliable for producing reproducible gating strategies.\n\n**SUMMARY:** Model correctly identifies terminal CD4+/CD8+ populations but fails to consistently structure intermediate gates (Live cells, Lymphocytes, T cells), with significant run-to-run variation that would produce different experimental workflows.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2211,
      "timestamp": "2026-01-13T03:42:52.587047",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.2,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing Live cells gate (9/10 runs), missing NK-T cells (9/10 runs), missing Marginal Zone B cells (all runs), inconsistent hierarchy depth, variable gate naming conventions, over-specification of NK subsets not in ground truth",
      "reliability": "low The model produces highly variable hierarchies across runs with no two identical outputs, making it unreliable for reproducible gating strategy generation.",
      "summary": "Model demonstrates solid understanding of pan-leukocyte immunophenotyping but exhibits poor run-to-run consistency and systematically misses specific populations (NK-T, Marginal Zone B) while adding unrequested detail elsewhere.",
      "raw_response": "Looking at these 10 runs, I need to evaluate how well the model predicts the expected gating hierarchy for OMIP-077 (a pan-leukocyte panel).\n\n**Key observations:**\n\n1. **Core populations consistently identified**: All runs correctly identify the major populations (T cells, B cells, NK cells, monocytes, DCs). The model understands this is a comprehensive leukocyte phenotyping panel.\n\n2. **Structural inconsistencies**: The hierarchy structure varies significantly:\n   - Runs 6, 7, 8, 9 use simpler \"Leukocytes\" directly under Singlets\n   - Runs 1-5, 10 add intermediate gates (CD45+, Lymphocytes, Cells)\n   - Only Run 10 includes \"Live cells\" gate matching ground truth\n\n3. **Missing from ground truth**: \n   - \"Live cells\" gate: Only present in Run 10\n   - NK-T cells: Only Run 4 identifies this population\n   - Marginal Zone B cells: Not identified in any run\n   - Specific DC subtypes (CD1c+ mDCs): Inconsistently identified\n\n4. **Hallucinations/additions beyond ground truth**:\n   - CD56bright/CD56dim NK subsets (not in ground truth, but biologically valid)\n   - CD38+ plasmablasts (ground truth has \"Plasma cells\")\n   - Activated T cells (Run 10)\n\n5. **Monocyte subsets**: Most runs identify classical/intermediate/non-classical monocytes, matching ground truth well.\n\n6. **Naming inconsistency**: Same populations named differently across runs (e.g., \"CD3+ T cells\" vs \"T cells\", \"CD19+ B cells\" vs \"B cells\")\n\n**Quality assessment**: The predictions capture the essential biology reasonably well but miss specific populations (NK-T, Marginal Zone B) and show high structural variability. The model adds biologically reasonable but not-requested detail (NK subsets) while missing explicitly requested populations.\n\nMEDIAN_QUALITY: 6 (captures major populations correctly but misses specific subsets like NK-T and Marginal Zone B cells, variable hierarchy depth)\nCONSISTENCY: 2 (10 unique gate sets, highly variable structure and naming conventions across runs)\nWORST_CASE: 5 (Run 4 has shortest hierarchy, missing several populations)\nBEST_CASE: 7 (Run 10 includes Live cells gate and comprehensive coverage, though still misses some ground truth populations)\nFAILURE_MODES: missing Live cells gate (9/10 runs), missing NK-T cells (9/10 runs), missing Marginal Zone B cells (all runs), inconsistent hierarchy depth, variable gate naming conventions, over-specification of NK subsets not in ground truth\nRELIABILITY: low The model produces highly variable hierarchies across runs with no two identical outputs, making it unreliable for reproducible gating strategy generation.\nSUMMARY: Model demonstrates solid understanding of pan-leukocyte immunophenotyping but exhibits poor run-to-run consistency and systematically misses specific populations (NK-T, Marginal Zone B) while adding unrequested detail elsewhere.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.11111111111111116,
      "unique_gate_sets": 9,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1062,
      "timestamp": "2026-01-13T03:43:19.020843",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "Looking at the 10 runs, I can evaluate the model's performance:\n\n**MEDIAN_QUALITY: 6** \nMost runs capture the core hierarchy (Singlets \u2192 CD4+ \u2192 FoxP3+/- split) but consistently miss the \"Live cells\" gate before Lymphocytes in 6/10 runs, and several runs miss the Lymphocytes gate entirely.\n\n**CONSISTENCY: 3**\n9 unique gate sets across 10 runs is poor consistency. The model varies on:\n- Whether to include \"Live cells\" gate (present in 4 runs)\n- Whether to include \"Lymphocytes\" gate (present in 6 runs)\n- Naming conventions (FoxP3+ Treg vs FoxP3+ Tregs, Tconv vs conventional CD4+)\n- Whether to predict the FoxP3- branch (missing in runs 6 and 9)\n\n**WORST_CASE: 0**\nRuns 3 and 7 are complete task failures - the model generated meta-commentary about the benchmark itself rather than predicting gating hierarchies.\n\n**BEST_CASE: 8**\nRun 1 is closest to ground truth with all expected gates and both branches, though uses \"CD4+\" instead of \"CD4+ T cells\" and \"Tconv\" instead of \"non-Treg\".\n\n**FAILURE_MODES:** task refusal (2/10), missing Live cells gate (6/10), missing FoxP3- branch (2/10), missing Lymphocytes gate (4/10), inconsistent naming conventions\n\n**RELIABILITY: low** \n20% of runs produced complete task failures (meta-commentary instead of predictions), making this model unreliable for automated benchmarking without human review.\n\n**SUMMARY:** The model understands the Treg gating concept but exhibits high variability in intermediate gates and has a concerning 20% task refusal rate where it produces meta-commentary instead of predictions.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2428,
      "timestamp": "2026-01-13T03:43:49.332174",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.6,
      "worst_case": 0.6,
      "best_case": 0.8,
      "failure_modes": "missing Time Gate, variable granularity in cytokine gating depth, naming inconsistency",
      "reliability": "medium - The model reliably captures the major T-cell phenotyping structure but inconsistently represents the depth of functional analysis, making predictions require human review.",
      "summary": "Strong biological reasoning with consistent core hierarchy but systematic omission of Time Gate and high variability in how deeply it elaborates the functional cytokine gating layer.",
      "raw_response": "Looking at these 10 predictions against the ground truth, I'll analyze the model's performance.\n\n**Key Observations:**\n\n1. **Core structure is consistently correct**: All 10 runs capture the essential hierarchy: All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 T cells (CD3+) \u2192 CD4+/CD8+ \u2192 Memory subsets + Functional markers\n\n2. **Missing Time Gate**: All 10 runs omit the \"Time Gate\" that appears in ground truth between All Events and Singlets. This is a consistent systematic error.\n\n3. **Added dump channel gate**: All runs add a CD14-CD19- exclusion gate (monocyte/B-cell dump) that isn't in the simplified ground truth but is scientifically appropriate for this panel.\n\n4. **Variable granularity in memory/functional gating**: \n   - Runs 4, 6, 7, 10: Compact (8 gates) - just memory subsets\n   - Runs 1, 8: Medium (21-22 gates) - memory + some cytokines\n   - Runs 2, 3, 5, 9: Expansive (44-56 gates) - memory \u00d7 cytokine combinatorics\n\n5. **Naming variations**: \"CD3+\" vs \"CD3+ T cells\", \"Live cells\" vs \"Live\", spacing differences (CCR7+CD45RO- vs CCR7+ CD45RO-)\n\n6. **Biologically sound predictions**: All runs correctly identify the CCR7/CD45RO memory subsets (Naive, CM, EM, TEMRA) and cytokine readouts (IFN-\u03b3, IL-2, TNF, IL-17A, IL-22) which are appropriate for OMIP-022's antigen-specific T-cell functionality assessment.\n\n**The 0.00 consistency score is misleading** - it reflects surface-level string differences, not semantic disagreement. The core structure is highly consistent; variability is in granularity and formatting.\n\nMEDIAN_QUALITY: 7 (correct core hierarchy, missing Time Gate, appropriate scientific detail)\nCONSISTENCY: 6 (semantically consistent structure despite variable granularity and naming)\nWORST_CASE: 6 (compact runs miss functional cytokine gating that's part of the panel's purpose)\nBEST_CASE: 8 (expansive runs capture full memory \u00d7 cytokine matrix, only missing Time Gate)\nFAILURE_MODES: missing Time Gate, variable granularity in cytokine gating depth, naming inconsistency\nRELIABILITY: medium - The model reliably captures the major T-cell phenotyping structure but inconsistently represents the depth of functional analysis, making predictions require human review.\nSUMMARY: Strong biological reasoning with consistent core hierarchy but systematic omission of Time Gate and high variability in how deeply it elaborates the functional cytokine gating layer.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2491,
      "timestamp": "2026-01-13T03:44:17.834593",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.2,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing time gate, missing non-beads gate, missing non-aggregates gate, inconsistent viability gate inclusion, underrepresented myeloid populations, variable intermediate node naming",
      "reliability": "low The model produces structurally different hierarchies on each run, making predictions unreliable for standardized gating workflows.",
      "summary": "The model demonstrates good knowledge of terminal lymphocyte populations but fails to consistently reconstruct the QC-focused backbone hierarchy required for whole blood analysis, with zero consistency across runs.",
      "raw_response": "Looking at the predictions across 10 runs against the OMIP-101 ground truth, I can analyze the model's performance.\n\n**Key Observations:**\n\n1. **Structural Issues**: The ground truth has a specific hierarchy with \"Time gate > Singlets > Non-beads > Leukocytes > Non-aggregates > Non-granulocytes\" as the backbone. The model consistently omits several critical QC gates:\n   - Time gate (missing in all runs)\n   - Non-beads (missing in all runs)\n   - Non-aggregates (missing in all runs)\n\n2. **Gate Coverage**: The model predictions focus heavily on T cell subsets (CD4+/CD8+ naive, memory, effector), NK cells, B cells, and \u03b3\u03b4 T cells. The ground truth emphasizes myeloid populations (classical/intermediate/non-classical monocytes, mDCs) which appear less consistently in predictions.\n\n3. **Consistency Analysis**: Each of the 10 runs produces a different hierarchy structure:\n   - Runs 2,4,7 include \"Live cells\" gate\n   - Runs 5,6,8 start with \"CD45+ Leukocytes\" \n   - Run 8 uniquely includes granulocytes properly\n   - Run 9 includes \"Lymphocytes\" as intermediate gate\n\n4. **Accurate Elements**: The model correctly identifies many terminal populations (CD4+ naive/CM/EM/TEMRA, CD8+ subsets, \u03b3\u03b4 T cells, MAIT cells, NK subsets, B cell subsets) even though structural placement varies.\n\n5. **Missing Critical Populations**: Monocyte subsets (classical, intermediate, non-classical) and mDCs from the ground truth are largely absent or underrepresented.\n\nMEDIAN_QUALITY: 5 (captures many terminal populations but misses QC gates and myeloid hierarchy)\nCONSISTENCY: 2 (10 unique hierarchies, variable intermediate gates, inconsistent depth)\nWORST_CASE: 4 (Run 1 lacks any QC/viability gates, flattened structure)\nBEST_CASE: 6 (Run 8/9 include granulocyte separation, closer to expected structure)\nFAILURE_MODES: missing time gate, missing non-beads gate, missing non-aggregates gate, inconsistent viability gate inclusion, underrepresented myeloid populations, variable intermediate node naming\nRELIABILITY: low The model produces structurally different hierarchies on each run, making predictions unreliable for standardized gating workflows.\nSUMMARY: The model demonstrates good knowledge of terminal lymphocyte populations but fails to consistently reconstruct the QC-focused backbone hierarchy required for whole blood analysis, with zero consistency across runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2298,
      "timestamp": "2026-01-13T03:44:51.289695",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.1,
      "worst_case": 0.3,
      "best_case": 0.6,
      "failure_modes": "Time gate universally omitted, Class-switched B cells intermediate never included, Memory subset nomenclature (RM/AM/TLM) never captured, inconsistent gate naming, variable hierarchy depth, occasional biological errors",
      "reliability": "low - Zero consistency across runs means the model cannot be trusted to produce reproducible results for this B cell subclass phenotyping task",
      "summary": "The model understands B cell biology at a surface level (isotype subclasses, naive/memory distinction) but fails to capture the specific OMIP-074 gating strategy structure, missing critical intermediate gates and producing completely different hierarchies on each run.",
      "raw_response": "Looking at these 10 predictions against the ground truth, I'll analyze the model's performance systematically.\n\n**Ground Truth Key Features:**\n- Time gate after All Events (missing in all predictions)\n- Lymphocytes gate before Live cells\n- Specific memory subsets: RM, AM, TLM (Resting/Activated/Tissue-like Memory)\n- Class-switched B cells as intermediate gate before IgG/IgA/IgE\n- Complete IgG subclass hierarchy (IgG1-4)\n- Complete IgA subclass hierarchy (IgA1, IgA2)\n\n**Analysis of Predictions:**\n\n1. **Structural issues across all runs:**\n   - No run includes \"Time gate\" - universally omitted\n   - Lymphocytes gate position varies wildly (before Singlets in Run 6, after Live in some, missing in others)\n   - \"Class-switched B cells\" intermediate gate missing in all 10 runs\n   - Memory subset naming inconsistent (RM/AM/TLM never captured correctly)\n\n2. **Correct elements:**\n   - All runs correctly identify B cells as the main population\n   - IgG and IgA subclass stratification (IgG1-4, IgA1-2) present in most runs\n   - Singlets and Live cells gates present in all runs\n   - Naive vs Memory distinction captured\n\n3. **Run-specific issues:**\n   - Run 1: Adds \"Cells\" gate, splits by light chain (IgKappa/IgLambda) - not in panel\n   - Run 4: Uses marker combinations as gate names (CD27+ CD21+)\n   - Run 5: Incorrectly places isotypes under Naive (IgG+ Naive) - biological error\n   - Run 6: Reverses Lymphocytes > Singlets order\n   - Run 7: Uses CD27/CD21 combinations correctly but misses class-switched intermediate\n\n4. **Consistency problems:**\n   - 10 unique gate sets from 10 runs = zero consistency\n   - Gate naming varies: \"Live\" vs \"Live Cells\" vs \"Live cells\"\n   - Hierarchy depth varies from 5-8 levels\n   - Memory subset organization differs completely between runs\n\n**Best case (Run 7):** Captures CD27/CD21 memory subset logic, identifies 4 memory phenotypes similar to RM/AM/TLM concept, includes isotype subclasses.\n\n**Worst case (Run 5):** Places class-switched isotypes under Naive B cells - a fundamental biological error showing misunderstanding of B cell differentiation.\n\nMEDIAN_QUALITY: 5 (captures major populations and isotype subclasses but misses Time gate, Class-switched intermediate, and correct memory nomenclature)\nCONSISTENCY: 1 (10 completely different hierarchies; no two runs produce the same structure)\nWORST_CASE: 3 (Run 5 places IgG subclasses under Naive B cells - biological nonsense)\nBEST_CASE: 6 (Run 7 captures memory phenotype logic correctly but still misses Class-switched intermediate and Time gate)\nFAILURE_MODES: Time gate universally omitted, Class-switched B cells intermediate never included, Memory subset nomenclature (RM/AM/TLM) never captured, inconsistent gate naming, variable hierarchy depth, occasional biological errors\nRELIABILITY: low - Zero consistency across runs means the model cannot be trusted to produce reproducible results for this B cell subclass phenotyping task\nSUMMARY: The model understands B cell biology at a surface level (isotype subclasses, naive/memory distinction) but fails to capture the specific OMIP-074 gating strategy structure, missing critical intermediate gates and producing completely different hierarchies on each run.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2705,
      "timestamp": "2026-01-13T03:45:20.915752",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.3,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing stem cell memory subset, missing transitional memory subset, inconsistent Treg identification, variable lineage exclusion depth, over-specification of marker combinations in gate names",
      "reliability": "low The model demonstrates competent immunological reasoning but produces structurally inconsistent hierarchies that would require manual verification for each run.",
      "summary": "Claude Sonnet correctly identifies the biological logic for CD4 memory subset gating but produces highly variable hierarchy structures and consistently misses specific ground truth populations like stem cell memory and transitional memory T cells.",
      "raw_response": "Looking at these 10 runs, I need to evaluate the model's gating hierarchy predictions against the ground truth for OMIP-087 (a CyTOF panel for CD4/CD8 memory T cell subsets).\n\n**Key Observations:**\n\n1. **Structural differences from ground truth**: The expected hierarchy uses simple naming (Leukocytes > T cells > CD4+ T cells > Naive CD4 T cells), while the model consistently produces more detailed marker-based naming (CD45+ > Lineage- > CD3+ > CD4+ > CD45RA+ CCR7+ Naive).\n\n2. **Consistent core populations identified**: Across all 10 runs, the model correctly identifies:\n   - Naive CD4 T cells (CD45RA+ CCR7+)\n   - Central Memory CD4 (CD45RA- CCR7+)\n   - Effector Memory CD4 (CD45RA- CCR7-)\n   - Th1, Th2, Th17 subsets with appropriate chemokine receptor patterns\n\n3. **Missing from ground truth expectations**:\n   - Stem cell memory CD4 T cells (rarely mentioned)\n   - Transitional memory CD4 T cells (not identified)\n   - T regulatory cells (inconsistently included)\n   - T follicular helper cells (sometimes included as Tfh)\n\n4. **Structural inconsistencies across runs**:\n   - Variable lineage exclusion strategies (CD14- CD19-, Lin-, dump gates)\n   - Variable depth before reaching CD4+ T cells (3-6 intermediate gates)\n   - Inconsistent CD8+ coverage (some runs include CD8+ hierarchy, others don't)\n\n5. **Scientifically reasonable additions**: The model adds biologically valid Th subset classifications (Th1/Th2/Th17/Th22) that aren't in the ground truth but are appropriate for this panel's chemokine receptors.\n\n**Scoring:**\n\nMEDIAN_QUALITY: 6 (captures major memory subsets with correct marker logic, but misses several ground truth populations and adds inconsistent structural depth)\nCONSISTENCY: 3 (every run produces a different gate set; lineage exclusion strategy and hierarchy depth vary substantially)\nWORST_CASE: 5 (Run 7 has minimal lineage exclusion, simpler structure)\nBEST_CASE: 7 (Runs 2, 8, 10 capture more complete CD4/CD8 coverage with appropriate gating logic)\nFAILURE_MODES: missing stem cell memory subset, missing transitional memory subset, inconsistent Treg identification, variable lineage exclusion depth, over-specification of marker combinations in gate names\nRELIABILITY: low The model demonstrates competent immunological reasoning but produces structurally inconsistent hierarchies that would require manual verification for each run.\nSUMMARY: Claude Sonnet correctly identifies the biological logic for CD4 memory subset gating but produces highly variable hierarchy structures and consistently misses specific ground truth populations like stem cell memory and transitional memory T cells.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2237,
      "timestamp": "2026-01-13T03:45:50.034156",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.2,
      "worst_case": 0.3,
      "best_case": 0.6,
      "failure_modes": "inconsistent early hierarchy ordering, over-specification beyond ground truth, missing ILC parent node, variable exclusion gate strategies (CD14-CD19- vs Dump negative), T cells abstraction missing",
      "reliability": "low The model produces biologically reasonable but structurally inconsistent hierarchies with zero reproducibility across runs.",
      "summary": "The model demonstrates domain knowledge of NK/ILC/MAIT populations but fails to produce consistent hierarchies, with every run generating a unique structure and frequent errors in fundamental gate ordering.",
      "raw_response": "Looking at this evaluation, I need to compare the model's predictions against the expected hierarchy:\n\n**Expected (ground truth):**\n- All Events > Singlets > Live cells > Lymphocytes > T cells > MAIT cells\n- All Events > Singlets > Live cells > Lymphocytes > T cells > \u03b3\u03b4 T cells\n- All Events > Singlets > Live cells > Lymphocytes > Innate Lymphoid Cells > NK cells > Activated NK cells\n- All Events > Singlets > Live cells > Lymphocytes > Innate Lymphoid Cells > Other ILC subsets\n\n**Analysis of predictions:**\n\n1. **Gate detection**: The model correctly identifies key populations (MAIT cells, \u03b3\u03b4 T cells, NK cells, ILCs) across all runs\n2. **Hierarchy structure problems**: \n   - Run 1: Inverts Lymphocytes/Live cells order\n   - Run 10: Places Lymphocytes before Singlets\n   - Various runs use different exclusion strategies (CD14-CD19- vs Dump negative vs CD3-CD19-)\n3. **Over-specification**: Model produces much more detailed hierarchies than expected (V\u03b42+/-, CD56bright/dim, NKG2A/C subsets)\n4. **Missing abstraction**: Expected hierarchy uses \"T cells\" as parent of MAIT/\u03b3\u03b4, but model often gates MAIT and \u03b3\u03b4 directly from CD3+ without an intermediate \"T cells\" gate\n5. **ILC handling**: Only Run 9 explicitly identifies ILCs with CD127+ gating; most runs miss \"Other ILC subsets\"\n\n**Recurring issues across runs:**\n- Variable early gating order (Singlets/Lymphocytes/Live inconsistent)\n- CD3+ used instead of \"T cells\" abstraction\n- Excessive subtype granularity beyond what's asked\n- ILC populations often missing or incorrectly structured under NK cells\n\nMEDIAN_QUALITY: 5 (correctly identifies major populations but with structural deviations and over-granularity)\nCONSISTENCY: 2 (10 unique gate sets, no two runs match; early hierarchy and exclusion strategies vary wildly)\nWORST_CASE: 3 (Run 1 and 10 have inverted fundamental gates like Singlets/Lymphocytes)\nBEST_CASE: 6 (Runs 3, 6, 8 have correct early structure and reasonable population coverage)\nFAILURE_MODES: inconsistent early hierarchy ordering, over-specification beyond ground truth, missing ILC parent node, variable exclusion gate strategies (CD14-CD19- vs Dump negative), T cells abstraction missing\nRELIABILITY: low The model produces biologically reasonable but structurally inconsistent hierarchies with zero reproducibility across runs.\nSUMMARY: The model demonstrates domain knowledge of NK/ILC/MAIT populations but fails to produce consistent hierarchies, with every run generating a unique structure and frequent errors in fundamental gate ordering.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2414,
      "timestamp": "2026-01-13T03:46:19.477041",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.8,
      "failure_modes": "inconsistent dump channel placement, early gate ordering errors, variable NK cell inclusion, inconsistent naming conventions",
      "reliability": "medium - Model understands flow cytometry biology well but produces structurally variable outputs that would require manual verification before use",
      "summary": "Strong immunological knowledge with correct memory/functional subset identification, but unreliable hierarchical structure with inconsistent dump channel placement and occasional gate ordering errors.",
      "raw_response": "Looking at these 10 runs, I need to evaluate the model's predictions against the ground truth hierarchy.\n\n**Ground Truth Structure:**\n- All Events > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ > Memory/Functional subsets\n- NK cells with functional subsets\n\n**Analysis of Predictions:**\n\n**Strengths (consistent across runs):**\n- All runs correctly identify the core populations: CD4+ T cells, CD8+ T cells, memory subsets (Naive, Central Memory, Effector Memory, TEMRA), TFH-like cells\n- All correctly include functional markers (IFN-\u03b3, cytokines)\n- Memory subset identification using CD45RA/CCR7 is biologically correct\n\n**Structural Inconsistencies:**\n- Run 4, 5: Place Lymphocytes BEFORE Singlets (incorrect order)\n- Run 6: Adds spurious \"Cells\" gate\n- Runs 1, 4, 5, 6, 8: Insert CD14-CD19- dump gate at varying positions\n- Run 3: Uses \"Leukocytes\" instead of \"Lymphocytes\"\n- Run 9: Odd placement of CD14-CD19- after CD3+ (illogical)\n\n**Deviations from Ground Truth:**\n- Ground truth uses grouped categories (\"CD4+ Memory subsets\", \"CD4+ Functional subsets\") but model provides explicit subpopulations - this is actually MORE detailed, not wrong\n- Ground truth has \"T cells\" as intermediate; some runs skip this (CD3+ T cells directly under Lymphocytes)\n- NK cells inconsistently included (some runs have them, some don't)\n\n**Failure Modes:**\n- Gate ordering errors in early hierarchy (Runs 4, 5)\n- Inconsistent dump channel placement\n- Varying granularity (10-25 gates across runs)\n- NK cells sometimes missing\n\nMEDIAN_QUALITY: 7 (biologically correct subpopulations, minor structural variations from ground truth)\nCONSISTENCY: 3 (10 unique hierarchies, significant structural variation in dump channel placement and early gates)\nWORST_CASE: 4 (Run 4/5 with Lymphocytes before Singlets is biologically incorrect ordering)\nBEST_CASE: 8 (Runs 2, 7 have clean standard hierarchy closest to ground truth)\nFAILURE_MODES: inconsistent dump channel placement, early gate ordering errors, variable NK cell inclusion, inconsistent naming conventions\nRELIABILITY: medium - Model understands flow cytometry biology well but produces structurally variable outputs that would require manual verification before use\nSUMMARY: Strong immunological knowledge with correct memory/functional subset identification, but unreliable hierarchical structure with inconsistent dump channel placement and occasional gate ordering errors.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2626,
      "timestamp": "2026-01-13T03:46:46.651636",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "Looking at the expected hierarchy and the 10 predictions, I can evaluate the model's performance:\n\n**MEDIAN_QUALITY: 6** \nThe model consistently identifies the core monocyte subsets (Classical, Intermediate, Non-classical) and correctly uses CD14/CD16 expression patterns. However, it consistently diverges from the expected hierarchy structure by: (1) missing the \"Cleaned Events\" and \"Non-granulocytes\" intermediate gates, (2) adding gates not in ground truth (Singlets, Live cells, Lineage negative, CD42b-, CD66b-), and (3) adding excessive functional marker subgating (CCR2+, CX3CR1+, CD64+, TLR2+, CD86+) that extends beyond the expected terminal populations.\n\n**CONSISTENCY: 3**\nEvery run produces a unique gate set (0% consistency). The model varies considerably in: upstream gating order (CD66b- before vs after CD42b-), presence/absence of intermediate gates (HLA-DR+ Monocytes parent), depth of functional marker subgating, and naming conventions (some include marker patterns in parentheses, others don't).\n\n**WORST_CASE: 5**\nRun 7 is the most minimal, missing the SLAN+/SLAN- distinction for non-classical monocytes (only showing \"SLAN+ Monocytes\" as a separate branch rather than under Non-classical). It also lacks the \"Other Monocyte Subsets\" grouping.\n\n**BEST_CASE: 7**\nRun 3 comes closest to the expected structure with a clean hierarchy showing Classical, Intermediate, and Non-classical monocytes with SLAN+ distinction. However, it still misses the \"Other Monocyte Subsets\" grouping and SLAN- non-classical population.\n\n**FAILURE_MODES: Over-elaboration of functional markers as terminal gates, missing \"Other Monocyte Subsets\" intermediate grouping, inconsistent upstream gating order, omission of SLAN- non-classical subpopulation in most runs, variable naming conventions**\n\n**RELIABILITY: low** The model understands monocyte biology well but cannot reliably reproduce a specific hierarchy structure, making it unsuitable for tasks requiring exact gating scheme replication.\n\n**SUMMARY: The model demonstrates solid understanding of monocyte subset biology (Classical/Intermediate/Non-classical via CD14/CD16) but consistently over-elaborates with functional markers and fails to reproduce the expected hierarchy structure, with zero consistency across runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.11111111111111116,
      "unique_gate_sets": 9,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2037,
      "timestamp": "2026-01-13T03:47:18.292665",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.2,
      "worst_case": 0.2,
      "best_case": 0.5,
      "failure_modes": "missing Live cells gate, missing Lymphocytes gate, inverted Singlets/Lymphocytes order, KIR markers as parallel leaves instead of nested hierarchy, missing KIR3DL01-/KIR3DL05- negative populations, CD56bright/dim substituted for ground truth CD16/CD56 combinations",
      "reliability": "low The model shows high variability in basic hierarchy structure and consistently misinterprets the KIR gating logic specific to this macaque NK panel.",
      "summary": "Model understands NK cell biology broadly but fails to reproduce the specific Mamu-KIR3DL01-first gating hierarchy and shows unacceptable run-to-run inconsistency in even basic gate ordering.",
      "raw_response": "Looking at these predictions against the ground truth, I'll analyze the key patterns:\n\n**Ground Truth Key Features:**\n- Path: All Events > Singlets > Live cells > Lymphocytes > NK cells\n- First branching on Mamu-KIR3DL01+/- NK cells\n- Second branching on KIR3DL05+/- within each KIR3DL01 subset\n- Separate CD16/CD56 combination gates (CD16+ CD56+, CD16+ CD56-, CD16- CD56+)\n\n**Prediction Issues Across Runs:**\n\n1. **Missing \"Live cells\" gate**: Only Run 3 includes it; all others skip directly to Lymphocytes or NK cells\n2. **Missing \"Lymphocytes\" gate**: Run 3 skips Lymphocytes entirely\n3. **Inverted hierarchy in Runs 5, 9, 10**: \"Lymphocytes > Singlets\" instead of \"Singlets > Lymphocytes\"\n4. **Wrong KIR gating structure**: Ground truth uses Mamu-KIR3DL01 as primary split with KIR3DL05 as secondary. Predictions treat KIR3DL01 and KIR3DL05 as parallel leaf gates, not nested\n5. **Missing combinatorial KIR gates**: Ground truth has 4 combinations (KIR3DL01+/- \u00d7 KIR3DL05+/-); predictions only show single-positive gates or occasionally dual-positive\n6. **CD16/CD56 structure differs**: Ground truth has flat CD16/CD56 combinations under NK cells. Predictions create CD56bright/dim hierarchy with KIR markers underneath\n7. **Missing negative gates**: Ground truth explicitly gates KIR3DL01- and KIR3DL05- populations; predictions rarely include negatives\n\n**What's Correct:**\n- Core markers recognized (CD56, CD16, KIR3DL01, KIR3DL05)\n- General NK cell focus captured\n- Singlets gate present in all runs\n\nMEDIAN_QUALITY: 4 (captures NK biology but wrong hierarchy structure and missing key gates)\nCONSISTENCY: 2 (9 unique gate sets across 10 runs; hierarchy order varies significantly)\nWORST_CASE: 2 (Run 8 adds spurious \"Cells\" gate; Run 5 has inverted Lymphocytes>Singlets)\nBEST_CASE: 5 (Run 3 closest with Live cells, but still misses Lymphocytes and KIR hierarchy)\nFAILURE_MODES: missing Live cells gate, missing Lymphocytes gate, inverted Singlets/Lymphocytes order, KIR markers as parallel leaves instead of nested hierarchy, missing KIR3DL01-/KIR3DL05- negative populations, CD56bright/dim substituted for ground truth CD16/CD56 combinations\nRELIABILITY: low The model shows high variability in basic hierarchy structure and consistently misinterprets the KIR gating logic specific to this macaque NK panel.\nSUMMARY: Model understands NK cell biology broadly but fails to reproduce the specific Mamu-KIR3DL01-first gating hierarchy and shows unacceptable run-to-run inconsistency in even basic gate ordering.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1479,
      "timestamp": "2026-01-13T03:47:42.918357",
      "error": null,
      "median_quality": 0.2,
      "consistency": 0.1,
      "worst_case": 0.0,
      "best_case": 0.8,
      "failure_modes": "task refusal, meta-commentary instead of output, marker enumeration instead of hierarchy, asking clarifying questions, truncated responses",
      "reliability": "low The model produces valid hierarchies only 20-30% of the time; most runs result in task refusal or meta-commentary rather than actual predictions.",
      "summary": "Extreme bimodal performance - when it works (runs 4, 10) the predictions are good, but 70% of runs fail to produce any usable gating hierarchy due to the model requesting more information or generating meta-commentary instead of completing the task.",
      "raw_response": "Looking at these 10 runs, I can evaluate the model's performance:\n\n**Run Quality Assessment:**\n- **Runs 4, 10**: Good hierarchies matching expected structure (T cells, B cells, NK cells, proper gating flow)\n- **Run 2**: Minimal but structurally correct (truncated)\n- **Runs 1, 3, 5, 6, 7, 8, 9**: Task failures - model asked clarifying questions or produced meta-commentary instead of actual gating hierarchies\n\n**Analysis:**\n- Only 2-3 runs (4, 10, arguably 2) produced valid gating hierarchies\n- 7 runs show the model refusing to complete the task, asking for more information, or producing marker lists instead of hierarchies\n- The successful runs (4, 10) are actually quite good - capturing major lineages correctly\n- Massive inconsistency: from excellent predictions to complete task refusal\n\nMEDIAN_QUALITY: 2 (most runs are task failures, not actual predictions)\nCONSISTENCY: 1 (10 unique outputs, ranging from excellent to complete refusal)\nWORST_CASE: 0 (runs 3, 6, 7, 8, 9 produce no usable hierarchy - just questions or marker lists)\nBEST_CASE: 8 (runs 4 and 10 capture major lineages with correct structure, missing some leaf populations)\nFAILURE_MODES: task refusal, meta-commentary instead of output, marker enumeration instead of hierarchy, asking clarifying questions, truncated responses\nRELIABILITY: low The model produces valid hierarchies only 20-30% of the time; most runs result in task refusal or meta-commentary rather than actual predictions.\nSUMMARY: Extreme bimodal performance - when it works (runs 4, 10) the predictions are good, but 70% of runs fail to produce any usable gating hierarchy due to the model requesting more information or generating meta-commentary instead of completing the task.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2503,
      "timestamp": "2026-01-13T03:48:14.624632",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.3,
      "best_case": 0.6,
      "failure_modes": "systematic B cell omission, gate ordering errors (Lymphocytes before Singlets), CD45+ gate insertion, Tfh hallucination, inconsistent naming conventions",
      "reliability": "low The model shows T cell bias and fails to reliably predict the complete hierarchy including B cell populations.",
      "summary": "Model demonstrates reasonable T cell marker logic but systematically ignores B cell lineage present in ground truth, with inconsistent structural ordering across runs.",
      "raw_response": "Looking at these 10 predictions against the ground truth for OMIP-076 (murine splenocyte panel), I'll analyze the model's performance systematically.\n\n**Key Observations:**\n\n1. **Gate ordering inconsistency**: Runs 3, 5, and 8 place \"Lymphocytes\" before \"Singlets\" which is biologically incorrect - singlet gating should precede morphological gating.\n\n2. **Missing B cell lineage**: Only Run 10 includes B cell populations (plasma cells, plasmablasts, activated/memory B cells) which are critical to the ground truth. Runs 1-9 focus almost exclusively on T cells.\n\n3. **CD45+ insertion**: Most runs add a CD45+ leukocyte gate not present in ground truth. While biologically reasonable, it's a consistent deviation.\n\n4. **TCR\u03b2 vs generic T cell gating**: Most predictions use TCR\u03b2+ for T cell identification (appropriate for this panel), but the ground truth uses simpler \"T cells\" naming.\n\n5. **T cell subset accuracy**: The model correctly identifies:\n   - Central memory (CD44+ CD62L+)\n   - Effector memory (CD44+ CD62L-)  \n   - Naive (CD44- CD62L+)\n   - Tregs (Foxp3+ CD25+)\n   - Tfh (CXCR5+ PD-1+)\n\n6. **Added gates not in ground truth**: Tfh cells with ICOS+ subsets appear in most runs but aren't in the expected hierarchy.\n\n7. **Missing ground truth populations**: ICOS+ Treg is in ground truth but rarely explicitly called out; B cell populations almost completely absent (major failure).\n\n**Quality Assessment:**\n\nThe T cell portion shows good marker-based reasoning (CD44/CD62L memory phenotyping is correct). However, the systematic omission of B cells in 9/10 runs represents a critical failure - the ground truth has equal emphasis on B lineage (plasma cells, plasmablasts, activated B, memory B).\n\nMEDIAN_QUALITY: 5 (T cell gating is reasonable but missing half the expected populations)\nCONSISTENCY: 3 (10 unique gate sets, variable structure ordering, inconsistent B cell inclusion)\nWORST_CASE: 3 (Run 3/5/8 with inverted Lymphocytes>Singlets ordering)\nBEST_CASE: 6 (Run 10 includes B cells but still missing some T cell detail)\nFAILURE_MODES: systematic B cell omission, gate ordering errors (Lymphocytes before Singlets), CD45+ gate insertion, Tfh hallucination, inconsistent naming conventions\nRELIABILITY: low The model shows T cell bias and fails to reliably predict the complete hierarchy including B cell populations.\nSUMMARY: Model demonstrates reasonable T cell marker logic but systematically ignores B cell lineage present in ground truth, with inconsistent structural ordering across runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.5555555555555556,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1111,
      "timestamp": "2026-01-13T03:48:43.269477",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.4,
      "worst_case": 0.2,
      "best_case": 0.4,
      "failure_modes": "missing Live cells gate, missing T cells gate, inconsistent Singlets/Lymphocytes ordering, hallucinated DN/DP populations",
      "reliability": "low The model never produces the complete expected hierarchy and shows substantial structural variation across runs.",
      "summary": "Model consistently omits critical intermediate gates (Live cells, T cells) and shows unstable gate ordering, making it unreliable for accurate gating hierarchy prediction on this panel.",
      "raw_response": "Looking at the predictions across 10 runs compared to the expected hierarchy:\n\n**Expected:** All Events > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ T cells\n\n**Key observations:**\n\n1. **Missing gates across ALL runs:** No prediction includes \"Live cells\" or \"T cells\" gates - these are completely absent in every run.\n\n2. **Gate ordering inconsistency:** \n   - Runs 1,2,4,5,7: Lymphocytes > Singlets (wrong order)\n   - Runs 6,8,10: Singlets > Lymphocytes (correct relative order)\n   - Run 3: Cells > Singlets (wrong order, also uses \"Cells\" instead of \"Lymphocytes\")\n   - Run 9: Singlets directly to terminal gates (missing Lymphocytes entirely)\n\n3. **Hallucinated gates:** Runs 3,6,7,8,9 add DN/DP gates not in ground truth.\n\n4. **Best predictions (Runs 6,8,10):** Get Singlets > Lymphocytes order correct but still miss Live cells and T cells.\n\n5. **Worst prediction (Run 9):** Skips Lymphocytes entirely, goes Singlets > terminal gates.\n\nMEDIAN_QUALITY: 3 (consistently missing 2 critical intermediate gates: Live cells and T cells)\nCONSISTENCY: 4 (5 unique gate sets; inconsistent Singlets/Lymphocytes ordering; variable hallucinations)\nWORST_CASE: 2 (Run 9 missing Lymphocytes and adding hallucinated DN/DP gates)\nBEST_CASE: 4 (Runs 6,8,10 get Singlets>Lymphocytes order correct but still miss Live cells and T cells)\nFAILURE_MODES: missing Live cells gate, missing T cells gate, inconsistent Singlets/Lymphocytes ordering, hallucinated DN/DP populations\nRELIABILITY: low The model never produces the complete expected hierarchy and shows substantial structural variation across runs.\nSUMMARY: Model consistently omits critical intermediate gates (Live cells, T cells) and shows unstable gate ordering, making it unreliable for accurate gating hierarchy prediction on this panel.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2067,
      "timestamp": "2026-01-13T03:49:14.923830",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "Looking at these 10 runs, I need to evaluate the model's predictions against the expected OMIP-077 hierarchy for human whole blood leukocyte immunophenotyping.\n\n**Key observations:**\n\n1. **Core populations consistently identified:** All runs correctly identify T cells, B cells, NK cells, and the three monocyte subsets (classical, intermediate, non-classical). This is good.\n\n2. **Structural inconsistencies:** The hierarchy structure varies significantly:\n   - Run 4 places Singlets under Leukocytes (reversed)\n   - Run 8 adds an extra \"Cells\" level\n   - Some runs add \"Lymphocytes\" as an intermediate node (not in ground truth)\n   - CD45+ placement varies (sometimes explicit gate, sometimes merged with Leukocytes)\n\n3. **Missing critical gates:**\n   - \"Live cells\" gate is missing from ALL 10 runs (critical for flow cytometry)\n   - NK-T cells appear only in Run 4 (as \"NKT cells\")\n   - Marginal Zone B cells never predicted\n   - DC subsets (CD1c+ mDCs, etc.) inconsistently captured\n\n4. **Hallucinations/additions:**\n   - CD38+ subsets frequently added (plasmablasts, activated T cells) - not in ground truth\n   - CD16+/CD16- NK subdivision added but ground truth just has \"NK cells\"\n   - Some runs add HLA-DR+ T cells\n\n5. **Naming variations:** Population names vary across runs (e.g., \"plasmablasts\" vs \"plasma cells\" vs \"CD38+ B cells\")\n\n**MEDIAN_QUALITY: 5** (captures major populations but consistently misses Live cells gate and some specialized populations; structural variations)\n\n**CONSISTENCY: 3** (10 unique hierarchies, significant structural variations, population naming inconsistent, but core populations reliably present)\n\n**WORST_CASE: 4** (Run 4 with reversed Singlets/Leukocytes order represents fundamental structural error)\n\n**BEST_CASE: 6** (Runs 5, 7, 9 capture most major populations with reasonable structure, though still missing Live cells)\n\n**FAILURE_MODES:** missing Live cells gate, inconsistent CD45+ gate placement, missing NK-T cells, missing Marginal Zone B cells, variable intermediate groupings (Lymphocytes), hallucinated CD38+ subsets, inconsistent DC identification\n\n**RELIABILITY: medium** The model reliably identifies major leukocyte populations (T, B, NK, monocyte subsets) but cannot be trusted for exact hierarchy structure or specialized populations. The systematic omission of Live cells gate is concerning for practical flow cytometry applications.\n\n**SUMMARY:** Claude Sonnet captures core leukocyte populations consistently but exhibits high structural variability, systematically omits viability gating, and struggles with specialized populations like NK-T cells and marginal zone B cells.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.2222222222222222,
      "unique_gate_sets": 8,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1186,
      "timestamp": "2026-01-13T03:49:44.944712",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.3,
      "worst_case": 0.3,
      "best_case": 0.9,
      "failure_modes": "omits Live cells gate, inconsistent gate ordering, hallucinates FoxP3 intensity subgates, incomplete branches",
      "reliability": "low - Only 10% of runs match expected hierarchy; critical gates omitted or misordered in majority of predictions",
      "summary": "Model understands the target populations but exhibits high structural variability, frequently omitting the viability gate and inconsistently ordering early gates, making it unreliable for reproducible gating strategy generation.",
      "raw_response": "Looking at the 10 predictions against the expected hierarchy:\n\n**Expected:** All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3+/- split\n\n**Analysis of predictions:**\n\n1. **Runs 1, 2:** Missing \"Live cells\" gate - otherwise correct structure\n2. **Run 3:** Adds spurious \"Cells\" gate, missing \"Lymphocytes\", uses \"CD4+\" instead of \"CD4+ T cells\"\n3. **Run 4:** Missing \"Live cells\", adds FoxP3hi/lo subgates not in ground truth\n4. **Run 5:** Wrong order (Lymphocytes > Singlets), incomplete (missing FoxP3- branch)\n5. **Run 6:** **Correct structure** - matches ground truth exactly (minor name variation \"Tconv\" vs \"non-Treg\")\n6. **Run 7:** Missing \"Lymphocytes\", adds FoxP3++ gate not in ground truth\n7. **Run 8:** Wrong order (Lymphocytes > Singlets), incomplete\n8. **Runs 9, 10:** Correct base structure but add FoxP3hi/lo subgates not in ground truth\n\n**Key issues observed:**\n- Only 1/10 runs match ground truth structure exactly (Run 6)\n- 4/10 runs omit \"Live cells\" gate (critical viability gate)\n- 2/10 runs have reversed Singlets/Lymphocytes order (biologically wrong)\n- 4/10 runs add FoxP3 intensity subgates not in ground truth\n- 2/10 runs incomplete (missing FoxP3- branch)\n\nMEDIAN_QUALITY: 6 (typical run missing 1 critical gate or has minor structural error)\nCONSISTENCY: 3 (8 unique gate sets across 10 runs, high variability in structure)\nWORST_CASE: 3 (Runs 5, 8: wrong gate order AND incomplete hierarchy)\nBEST_CASE: 9 (Run 6: matches ground truth structure exactly)\nFAILURE_MODES: omits Live cells gate, inconsistent gate ordering, hallucinates FoxP3 intensity subgates, incomplete branches\nRELIABILITY: low - Only 10% of runs match expected hierarchy; critical gates omitted or misordered in majority of predictions\nSUMMARY: Model understands the target populations but exhibits high structural variability, frequently omitting the viability gate and inconsistently ordering early gates, making it unreliable for reproducible gating strategy generation.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.11111111111111116,
      "unique_gate_sets": 9,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2405,
      "timestamp": "2026-01-13T03:50:14.013347",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "missing Time Gate, Lymphocytes/Singlets ordering instability, dump gate hallucination, inconsistent functional gate depth",
      "reliability": "low The model produces scientifically plausible gating strategies but cannot reliably reproduce the exact hierarchy structure or maintain consistency across runs.",
      "summary": "Model demonstrates solid immunological knowledge of T-cell memory phenotyping but exhibits poor structural consistency, consistently misses Time Gate, and shows unstable gate ordering that would require manual correction for practical use.",
      "raw_response": "Looking at these 10 runs, I'll evaluate the model's gating hierarchy predictions against the ground truth.\n\n**Key Observations:**\n\n1. **Structural ordering inconsistency**: The model alternates between two orderings:\n   - Correct: `Singlets > Live cells > Lymphocytes` (Runs 2, 4, 5, 9)\n   - Incorrect: `Lymphocytes > Singlets` (Runs 1, 6, 7, 8) or `Singlets > Lymphocytes > Live` (Runs 3, 10)\n\n2. **Missing Time Gate**: None of the 10 runs include the \"Time Gate\" that appears in the ground truth immediately after \"All Events\"\n\n3. **Added dump channel gate**: All runs include a CD14-CD19- dump gate not in the ground truth hierarchy\n\n4. **Memory subset naming**: Model correctly identifies Naive, Central Memory, Effector Memory, TEMRA subsets using CCR7/CD45RO markers - this is scientifically valid\n\n5. **Functional cytokine gates**: Several runs (2, 3, 5, 7, 10) add extensive functional cytokine gates (IFN-\u03b3+, IL-2+, TNF+, IL-17A+, IL-22+) which align with the \"Functional Analysis\" branch in ground truth, though with different granularity\n\n6. **Variable depth**: Run outputs range from 8 gates (Run 6, 8, 9) to 56 gates (Run 2, 7), showing high variability in interpretation\n\n7. **Core T-cell gating is consistent**: All runs correctly identify CD3+ > CD4+/CD8+ split with memory subsets\n\n**Failure Modes:**\n- Time Gate consistently missing\n- Lymphocytes/Singlets/Live ordering unstable\n- Dump gate hallucinated (though scientifically reasonable)\n- Highly variable depth/granularity\n\nMEDIAN_QUALITY: 6 (captures core T-cell biology correctly, memory subsets accurate, but structural ordering errors and missing Time Gate)\nCONSISTENCY: 3 (9 unique gate sets from 10 runs, major ordering variations, depth varies 8-56 gates)\nWORST_CASE: 4 (Run 1, 6, 8 - wrong ordering, minimal depth, missing functional analysis)\nBEST_CASE: 7 (Run 2 - correct ordering, comprehensive memory and functional gates, scientifically sound)\nFAILURE_MODES: missing Time Gate, Lymphocytes/Singlets ordering instability, dump gate hallucination, inconsistent functional gate depth\nRELIABILITY: low The model produces scientifically plausible gating strategies but cannot reliably reproduce the exact hierarchy structure or maintain consistency across runs.\nSUMMARY: Model demonstrates solid immunological knowledge of T-cell memory phenotyping but exhibits poor structural consistency, consistently misses Time Gate, and shows unstable gate ordering that would require manual correction for practical use.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "claude-sonnet-4-20250514-cli",
      "condition": "claude-sonnet-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2424,
      "timestamp": "2026-01-13T03:50:42.489463",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.2,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "missing time gate, missing non-beads gate, missing non-aggregates gate, missing HLA-DR+ myeloid intermediate, inconsistent \u03b1\u03b2/\u03b3\u03b4 T cell branching, variable CD45 gate placement, shallow QC hierarchy",
      "reliability": "low The model produces plausible immunological hierarchies but cannot reliably reproduce the specific OMIP-101 protocol's deep QC structure and intermediate gating strategy.",
      "summary": "Model demonstrates good immunological knowledge of terminal populations but fails to capture the paper-specific deep quality control hierarchy and shows unacceptable run-to-run variability in structure and naming.",
      "raw_response": "Looking at this evaluation, I need to compare the model's predictions against the expected OMIP-101 hierarchy which has a specific structure starting with quality control gates (Time gate, Singlets, Non-beads, Leukocytes, Non-aggregates, Non-granulocytes) before branching into Myeloid and Lymphocyte lineages.\n\n**Key observations:**\n\n1. **Structural differences**: The ground truth has a very deep QC hierarchy (6 gates before lineage split), while all predictions use a much shallower QC structure (typically just Singlets \u2192 Leukocytes/CD45+)\n\n2. **Missing critical gates**: None of the predictions include:\n   - Time gate\n   - Non-beads\n   - Non-aggregates\n   - The specific \"Non-T/B/NK contamination\" or \"HLA-DR+ myeloid\" intermediate gates\n\n3. **Population coverage**: The predictions do capture many of the terminal populations (monocyte subsets, B cell subsets, T cell subsets, NK cells) but organize them under different hierarchical structures\n\n4. **Inconsistency**: Every run produces a different gate set (10 unique sets out of 10 runs), showing high variability in:\n   - Whether CD45+ appears as a gate or is merged into \"Leukocytes\"\n   - \u03b1\u03b2 vs direct T cell subdivision\n   - Presence/absence of granulocyte gates\n   - Gate naming conventions\n\n5. **Run 7 is closest**: It includes CD66- Non-granulocytes which partially mirrors the expected structure, but still misses the deeper QC gates\n\n6. **Hallucinations are minimal**: The populations predicted generally make biological sense for the markers in a 27-color whole blood panel\n\nMEDIAN_QUALITY: 4 (captures most terminal populations but misses critical intermediate gates and QC hierarchy)\nCONSISTENCY: 2 (10 unique gate sets across 10 runs; naming and structure vary significantly)\nWORST_CASE: 3 (Run 1 has inverted Leukocytes>Singlets order which is incorrect)\nBEST_CASE: 5 (Run 7 with CD66- Non-granulocytes gate shows partial structural understanding)\nFAILURE_MODES: missing time gate, missing non-beads gate, missing non-aggregates gate, missing HLA-DR+ myeloid intermediate, inconsistent \u03b1\u03b2/\u03b3\u03b4 T cell branching, variable CD45 gate placement, shallow QC hierarchy\nRELIABILITY: low The model produces plausible immunological hierarchies but cannot reliably reproduce the specific OMIP-101 protocol's deep QC structure and intermediate gating strategy.\nSUMMARY: Model demonstrates good immunological knowledge of terminal populations but fails to capture the paper-specific deep quality control hierarchy and shows unacceptable run-to-run variability in structure and naming.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2490,
      "timestamp": "2026-01-13T03:51:09.481973",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.9,
      "worst_case": 0.6,
      "best_case": 0.6,
      "failure_modes": "Missing lymphocyte gate, missing memory B cell functional subtypes (RM/AM/TLM), missing time gate, missing IgE+ population",
      "reliability": "medium The model reliably predicts the immunoglobulin isotype structure but consistently omits the memory B cell functional classification that distinguishes this OMIP.",
      "summary": "Strong performance on IgG/IgA subclass hierarchy with high consistency, but systematically misses the memory B cell functional subtypes (RM, AM, TLM) that are central to OMIP-074's design.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-074 (B cell IgG/IgA subclass phenotyping)\n\n### Analysis\n\n**Structural Comparison:**\n\nThe ground truth hierarchy uses:\n- Time gate \u2192 Singlets \u2192 Lymphocytes \u2192 Live cells \u2192 B cells\n\nThe model consistently predicts:\n- Bead Events Removed/Cell Events \u2192 Singlets \u2192 Live Cells \u2192 B Cells\n\n**Key Observations:**\n\n1. **Consistent core structure:** All 10 runs correctly identify the main B cell hierarchy and IgG subclass breakdown (IgG1-4)\n\n2. **Two minor variants:** \n   - Runs 1,2,6,7,10: \"Bead Events Removed\" as second level\n   - Runs 3,4,5,8,9: \"Cell Events\" with separate \"Bead Events\" branch\n   - Both are reasonable flow cytometry conventions\n\n3. **Missing gates from ground truth:**\n   - Lymphocytes gate (model skips directly to Live Cells \u2192 B Cells)\n   - Time gate\n   - Memory B cell subtypes: Resting Memory (RM), Activated Memory (AM), Tissue-like Memory (TLM)\n   - IgE+ B cells\n\n4. **Correctly predicted:**\n   - Naive B cells (as IgM+ IgD+, which is biologically accurate)\n   - Class-switched structure with IgG and IgA branches\n   - All 4 IgG subclasses (IgG1, IgG2, IgG3, IgG4)\n   - IgA subclasses (IgA1, IgA2)\n\n5. **Hallucinations:** None - all predicted gates are biologically reasonable and supported by the panel\n\n### Verdict\n\nMEDIAN_QUALITY: 6 (captures immunoglobulin subclass structure well but misses memory B cell functional subtypes RM/AM/TLM and lymphocyte gate)\nCONSISTENCY: 9 (only cosmetic variation between \"Bead Events Removed\" vs \"Cell Events\" naming convention)\nWORST_CASE: 6 (all runs have the same substantive content)\nBEST_CASE: 6 (none recover the memory B cell subtypes)\nFAILURE_MODES: Missing lymphocyte gate, missing memory B cell functional subtypes (RM/AM/TLM), missing time gate, missing IgE+ population\nRELIABILITY: medium The model reliably predicts the immunoglobulin isotype structure but consistently omits the memory B cell functional classification that distinguishes this OMIP.\nSUMMARY: Strong performance on IgG/IgA subclass hierarchy with high consistency, but systematically misses the memory B cell functional subtypes (RM, AM, TLM) that are central to OMIP-074's design.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2888,
      "timestamp": "2026-01-13T03:51:41.155138",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-087 | gemini-2.0-flash | minimal_direct\n\n**Ground Truth Analysis:**\n- OMIP-087 is a CyTOF panel (mass cytometry) - note this means scatter-based gates (Time Gate, Singlets) are not applicable\n- Ground truth has a relatively flat hierarchy: All Events \u2192 Leukocytes \u2192 T cells \u2192 CD4+/CD8+ \u2192 memory subsets + specialized populations (Tregs, Tfh)\n- Key populations: Naive, Stem cell memory, Central memory, Transitional memory, Effector memory, Terminal effector, Tregs, Tfh\n\n**Prediction Analysis:**\n\n*Strengths:*\n- Correctly identifies core T cell memory subsets (Naive, Central Memory, Effector Memory, Terminal/Terminally Differentiated)\n- Maintains logical hierarchy structure\n- 100% parse success rate\n- High consistency (89%) with only 2 unique gate set patterns\n\n*Weaknesses:*\n1. **Adds inappropriate gates for CyTOF:** Time Gate, Singlets, Live Cells - these are flow cytometry conventions that don't apply to mass cytometry\n2. **Adds intermediate \"Lymphocytes\" gate** not in ground truth\n3. **Inconsistent TCR\u03b1\u03b2/TCR\u03b3\u03b4 branching:** Runs 1-4, 7-8, 10 include TCRab+/TCRgd+ split; Runs 5-6, 9 skip it\n4. **Missing populations:** Stem cell memory, Transitional memory, T follicular helper cells (Tfh)\n5. **Name variations:** \"Terminally Differentiated\" vs ground truth \"Terminal effector\"; \"Tregs\" vs \"T regulatory cells\"\n6. **Missing half the CD8+ parallel structure** in shown paths\n\n*Two Prediction Patterns:*\n- Pattern A (7 runs): Includes TCRab+/TCRgd+ split\n- Pattern B (3 runs): Skips TCRab/TCRgd, goes directly T Cells \u2192 CD4+\n\n---\n\n**MEDIAN_QUALITY: 5**\n(Captures main memory subsets but adds inappropriate CyTOF gates, misses specialized populations)\n\n**CONSISTENCY: 8**\n(High consistency with only 2 structural variants; the TCRab branching difference is the main source of variation)\n\n**WORST_CASE: 5**\n(Both patterns have similar quality - neither is significantly worse)\n\n**BEST_CASE: 6**\n(Pattern B without TCRab split is slightly cleaner for this CyTOF panel, but still has inappropriate pre-gating)\n\n**FAILURE_MODES:** inappropriate scatter gates for CyTOF, missing stem cell memory subset, missing transitional memory subset, missing Tfh population, inconsistent TCRab/TCRgd inclusion\n\n**RELIABILITY: medium** The model reliably produces parseable hierarchies with core memory subsets but systematically adds flow cytometry conventions inappropriate for CyTOF and misses specialized T cell populations.\n\n**SUMMARY:** Gemini-2.0-flash demonstrates good structural consistency but lacks domain awareness to distinguish CyTOF from flow cytometry, resulting in systematic addition of irrelevant scatter gates and incomplete coverage of specialized T cell subsets (Tfh, stem cell memory, transitional memory).",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2348,
      "timestamp": "2026-01-13T03:52:09.312678",
      "error": null,
      "median_quality": 0.2,
      "consistency": 0.8,
      "worst_case": 0.2,
      "best_case": 0.3,
      "failure_modes": "prior retrieval over panel-specific reasoning, missed MAIT cells, missed \u03b3\u03b4 T cells, missed ILC subsets, hallucinated conventional Th subsets not in panel focus",
      "reliability": "low The model consistently generates generic T cell hierarchies instead of reasoning about OMIP-064's specialized NK/ILC/unconventional T cell focus.",
      "summary": "High consistency but systematically wrong - the model retrieves a stereotypical PBMC gating strategy rather than reasoning about this panel's unique focus on MAIT, \u03b3\u03b4 T cells, and ILCs.",
      "raw_response": "Looking at this evaluation, I need to compare the model's predictions against the ground truth hierarchy for OMIP-064, which focuses on NK cells, ILCs, MAIT cells, and \u03b3\u03b4 T cells.\n\n**Key Observations:**\n\n1. **Ground truth focus**: OMIP-064 is a 27-color panel specifically designed for NK cells, ILCs, MAIT, and \u03b3\u03b4 T cells - unconventional lymphocyte populations.\n\n2. **Model predictions**: Across all 10 runs, the model consistently predicts a **conventional T cell hierarchy** (CD4/CD8 T cells with memory/naive/Th subsets) rather than the specialized populations in the panel.\n\n3. **Critical misses**:\n   - MAIT cells: Never predicted (ground truth has explicit MAIT gate)\n   - \u03b3\u03b4 T cells: Never predicted (ground truth has explicit \u03b3\u03b4 T cell gate)\n   - ILCs: Never predicted correctly (model has no ILC branch)\n   - NK cell subsets: Partially predicted but wrong hierarchy structure\n\n4. **What the model got right**:\n   - Basic gating backbone: All Events > Singlets > Live Cells > Lymphocytes > T Cells\n   - Predicted NK cells exist (but under wrong parent in some runs)\n\n5. **Consistency patterns**:\n   - Runs 1-5 and 10: Similar detailed CD4/CD8 breakdown (~27 gates)\n   - Runs 6-9: Slightly different Th1/Th2/Th17 structure (~17 gates)\n   - High internal consistency (0.89 score) but consistently **wrong**\n\n**Failure Analysis**: The model appears to be generating a \"generic PBMC panel\" hierarchy based on token frequency priors rather than reasoning from the actual markers in OMIP-064. This is a classic **frequency confound** - the model retrieves common gating patterns rather than reasoning about the specific panel's unusual target populations.\n\nMEDIAN_QUALITY: 2 (correct backbone but completely misses panel-specific populations - MAIT, \u03b3\u03b4 T, ILCs)\nCONSISTENCY: 8 (highly reproducible predictions across runs, only 2 unique gate sets)\nWORST_CASE: 2 (all runs equally miss the key populations)\nBEST_CASE: 3 (none capture the specialized cell types this panel targets)\nFAILURE_MODES: prior retrieval over panel-specific reasoning, missed MAIT cells, missed \u03b3\u03b4 T cells, missed ILC subsets, hallucinated conventional Th subsets not in panel focus\nRELIABILITY: low The model consistently generates generic T cell hierarchies instead of reasoning about OMIP-064's specialized NK/ILC/unconventional T cell focus.\nSUMMARY: High consistency but systematically wrong - the model retrieves a stereotypical PBMC gating strategy rather than reasoning about this panel's unique focus on MAIT, \u03b3\u03b4 T cells, and ILCs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2355,
      "timestamp": "2026-01-13T03:52:36.466609",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.9,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "inverted singlet/live gate order, Tfh not identified as distinct population, NK lineage underrepresented in visible output, over-specification of Th subsets beyond ground truth",
      "reliability": "medium - Model produces consistent and immunologically plausible hierarchies but has a systematic structural error in early gating that would cause problems in actual analysis workflows.",
      "summary": "Gemini-2.0-flash demonstrates strong consistency and reasonable biological knowledge of T cell subsets, but a persistent error in singlet/live gate ordering and failure to capture OMIP-025's specific Tfh and NK populations limits accuracy to moderate levels.",
      "raw_response": "Looking at this evaluation task, I need to analyze the model's gating hierarchy predictions against the ground truth.\n\n**Key Observations:**\n\n1. **Structural Error (All Runs):** The model consistently predicts `Live Cells > Singlets` but ground truth is `Singlets > Live cells`. This is a significant ordering error - in standard flow cytometry, singlet gating (FSC-A vs FSC-H) precedes live/dead discrimination.\n\n2. **Gate Content:** The model provides explicit memory subsets (Naive, Central Memory, Effector Memory, Terminally Differentiated) while ground truth uses abstract groupings (\"CD4+ Memory subsets\", \"CD4+ Functional subsets\"). The model's predictions are actually more granular/specific than the ground truth nomenclature.\n\n3. **Missing Components:** \n   - Follicular helper T cells (Tfh) - present in ground truth, partially captured as \"T Helper Cells\" in predictions but this is not equivalent\n   - NK cells and NK Functional subsets - the predictions shown focus on T cells; NK lineage presence unclear from truncated output\n\n4. **Consistency:** Very high - only 2 unique gate sets across 10 runs (0.89 consistency score). Runs 1-2, 8, 10 share one pattern; runs 3-7, 9 share another (slightly more detailed Th subset breakdown).\n\n5. **Hallucinations:** The model predicts Th1, Th2 subsets (runs 3-7, 9) which may or may not be in the panel - this represents potential over-specification beyond what the ground truth captures.\n\nMEDIAN_QUALITY: 6 (captures major T cell subsets correctly but has structural ordering error and misses Tfh/NK specificity)\nCONSISTENCY: 9 (highly reproducible with only minor variation in Th subset depth)\nWORST_CASE: 5 (runs with shallower hierarchy missing functional detail)\nBEST_CASE: 7 (runs 3-7, 9 with more complete T helper breakdown, though still has structural error)\nFAILURE_MODES: inverted singlet/live gate order, Tfh not identified as distinct population, NK lineage underrepresented in visible output, over-specification of Th subsets beyond ground truth\nRELIABILITY: medium - Model produces consistent and immunologically plausible hierarchies but has a systematic structural error in early gating that would cause problems in actual analysis workflows.\nSUMMARY: Gemini-2.0-flash demonstrates strong consistency and reasonable biological knowledge of T cell subsets, but a persistent error in singlet/live gate ordering and failure to capture OMIP-025's specific Tfh and NK populations limits accuracy to moderate levels.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2353,
      "timestamp": "2026-01-13T03:53:01.513931",
      "error": null,
      "median_quality": 0.2,
      "consistency": 0.9,
      "worst_case": 0.2,
      "best_case": 0.2,
      "failure_modes": "wrong cell lineage focus (lymphocytes vs monocytes), missing all critical monocyte subsets, ignoring SLAN marker stratification, defaulting to generic PBMC template",
      "reliability": "low The model reliably produces the wrong answer - high consistency masks complete failure to interpret the panel's actual purpose.",
      "summary": "The model demonstrates confident hallucination: it generates plausible but entirely incorrect lymphocyte-focused hierarchies when the panel specifically targets monocyte subset classification with SLAN markers.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-083\n\nLooking at the predictions across 10 runs versus the expected hierarchy:\n\n**Expected focus:** Monocyte subsets (Classical, Intermediate, SLAN+/- Nonclassical) nested under Non-granulocytes\n\n**Predicted focus:** T cell and B cell populations with PD-1 stratification - a completely different biological lineage\n\n### Key Observations\n\n1. **Wrong population focus**: The ground truth is a monocyte-focused panel (Classical/Intermediate/Nonclassical monocytes with SLAN markers). The model consistently predicts lymphocyte-focused hierarchies (T cells, B cells, NK cells) with no monocyte subtyping.\n\n2. **High consistency, wrong answer**: The model is remarkably consistent (0.89 consistency score, only 2 unique gate sets across 10 runs), but it's consistently wrong. This is a classic case of confident hallucination.\n\n3. **Plausible but incorrect**: The predicted hierarchies are biologically valid gating strategies for PBMCs - they're just not what OMIP-083 actually measures. The model appears to be generating a \"generic PBMC panel\" rather than reading the specific markers.\n\n4. **Missing critical gates**: None of the monocyte subsets (Classical, Intermediate, SLAN+/- Nonclassical) appear in any prediction. The \"Non-granulocytes\" intermediate gate is also absent.\n\n5. **Structural differences**: Ground truth uses \"Cleaned Events\" \u2192 \"Leukocytes\" \u2192 \"Non-granulocytes\" \u2192 \"Monocytes\". Model uses \"Live Cells\" \u2192 \"Singlets\" \u2192 \"CD45+ Leukocytes\" \u2192 \"Lymphocytes\" - a fundamentally different branching strategy.\n\n---\n\nMEDIAN_QUALITY: 2 (predictions are structurally valid but target wrong cell populations entirely)\nCONSISTENCY: 9 (highly consistent across runs - only 2 unique gate sets)\nWORST_CASE: 2 (all runs have same fundamental error - wrong lineage)\nBEST_CASE: 2 (no run captures the monocyte focus)\nFAILURE_MODES: wrong cell lineage focus (lymphocytes vs monocytes), missing all critical monocyte subsets, ignoring SLAN marker stratification, defaulting to generic PBMC template\nRELIABILITY: low The model reliably produces the wrong answer - high consistency masks complete failure to interpret the panel's actual purpose.\nSUMMARY: The model demonstrates confident hallucination: it generates plausible but entirely incorrect lymphocyte-focused hierarchies when the panel specifically targets monocyte subset classification with SLAN markers.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1978,
      "timestamp": "2026-01-13T03:53:24.495056",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.9,
      "worst_case": 0.5,
      "best_case": 0.5,
      "failure_modes": "inverted singlet-live order, missing Mamu- species prefix, flattened KIR hierarchy instead of nested, missing CD16/CD56 functional subsets",
      "reliability": "medium - Model produces consistent but systematically incorrect hierarchies; the structure errors are reproducible rather than stochastic",
      "summary": "High consistency masks systematic errors: the model reliably produces the same flawed gating logic (wrong gate order, flat instead of nested KIR hierarchy, missing species nomenclature) across all 10 runs.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-035 (Macaque NK Panel)\n\n### Analysis\n\n**Structural Issues (consistent across all runs):**\n1. **Inverted singlet/live order**: Model predicts \"Live Cells > Singlets\" but ground truth has \"Singlets > Live cells\" - this is a fundamental gating workflow error (singlets should come first from FSC-A vs FSC-H)\n\n2. **Missing species-specific nomenclature**: Model uses generic \"KIR3DL01\" and \"KIR3DL05\" instead of the macaque-specific \"Mamu-KIR3DL01\" and \"Mamu-KIR3DL05\" prefixes\n\n3. **Flattened hierarchy structure**: Ground truth has a nested structure:\n   - NK cells \u2192 KIR3DL01+ \u2192 KIR3DL01+ KIR3DL05+/- \n   - NK cells \u2192 KIR3DL01- \u2192 KIR3DL01- KIR3DL05+/-\n   \n   Model instead creates parallel flat gates directly under NK cells (KIR3DL01+, KIR3DL01-, KIR3DL05+, KIR3DL05- as siblings, with combo gates also as siblings)\n\n4. **Missing CD16/CD56 combination gates**: Ground truth includes CD16+CD56+, CD16+CD56-, CD16-CD56+ subsets that model omits\n\n**What the model got right:**\n- Core backbone (All Events \u2192 quality gates \u2192 Lymphocytes \u2192 NK Cells)\n- Recognition that KIR markers need positive/negative discrimination\n- Inclusion of double-positive/double-negative KIR combinations (though structured wrong)\n\n### Scores\n\nMEDIAN_QUALITY: 5\nCONSISTENCY: 9\nWORST_CASE: 5\nBEST_CASE: 5\nFAILURE_MODES: inverted singlet-live order, missing Mamu- species prefix, flattened KIR hierarchy instead of nested, missing CD16/CD56 functional subsets\nRELIABILITY: medium - Model produces consistent but systematically incorrect hierarchies; the structure errors are reproducible rather than stochastic\nSUMMARY: High consistency masks systematic errors: the model reliably produces the same flawed gating logic (wrong gate order, flat instead of nested KIR hierarchy, missing species nomenclature) across all 10 runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 1.0,
      "unique_gate_sets": 1,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1323,
      "timestamp": "2026-01-13T03:53:48.120931",
      "error": null,
      "median_quality": 0.1,
      "consistency": 1.0,
      "worst_case": 0.1,
      "best_case": 0.1,
      "failure_modes": "generic placeholder populations instead of specific cell types, missing all expected immune populations (T cells, B cells, NK cells, monocytes, macrophages, DCs, ILCs), truncated hierarchy depth",
      "reliability": "low The model consistently fails to identify any specific cell populations, making it unreliable for the core gating prediction task despite perfect parsing.",
      "summary": "The model achieves perfect consistency by producing the same uninformative output every time - it correctly structures the initial gates but completely fails to identify any biological populations, suggesting a systematic failure in the minimal context condition rather than stochastic errors.",
      "raw_response": "Looking at these predictions across 10 runs, I can evaluate the model's performance:\n\n**Analysis:**\n\nThe model produces **identical output across all 10 runs** - perfect consistency, but the predictions are fundamentally flawed:\n\n1. **Generic placeholders instead of populations**: The model outputs \"Cell Population 1\" and \"Cell Population 2\" instead of identifying actual immune cell types (T cells, B cells, NK cells, monocytes, dendritic cells, etc.)\n\n2. **Missing biological reasoning**: The expected hierarchy has 12+ distinct cell populations with proper immunological nomenclature. The model provides only 2 generic placeholders with no biological content.\n\n3. **Adds \"Time Gate\"**: This is technically valid (time gates are used in flow cytometry QC) but wasn't in the expected hierarchy.\n\n4. **Correct basic structure**: The model does correctly identify the initial gating steps (Singlets > Live Cells) and maintains proper hierarchy depth.\n\n5. **Complete failure at the task objective**: The core task is predicting *which* cell populations to gate based on the panel markers. Returning generic placeholders indicates the model either:\n   - Didn't receive/process the panel information properly\n   - Refused to commit to specific population identifications\n   - Has a systematic failure in the \"minimal\" context condition\n\nMEDIAN_QUALITY: 1 (correct basic structure but no biological content - essentially non-responsive to the actual task)\nCONSISTENCY: 10 (perfectly identical across all runs)\nWORST_CASE: 1 (all runs are identical and equally poor)\nBEST_CASE: 1 (no variation to produce better results)\nFAILURE_MODES: generic placeholder populations instead of specific cell types, missing all expected immune populations (T cells, B cells, NK cells, monocytes, macrophages, DCs, ILCs), truncated hierarchy depth\nRELIABILITY: low The model consistently fails to identify any specific cell populations, making it unreliable for the core gating prediction task despite perfect parsing.\nSUMMARY: The model achieves perfect consistency by producing the same uninformative output every time - it correctly structures the initial gates but completely fails to identify any biological populations, suggesting a systematic failure in the minimal context condition rather than stochastic errors.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2635,
      "timestamp": "2026-01-13T03:54:14.316060",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.9,
      "worst_case": 0.7,
      "best_case": 0.7,
      "failure_modes": "missing plasma cells/plasmablasts, missing activated B cells, over-detailed gate naming",
      "reliability": "high The model produces biologically sound hierarchies with excellent run-to-run consistency; differences from ground truth reflect reasonable alternative gating philosophies rather than errors.",
      "summary": "Strong, consistent performance on T cell gating with appropriate marker-based reasoning, though systematically under-predicts B cell differentiation states (plasma cells, plasmablasts) that would require additional markers like CD138/CD38.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-076 (Murine Splenocytes)\n\n### Analysis\n\n**Structural Comparison:**\n- **Ground Truth**: Uses \"Lymphocytes\" as parent for T/B cells, with simple gate names (e.g., \"Naive T cells\", \"Memory B cells\")\n- **Predictions**: Uses \"CD45+ Leukocytes\" as parent (reasonable alternative), with highly descriptive marker-annotated names (e.g., \"CD4+ CD62L+ CD44- Naive T cells\")\n\n**Key Observations:**\n\n1. **Consistent Core Structure**: All 10 runs produce identical early gating (All Events > Singlets > Live Cells > CD45+ Leukocytes > T/B Cells)\n\n2. **Minor Variation**: Runs 4, 7, 9 include explicit CD8+ T cell subsets; other runs focus more on CD4+ populations. This represents 2 unique gate sets with 70% vs 30% distribution.\n\n3. **Biological Accuracy**: \n   - Correctly identifies Tregs (Foxp3+), Tfh (CXCR5+ PD-1+), memory subsets (CD44/CD62L)\n   - Adds ICOS+ Tfh subset not in ground truth (reasonable addition given panel)\n   - Includes \"Tconv\" (conventional T cells) intermediate gate\n   - B cell subsets use IgD/IgM markers appropriately\n\n4. **Differences from Ground Truth**:\n   - Missing: Plasma cells, Plasmablasts, Activated B cells (uses \"Naive B cells\" instead)\n   - Added: Tfh cells, Tconv intermediate, more detailed marker annotations\n   - Structure: CD45+ instead of Lymphocytes parent (both valid)\n\n5. **No Hallucinations**: All predicted markers (CD45, Foxp3, CXCR5, PD-1, CD62L, CD44, IgD, IgM, ICOS) are appropriate for this panel type\n\n---\n\nMEDIAN_QUALITY: 7 (captures major T cell subsets well, misses some B cell populations, reasonable structural choices)\nCONSISTENCY: 9 (highly consistent with only minor CD8+ variation across runs)\nWORST_CASE: 7 (CD8+ inclusion runs are equally valid, no true degradation)\nBEST_CASE: 7 (all runs are functionally equivalent in quality)\nFAILURE_MODES: missing plasma cells/plasmablasts, missing activated B cells, over-detailed gate naming\nRELIABILITY: high The model produces biologically sound hierarchies with excellent run-to-run consistency; differences from ground truth reflect reasonable alternative gating philosophies rather than errors.\nSUMMARY: Strong, consistent performance on T cell gating with appropriate marker-based reasoning, though systematically under-predicts B cell differentiation states (plasma cells, plasmablasts) that would require additional markers like CD138/CD38.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 1.0,
      "unique_gate_sets": 1,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1384,
      "timestamp": "2026-01-13T03:54:36.061485",
      "error": null,
      "median_quality": 0.5,
      "consistency": 1.0,
      "worst_case": 0.5,
      "best_case": 0.5,
      "failure_modes": "missing Lymphocytes gate, missing T cells (CD3+) parent gate, hierarchy too shallow, hallucinated CD4-CD8- and CD4+CD8+ populations",
      "reliability": "medium - The model is highly consistent but systematically omits intermediate gating steps that are essential for proper flow cytometry analysis.",
      "summary": "gemini-2.0-flash produces perfectly consistent but structurally incomplete hierarchies, correctly identifying terminal T cell subsets while systematically skipping the Lymphocytes and CD3+ T cells parent gates required in standard gating workflows.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-008\n\n**Expected hierarchy:**\n- All Events > Singlets > Live cells > Lymphocytes > T cells > CD4+ T cells\n- All Events > Singlets > Live cells > Lymphocytes > T cells > CD8+ T cells\n\n**Predicted hierarchy (identical across all 10 runs):**\n- All Events > Singlets > Live Cells > CD4+ T Cells\n- All Events > Singlets > Live Cells > CD8+ T Cells\n- All Events > Singlets > Live Cells > CD4-CD8- T Cells\n- All Events > Singlets > Live Cells > CD4+CD8+ T Cells\n\n### Analysis\n\n**Correct elements:**\n- All Events, Singlets, Live Cells gates present \u2713\n- CD4+ T Cells and CD8+ T Cells terminal gates present \u2713\n- Basic hierarchy structure preserved \u2713\n\n**Missing gates (structural errors):**\n- **Lymphocytes** gate missing - this is a critical FSC/SSC scatter gate\n- **T cells (CD3+)** gate missing - this is a critical lineage gate that should parent CD4+ and CD8+ subsets\n\n**Hallucinated/extra gates:**\n- CD4-CD8- T Cells - not in ground truth (though biologically valid)\n- CD4+CD8+ T Cells - not in ground truth (though biologically valid for double-positive thymocytes)\n\n**Structural issue:** The model skips two intermediate hierarchy levels, placing CD4/CD8 subsets directly under Live Cells instead of under T cells. This is a significant error because in practice you must first identify lymphocytes by scatter, then T cells by CD3, before subsetting by CD4/CD8.\n\n---\n\nMEDIAN_QUALITY: 5 (captures key terminal populations but missing critical intermediate gates)\nCONSISTENCY: 10 (identical output across all 10 runs)\nWORST_CASE: 5 (all runs identical, same errors throughout)\nBEST_CASE: 5 (no run achieved correct hierarchy depth)\nFAILURE_MODES: missing Lymphocytes gate, missing T cells (CD3+) parent gate, hierarchy too shallow, hallucinated CD4-CD8- and CD4+CD8+ populations\nRELIABILITY: medium - The model is highly consistent but systematically omits intermediate gating steps that are essential for proper flow cytometry analysis.\nSUMMARY: gemini-2.0-flash produces perfectly consistent but structurally incomplete hierarchies, correctly identifying terminal T cell subsets while systematically skipping the Lymphocytes and CD3+ T cells parent gates required in standard gating workflows.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2412,
      "timestamp": "2026-01-13T03:54:57.952665",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: gemini-2.0-flash on OMIP-077 (minimal_direct)\n\n**MEDIAN_QUALITY: 6**\nThe model correctly identifies most major leukocyte populations (monocyte subsets, T cells, B cells, NK cells, granulocytes, DCs) but introduces structural deviations from ground truth - notably adding \"Time Gate\" and \"Myeloid Cells\" intermediate nodes not in the reference hierarchy, and missing some specific populations like NK-T cells, Marginal Zone B cells, and plasma cells.\n\n**CONSISTENCY: 9**\nExcellent consistency with only 2 unique gate sets across 10 runs (0.89 consistency score). Runs 1-3, 5, 8-10 produce one pattern (7/10), while runs 4, 6-7 produce a slightly different but structurally similar pattern (3/10). The core gating backbone is identical across all runs.\n\n**WORST_CASE: 5**\nRuns 4, 6, 7 show a slightly reduced hierarchy with fewer intermediate categories (e.g., \"Neutrophils\" directly under \"Myeloid Cells\" instead of under \"Granulocytes\"), and missing populations like Intermediate Monocytes. Still functional but less detailed than ground truth.\n\n**BEST_CASE: 7**\nRuns 1-3, 5, 8-10 include proper granulocyte subgating (Neutrophils, Eosinophils under Granulocytes) and all three monocyte subsets. However, even best cases add non-standard intermediate nodes (Time Gate, Myeloid Cells) and miss NK-T cells, Marginal Zone B cells, and plasma cells.\n\n**FAILURE_MODES: structural hallucination (Time Gate, Myeloid Cells intermediate), missing NK-T cells, missing plasma cells, missing Marginal Zone B cells, inconsistent granulocyte subgating depth**\n\n**RELIABILITY: medium** - The model produces highly consistent outputs but systematically introduces structural modifications and misses several specialized populations from the ground truth hierarchy.\n\n**SUMMARY: gemini-2.0-flash demonstrates excellent run-to-run consistency (89%) and correctly identifies core leukocyte populations, but reliably introduces structural hallucinations (extra intermediate nodes) while missing specialized populations like NK-T cells, plasma cells, and marginal zone B cells that require deeper immunological knowledge.**",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1116,
      "timestamp": "2026-01-13T03:55:20.047776",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.7,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing Lymphocytes gate, Time Gate hallucination (40%), CD4- branch hallucination (40%)",
      "reliability": "medium - Model reliably identifies Treg vs non-Treg terminal populations but consistently skips the Lymphocytes gate, making it unsuitable for exact hierarchy reproduction without post-processing.",
      "summary": "Model correctly identifies the FoxP3+/- split under CD4+ but systematically omits the Lymphocytes parent gate and occasionally hallucinates Time Gate and CD4- populations.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-053 (Treg Panel)\n\nLooking at the 10 runs, I see two distinct prediction patterns:\n\n**Pattern A (Runs 1,2,6,7,8,9 - 6/10 runs):**\n- Missing: Lymphocytes gate\n- Otherwise correct terminal populations (FoxP3+ Tregs, FoxP3- CD4+ T Cells)\n\n**Pattern B (Runs 3,4,5,10 - 4/10 runs):**\n- Adds: Time Gate (not in ground truth)\n- Missing: Lymphocytes gate\n- Uses \"Viable Cells\" instead of \"Live cells\"\n- Adds: CD4- branch (not in ground truth - hallucination)\n- Shorter gate names (FoxP3+ vs FoxP3+ Treg)\n\n**Key observations:**\n1. **All 10 runs miss the Lymphocytes gate** - consistent structural error\n2. Pattern B adds a Time Gate and CD4- population not in ground truth\n3. Terminal Treg/non-Treg distinction is correctly captured in all runs\n4. Naming variations are minor (Live Cells vs Viable Cells, Tregs vs Treg)\n\n---\n\nMEDIAN_QUALITY: 7 (captures core Treg logic but consistently misses Lymphocytes gate)\nCONSISTENCY: 7 (two distinct patterns with 60/40 split, but both share the same core error)\nWORST_CASE: 5 (Pattern B adds Time Gate and CD4- hallucination, missing Lymphocytes)\nBEST_CASE: 7 (Pattern A is close but still missing Lymphocytes gate)\nFAILURE_MODES: missing Lymphocytes gate, Time Gate hallucination (40%), CD4- branch hallucination (40%)\nRELIABILITY: medium - Model reliably identifies Treg vs non-Treg terminal populations but consistently skips the Lymphocytes gate, making it unsuitable for exact hierarchy reproduction without post-processing.\nSUMMARY: Model correctly identifies the FoxP3+/- split under CD4+ but systematically omits the Lymphocytes parent gate and occasionally hallucinates Time Gate and CD4- populations.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2302,
      "timestamp": "2026-01-13T03:55:41.731494",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.9,
      "worst_case": 0.6,
      "best_case": 0.7,
      "failure_modes": "Missing Time Gate, over-enumeration of functional gates instead of abstract categories, Leukocytes vs Lymphocytes terminology",
      "reliability": "medium - Model reliably produces biologically sensible hierarchies but consistently misses QC gates and over-specifies functional analysis structure",
      "summary": "High consistency but systematically deviates from ground truth by omitting Time Gate and expanding functional gates into enumerated cytokine-specific populations rather than abstract categories.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-022\n\n**Comparison Analysis:**\n\nThe model's predictions show several consistent patterns across all 10 runs:\n\n**Correct elements:**\n- Core gating hierarchy preserved: All Events \u2192 Singlets \u2192 Live Cells \u2192 Leukocytes/Lymphocytes \u2192 T Cells \u2192 CD4/CD8 subsets\n- Memory subset expansion (Naive, Central Memory, Effector Memory) - correctly identified\n- Functional analysis gates (IFN-\u03b3, IL-2, TNF, IL-17A, IL-22) - correctly identified from panel markers\n\n**Systematic deviations from ground truth:**\n1. **Missing Time Gate** - all predictions skip this QC step present in ground truth\n2. **Terminology difference** - \"Leukocytes\" instead of \"Lymphocytes\" (minor but consistent)\n3. **Over-specification** - predictions enumerate individual cytokine gates under each memory subset, while ground truth abstracts these as \"Functional Analysis\"\n4. **Structure difference** - ground truth shows \"Memory Subsets\" and \"Functional Analysis\" as sibling categories under CD4+/CD8+; predictions nest functional gates under each memory subset\n\n**Consistency observations:**\n- Only 2 unique gate sets across 10 runs (0.89 consistency score)\n- Variation is minor: \"CD4+ T Cells\" vs \"CD4 T Cells\" (with/without plus sign)\n- Core structure and gate names are highly reproducible\n\n---\n\nMEDIAN_QUALITY: 6\nCONSISTENCY: 9\nWORST_CASE: 6\nBEST_CASE: 7\nFAILURE_MODES: Missing Time Gate, over-enumeration of functional gates instead of abstract categories, Leukocytes vs Lymphocytes terminology\nRELIABILITY: medium - Model reliably produces biologically sensible hierarchies but consistently misses QC gates and over-specifies functional analysis structure\nSUMMARY: High consistency but systematically deviates from ground truth by omitting Time Gate and expanding functional gates into enumerated cytokine-specific populations rather than abstract categories.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2717,
      "timestamp": "2026-01-13T03:56:03.117306",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.7,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing cleanup gates (Non-beads, Non-aggregates), missing Non-T/B/NK contamination gate, over-simplified hierarchy depth, inconsistent viability gate naming (Live Cells vs Viable Cells)",
      "reliability": "medium - Model produces biologically reasonable hierarchies with correct terminal populations but systematically omits quality control gates critical for whole blood analysis",
      "summary": "The model demonstrates domain knowledge of major leukocyte populations and their markers but fails to capture the multi-step cleanup gating strategy essential for whole blood immunophenotyping panels.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-101\n\n### Structural Analysis\n\n**Two distinct prediction patterns observed:**\n\n**Pattern A (Runs 1, 2, 4, 5, 7, 8, 10 - 7/10 runs):**\n- Root: `All Events > Live Cells > Singlets > CD45+ Leukocytes`\n- Omits Time gate and Non-beads cleanup\n- Uses marker-based naming (CD66+, CD33+, CD14+, CD16+)\n\n**Pattern B (Runs 3, 6, 9 - 3/10 runs):**\n- Root: `All Events > Time Gate > Singlets > Viable Cells > CD45+ Leukocytes`\n- Includes Time gate (matching ground truth)\n- Uses population-based naming (Classical Monocytes, mDC1/mDC2)\n\n### Comparison to Ground Truth\n\n**Ground truth structure:**\n`All Events > Time gate > Singlets > Non-beads > Leukocytes > Non-aggregates > Non-granulocytes > ...`\n\n**Key discrepancies:**\n1. **Missing cleanup gates**: Non-beads, Non-aggregates never predicted\n2. **Missing intermediate gate**: \"Non-T/B/NK contamination\" before HLA-DR+ myeloid\n3. **Simplified hierarchy**: Both patterns compress 8 levels to 5-6 levels\n4. **Granulocyte placement**: Predicted as terminal leaf; ground truth excludes them via \"Non-granulocytes\"\n5. **Monocyte subtypes**: Correctly identifies classical/non-classical/intermediate but wrong parent structure\n6. **DC subtypes**: Predicts mDC1/mDC2 vs ground truth's single \"mDCs\"\n\n### Scoring\n\nMEDIAN_QUALITY: 5\nCONSISTENCY: 7\nWORST_CASE: 4\nBEST_CASE: 6\nFAILURE_MODES: missing cleanup gates (Non-beads, Non-aggregates), missing Non-T/B/NK contamination gate, over-simplified hierarchy depth, inconsistent viability gate naming (Live Cells vs Viable Cells)\nRELIABILITY: medium - Model produces biologically reasonable hierarchies with correct terminal populations but systematically omits quality control gates critical for whole blood analysis\nSUMMARY: The model demonstrates domain knowledge of major leukocyte populations and their markers but fails to capture the multi-step cleanup gating strategy essential for whole blood immunophenotyping panels.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2692,
      "timestamp": "2026-01-13T03:56:30.487708",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.7,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing Time gate, missing Lymphocytes gate, incorrect memory B cell classification (generic Memory vs RM/AM/TLM), missing IgE+ B cells, Pattern A hallucinations (CD21+, light chain gates)",
      "reliability": "medium Model produces two alternating output formats across runs; Pattern B is structurally reasonable for immunoglobulin subtyping but systematically omits the specialized memory B cell phenotyping that defines OMIP-074.",
      "summary": "The model correctly infers the IgG/IgA subclass hierarchy but fails to capture the OMIP-074-specific memory B cell classification (RM/AM/TLM) and consistently omits Time gate and Lymphocytes gating steps.",
      "raw_response": "Looking at the 10 runs, I can identify two distinct prediction patterns:\n\n**Pattern A (Runs 1, 7, 9):** Uses verbose gate names with marker definitions (e.g., \"FSC-A vs SSC-A\", \"B Cells (CD19+CD20+)\"), includes \"Naive vs Memory\" as an intermediate gate, groups IgG subtypes together, adds CD21+ and light chain gates.\n\n**Pattern B (Runs 2-6, 8, 10):** Uses cleaner gate names (\"Cells\", \"Singlets\", \"Live Cells\"), has proper Class-Switched B Cells hierarchy with separate IgG/IgA branches.\n\n**Comparison to Ground Truth:**\n\nThe ground truth shows a specific B cell memory classification scheme:\n- Naive B cells, Resting Memory (RM), Activated Memory (AM), Tissue-like Memory (TLM)\n- Class-switched hierarchy with IgE+, IgA+ (\u2192IgA1, IgA2), IgG+ (\u2192IgG1-4)\n- Critical: Time gate and Lymphocytes gates present\n\n**Key Discrepancies:**\n1. **Missing Time gate** - Neither pattern includes this critical QC gate\n2. **Missing Lymphocytes gate** - Ground truth has explicit lymphocyte gate before Live cells\n3. **Memory B cell subsets wrong** - Model predicts generic \"Memory B Cells\" instead of RM/AM/TLM classification\n4. **Missing IgE+ branch** - Not captured in any run\n5. **Pattern A adds hallucinated gates** - CD21+ B cells, IgKappa/IgLambda gates not in ground truth hierarchy\n\n**Positive aspects:**\n- Core B cell \u2192 Class-switched \u2192 IgG/IgA \u2192 subtype structure captured (Pattern B)\n- Naive B cells correctly identified\n- IgG1-4 and IgA1/IgA2 subtypes present\n\nMEDIAN_QUALITY: 5 (captures IgG/IgA subclass structure but misses memory B cell classification scheme and critical early gates)\nCONSISTENCY: 7 (two stable patterns with 70% in Pattern B, but the bimodal distribution reduces reliability)\nWORST_CASE: 4 (Pattern A adds hallucinated gates like CD21+ and light chains, uses non-standard intermediate nodes)\nBEST_CASE: 6 (Pattern B has cleaner structure matching class-switched hierarchy, but still missing Time gate, Lymphocytes, and memory subsets)\nFAILURE_MODES: missing Time gate, missing Lymphocytes gate, incorrect memory B cell classification (generic Memory vs RM/AM/TLM), missing IgE+ B cells, Pattern A hallucinations (CD21+, light chain gates)\nRELIABILITY: medium Model produces two alternating output formats across runs; Pattern B is structurally reasonable for immunoglobulin subtyping but systematically omits the specialized memory B cell phenotyping that defines OMIP-074.\nSUMMARY: The model correctly infers the IgG/IgA subclass hierarchy but fails to capture the OMIP-074-specific memory B cell classification (RM/AM/TLM) and consistently omits Time gate and Lymphocytes gating steps.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2488,
      "timestamp": "2026-01-13T03:56:54.861864",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-087 (10 runs)\n\n**MEDIAN_QUALITY: 4** \nThe model correctly identifies the high-level hierarchy (All Events \u2192 Singlets \u2192 Leukocytes \u2192 Lymphocytes \u2192 T cells \u2192 CD4+ T cells) but fails to resolve the critical terminal populations. Instead of predicting specific memory subsets (Naive, Stem cell memory, Central memory, Effector memory, etc.), it outputs generic category labels like \"Naive/Memory\", \"CD4+ T Cell Subsets\", or \"Activation/Exhaustion\".\n\n**CONSISTENCY: 8**\nOnly 2 unique gate set patterns across 10 runs with 0.89 consistency score. The model reliably produces one of two structural templates - either the \"Type A\" pattern (runs 1,4,5,6,8) with functional groupings (Naive/Memory, Activation/Exhaustion, Tregs, Th subsets) or \"Type B\" pattern (runs 2,3,7,9,10) with collapsed terminal nodes (CD4+ T Cell Subsets).\n\n**WORST_CASE: 3**\nThe Type B predictions (runs 2,3,7,9,10) collapse all CD4+ memory subsets into a single \"CD4+ T Cell Subsets\" node, losing essentially all discriminatory power for the 8 expected CD4+ terminal populations. Additionally includes hallucinated populations (NK cells, B cells, TCRgd+ T cells) not in the ground truth hierarchy.\n\n**BEST_CASE: 5**\nThe Type A predictions correctly identify Tregs as a distinct population and attempt to group memory/activation phenotypes, but still use category labels rather than specific populations. The structural depth is reasonable (8-9 levels) and includes appropriate quality control gates (Time, Singlets).\n\n**FAILURE_MODES: collapsed-terminal-nodes, category-labels-instead-of-populations, hallucinated-lineages (B cells/NK cells), missing-Tfh-population, missing-memory-subset-granularity**\n\n**RELIABILITY: low** The model produces structurally reasonable hierarchies but systematically fails to resolve the specific memory T cell subsets that are the scientific purpose of OMIP-087 (a 32-parameter CyTOF panel designed specifically for CD4/CD8 memory phenotyping).\n\n**SUMMARY:** gemini-2.0-flash demonstrates consistent structural reasoning for general gating hierarchy but lacks the domain knowledge to predict the specific memory T cell subset nomenclature (Naive, Tscm, Tcm, Ttm, Tem, Tte) that distinguishes this high-parameter mass cytometry panel from basic immunophenotyping.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2916,
      "timestamp": "2026-01-13T03:57:19.548348",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.8,
      "worst_case": 0.2,
      "best_case": 0.4,
      "failure_modes": "Missing MAIT cells entirely, incorrect ILC/NK hierarchy structure, defaulting to generic CD4/CD8 memory subsets instead of panel-specific rare populations, hallucinating conventional T-cell subsets not specified in ground truth",
      "reliability": "low - Model produces plausible generic flow cytometry hierarchies but fails to identify the specialized populations (MAIT, ILCs) that are the actual focus of OMIP-064's 27-color panel",
      "summary": "The model demonstrates high consistency in generating wrong predictions\u2014it reliably outputs a generic T-cell memory/activation hierarchy while completely missing the specialized innate-like lymphocyte populations that define this panel's purpose.",
      "raw_response": "## Evaluation: gemini-2.0-flash on OMIP-064\n\n### Analysis\n\n**Expected hierarchy focus:** MAIT cells, \u03b3\u03b4 T cells, NK cells, ILCs (Innate Lymphoid Cells), Activated NK cells\n\n**What the model predicted:** The model consistently generates a generic T-cell phenotyping hierarchy focused on:\n- CD4+ and CD8+ T cell subsets (naive, memory, effector)\n- Activation markers (HLA-DR, CD38, Ki67)\n- Memory phenotyping (CD27, CD127)\n- Some \u03b3\u03b4 T cell and NK cell gates in expanded hierarchies\n\n**Critical misses across all runs:**\n1. **MAIT cells** - Never predicted (these require specific markers like CD161, V\u03b17.2/TCR-V\u03b124)\n2. **ILC hierarchy** - ILCs are either missing or improperly placed; the expected hierarchy has ILCs as a sibling to T cells, not nested under NK\n3. **\"Other ILC subsets\"** - Not predicted\n4. **Structural error** - Model places NK cells under T cells or as separate from ILCs, whereas ground truth shows NK cells as a subset of ILCs\n\n**Partial matches:**\n- \u03b3\u03b4 T cells appear in some runs but inconsistently placed\n- NK cells appear but with wrong parent relationships\n- Basic gating backbone (Singlets \u2192 Live \u2192 Lymphocytes) is correct\n\n**Consistency patterns:**\n- Two distinct output patterns: verbose parameter-annotated (runs 1,3,6-10) vs cleaner naming (runs 2,4,5)\n- High internal consistency (0.89) but consistently wrong about the specific populations\n\n---\n\nMEDIAN_QUALITY: 3\nCONSISTENCY: 8\nWORST_CASE: 2\nBEST_CASE: 4\nFAILURE_MODES: Missing MAIT cells entirely, incorrect ILC/NK hierarchy structure, defaulting to generic CD4/CD8 memory subsets instead of panel-specific rare populations, hallucinating conventional T-cell subsets not specified in ground truth\nRELIABILITY: low - Model produces plausible generic flow cytometry hierarchies but fails to identify the specialized populations (MAIT, ILCs) that are the actual focus of OMIP-064's 27-color panel\nSUMMARY: The model demonstrates high consistency in generating wrong predictions\u2014it reliably outputs a generic T-cell memory/activation hierarchy while completely missing the specialized innate-like lymphocyte populations that define this panel's purpose.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2792,
      "timestamp": "2026-01-13T03:57:43.221198",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.7,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "Missing NK cell branch entirely, erroneous CD45RA+ parent gate in Pattern B, Time Gate hallucination, over-specification of memory subsets beyond ground truth abstraction level",
      "reliability": "medium - Model captures core T cell hierarchy structure but consistently misses the NK branch and exhibits two competing mental models with different structural errors",
      "summary": "The model demonstrates reasonable T cell gating knowledge with good run-to-run consistency (2 stable patterns), but systematically omits NK cells and introduces structural errors (CD45RA+ misplacement or Time Gate insertion) that would require manual correction in practice.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-025\n\n**Ground Truth Analysis:**\nThe expected hierarchy covers T cells (CD4+ with memory/Tfh/functional subsets, CD8+ with memory/functional subsets) and NK cells with functional subsets, all under standard gating (All Events > Singlets > Live cells > Lymphocytes).\n\n**Prediction Patterns Observed:**\n\nTwo distinct response patterns emerged across 10 runs:\n\n1. **Pattern A (Runs 1,2,4,7,8):** Uses \"Time Gate\" as first gate, then standard hierarchy with specific memory subset names (Naive, Central Memory, Effector Memory, Tfh, PD1+)\n\n2. **Pattern B (Runs 3,5,6,9,10):** Uses \"FSC-A vs SSC-A\" notation, inserts erroneous \"CD45RA+ Cells\" gate before T cells, uses marker-annotated names (CCR7+CD45RA+ Naive, etc.)\n\n**Key Issues:**\n\n- **Time Gate insertion:** Not in ground truth; reasonable but adds non-standard gate\n- **CD45RA+ Cells gate (Pattern B):** Incorrect - CD45RA is a memory marker used within T cell subsets, not a parent gate above T cells. This is a conceptual error.\n- **Missing NK cells:** Neither pattern shows the expected NK cell branch with functional subsets\n- **Over-specification:** Model predicts specific memory subsets (Naive, CM, EM) rather than the abstract \"Memory subsets\" category in ground truth\n- **Inconsistent nomenclature:** Pattern B uses verbose marker annotations; Pattern A is cleaner\n\n---\n\nMEDIAN_QUALITY: 6\nCONSISTENCY: 7\nWORST_CASE: 5\nBEST_CASE: 7\nFAILURE_MODES: Missing NK cell branch entirely, erroneous CD45RA+ parent gate in Pattern B, Time Gate hallucination, over-specification of memory subsets beyond ground truth abstraction level\nRELIABILITY: medium - Model captures core T cell hierarchy structure but consistently misses the NK branch and exhibits two competing mental models with different structural errors\nSUMMARY: The model demonstrates reasonable T cell gating knowledge with good run-to-run consistency (2 stable patterns), but systematically omits NK cells and introduces structural errors (CD45RA+ misplacement or Time Gate insertion) that would require manual correction in practice.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2195,
      "timestamp": "2026-01-13T03:58:05.350599",
      "error": null,
      "median_quality": 0.2,
      "consistency": 0.9,
      "worst_case": 0.2,
      "best_case": 0.2,
      "failure_modes": "missing monocyte subset hierarchy, defaulting to generic PBMC template, ignoring SLAN marker stratification, missing non-granulocyte intermediate gate",
      "reliability": "low The model reliably produces generic PBMC gating but cannot infer specialized population hierarchies from minimal context.",
      "summary": "High consistency but fundamentally wrong - the model defaults to memorized generic PBMC gating templates rather than reasoning about the specific monocyte-focused hierarchy required by OMIP-083.",
      "raw_response": "Looking at the model's predictions across 10 runs compared to the expected OMIP-083 hierarchy:\n\n**Key Observations:**\n\n1. **Complete miss of monocyte subtyping**: The ground truth focuses specifically on monocyte subsets (Classical, Intermediate, SLAN+ Nonclassical, SLAN- Nonclassical) nested under a Non-granulocytes > Monocytes branch. The model never produces this hierarchy.\n\n2. **Generic PBMC template instead**: All 10 runs produce a generic \"pan-leukocyte\" gating strategy with T cells, B cells, NK cells, and granulocytes - which is reasonable for PBMCs but misses the OMIP-083 specialization entirely.\n\n3. **Structural differences**: Ground truth uses \"Cleaned Events > Leukocytes > Non-granulocytes\" while model uses \"Time Gate > Singlets > Live Cells > CD45+ Leukocytes > Lymphocytes/Myeloid\".\n\n4. **High internal consistency**: Two variants exist - one with \"Live Cells\" (runs 1,3,4,6,10) and one without (runs 2,5,7,8,9). Both are structurally similar generic templates.\n\n5. **Panel-appropriate but task-inappropriate**: The model's predictions are plausible generic gating strategies for a PBMC panel, but fail to capture the specific scientific focus of OMIP-083 (monocyte subset characterization).\n\nMEDIAN_QUALITY: 2 (produces valid generic gating but completely misses the monocyte-focused hierarchy)\nCONSISTENCY: 9 (only 2 variants across 10 runs, high structural similarity)\nWORST_CASE: 2 (all runs equally miss the target hierarchy)\nBEST_CASE: 2 (no run captures monocyte subsets)\nFAILURE_MODES: missing monocyte subset hierarchy, defaulting to generic PBMC template, ignoring SLAN marker stratification, missing non-granulocyte intermediate gate\nRELIABILITY: low The model reliably produces generic PBMC gating but cannot infer specialized population hierarchies from minimal context.\nSUMMARY: High consistency but fundamentally wrong - the model defaults to memorized generic PBMC gating templates rather than reasoning about the specific monocyte-focused hierarchy required by OMIP-083.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1868,
      "timestamp": "2026-01-13T03:58:32.911704",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.7,
      "worst_case": 0.2,
      "best_case": 0.4,
      "failure_modes": "incorrect gate ordering (singlets after lymphocytes), missing CD16/CD56 subset gates, flat instead of nested KIR hierarchy, dropped species-specific \"Mamu-\" nomenclature, spurious \"Cells\" gate",
      "reliability": "low - Model shows systematic structural errors and completely misses a major gate category (CD16/CD56), making it unsuitable for replicating this macaque NK panel strategy",
      "summary": "Model identifies the correct endpoint population (NK cells with KIR markers) but fails on gating logic fundamentals\u2014producing biologically implausible hierarchies and missing 3 of 7 terminal gates entirely.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-035 (Macaque NK Panel)\n\n### Analysis\n\n**Ground Truth Structure:**\n- Proper hierarchy: All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 NK cells\n- Then branches into Mamu-KIR3DL01+/- populations (with nested KIR3DL05 subsets)\n- Plus CD16/CD56 combination gates\n\n**Prediction Patterns:**\n\nTwo distinct prediction clusters emerged:\n\n**Cluster A (Runs 1-3, 8):** `All Events > Cells > Singlets > Lymphocytes > NK Cells`\n- Adds spurious \"Cells\" gate\n- Missing \"Live cells\" gate entirely\n- Flat KIR structure (not nested by KIR3DL01 status)\n\n**Cluster B (Runs 4-7, 9-10):** `All Events > Lymphocytes > Singlets > Live Cells > NK Cells`\n- **Incorrect order**: Lymphocytes before Singlets (fundamentally wrong - you gate singlets before any population identification)\n- Has KIR3DL01+/- \u00d7 KIR3DL05+/- quadrants but not nested properly\n\n**Critical Errors Across All Runs:**\n1. **Missing \"Mamu-\" prefix** on KIR gates (species-specific nomenclature lost)\n2. **Missing CD16/CD56 gates entirely** (3 expected gates, 0 predicted)\n3. **Wrong hierarchical structure** for KIR subsets - should be nested (KIR3DL01+ \u2192 KIR3DL05+/-), not flat quadrants\n4. **Incorrect early gating order** in 60% of runs\n\n---\n\nMEDIAN_QUALITY: 3 (captures NK endpoint and KIR markers but wrong structure, missing gates, incorrect hierarchy order)\nCONSISTENCY: 7 (only 2 distinct patterns, but both are wrong in different ways)\nWORST_CASE: 2 (Cluster B with Lymphocytes\u2192Singlets ordering is biologically nonsensical)\nBEST_CASE: 4 (Cluster A at least has plausible early gating, just missing Live cells)\nFAILURE_MODES: incorrect gate ordering (singlets after lymphocytes), missing CD16/CD56 subset gates, flat instead of nested KIR hierarchy, dropped species-specific \"Mamu-\" nomenclature, spurious \"Cells\" gate\nRELIABILITY: low - Model shows systematic structural errors and completely misses a major gate category (CD16/CD56), making it unsuitable for replicating this macaque NK panel strategy\nSUMMARY: Model identifies the correct endpoint population (NK cells with KIR markers) but fails on gating logic fundamentals\u2014producing biologically implausible hierarchies and missing 3 of 7 terminal gates entirely.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2054,
      "timestamp": "2026-01-13T03:58:57.040910",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.9,
      "worst_case": 0.5,
      "best_case": 0.5,
      "failure_modes": "spurious debris removal gate, missing innate lymphoid cells, missing macrophages, missing dendritic cells, incomplete hierarchy depth",
      "reliability": "medium - The model produces highly consistent predictions but systematically underestimates panel complexity, missing ~40% of expected populations while adding an extraneous gate.",
      "summary": "Gemini-2.0-flash demonstrates excellent consistency (0.89 score, only 2 unique outputs) but incomplete recall, reliably capturing core T/B/NK/monocyte populations while systematically missing ILCs, macrophages, and dendritic cells that this 40-color spectral panel is designed to resolve.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-095\n\n### Analysis\n\n**What the model consistently gets right:**\n- Core hierarchical structure: All Events \u2192 Singlets \u2192 Live Cells \u2192 Leukocytes \u2192 major populations\n- Major leukocyte populations: T cells (CD4+, CD8+), B cells, Monocytes, NK cells\n- Correct parent-child relationships for T cell subsets\n\n**What the model consistently gets wrong:**\n1. **Adds \"Debris Removal\" gate** - This extra gate between \"All Events\" and \"Singlets\" is not in the ground truth. While debris removal is a reasonable gating step, it's not specified in OMIP-095's hierarchy.\n\n2. **Missing populations** - The model consistently omits:\n   - Innate lymphoid cells (ILCs)\n   - Macrophages\n   - Dendritic cells\n   - At least 4 additional paths from the ground truth\n\n3. **Incomplete depth** - The ground truth has \"+4 more paths\" indicating deeper or broader hierarchy that the model doesn't capture.\n\n**Variation between runs:**\n- Runs 1-2, 6-7, 9-10: Simple labels (e.g., \"Leukocytes\", \"T Cells\")\n- Runs 3-5, 8: Labels with marker annotations (e.g., \"Leukocytes (CD45+)\", \"T Cells (CD3+)\")\n- This is purely cosmetic variation - the structural predictions are identical\n\n---\n\nMEDIAN_QUALITY: 5 (correctly identifies ~50% of populations with proper hierarchy, but misses ILCs, macrophages, DCs, and adds spurious debris gate)\nCONSISTENCY: 9 (only superficial labeling variation; identical structure across all 10 runs)\nWORST_CASE: 5 (all runs have the same structural issues)\nBEST_CASE: 5 (no run captures the missing populations)\nFAILURE_MODES: spurious debris removal gate, missing innate lymphoid cells, missing macrophages, missing dendritic cells, incomplete hierarchy depth\nRELIABILITY: medium - The model produces highly consistent predictions but systematically underestimates panel complexity, missing ~40% of expected populations while adding an extraneous gate.\nSUMMARY: Gemini-2.0-flash demonstrates excellent consistency (0.89 score, only 2 unique outputs) but incomplete recall, reliably capturing core T/B/NK/monocyte populations while systematically missing ILCs, macrophages, and dendritic cells that this 40-color spectral panel is designed to resolve.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2855,
      "timestamp": "2026-01-13T03:59:24.271885",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing plasma cells and plasmablasts, hallucinated Tfh populations, inconsistent time gate inclusion, B cell subset marker confusion (IgD/IgM vs activation markers)",
      "reliability": "medium - model reliably produces sensible immunological hierarchies but systematically substitutes naive/memory B cells for the ground truth's activated/plasma B cell lineage",
      "summary": "Gemini-2.0-flash demonstrates good structural understanding and T cell gating but has a systematic blind spot for plasma cell differentiation, suggesting the model defaults to canonical B cell memory phenotypes rather than reasoning from the specific panel markers.",
      "raw_response": "## Evaluation: OMIP-076 Gating Hierarchy Predictions\n\n### Analysis\n\n**Ground Truth Structure:**\n- Root: All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes\n- Two main branches: B cells and T cells\n- B cell terminal populations: Plasma cells, Plasmablasts, Activated B cells, Memory B cells\n- T cell terminal populations: Naive, Effector memory, Central memory, Regulatory T cells (with ICOS+ Treg subset)\n\n**Model Predictions:**\n\nTwo distinct response patterns emerged:\n\n**Pattern A (Runs 1, 7, 9, 10):** More verbose, includes explicit scatter gates (FSC-A vs SSC-A), CD45+ leukocyte gate, detailed marker annotations. Deeper hierarchy with 9 full paths including Tfh subsets and memory distinctions.\n\n**Pattern B (Runs 2-6, 8):** Simpler structure with Time Gate, fewer terminal populations. Only 6 paths shown, more compact naming.\n\n**Key Observations:**\n\n1. **Core structure correct:** Both patterns correctly identify Singlets \u2192 Live Cells \u2192 Lymphocytes \u2192 T/B cell split\n2. **T cell gating strong:** Correctly includes Tregs (Foxp3+), memory subsets, CD4/CD8 distinction\n3. **B cell gating partial:** Model predicts IgD/IgM-based subsets (Naive/Memory B cells) but misses ground truth's Plasma cells, Plasmablasts, Activated B cells\n4. **Hallucinations:** Tfh (CXCR5+) populations not in ground truth; \"Time Gate\" not expected\n5. **Missing populations:** No Plasma cells, Plasmablasts, or Activated B cells in any run; ICOS+ Treg present but placed differently\n6. **CD45+ gate added:** Not in ground truth but scientifically valid for splenocytes\n\n---\n\nMEDIAN_QUALITY: 6 (captures major populations and structure, but systematically misses B cell subsets)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs, 89% consistency score)\nWORST_CASE: 5 (Pattern B runs are simpler and miss more detail)\nBEST_CASE: 7 (Pattern A runs have better depth but still miss plasma/plasmablast lineage)\nFAILURE_MODES: missing plasma cells and plasmablasts, hallucinated Tfh populations, inconsistent time gate inclusion, B cell subset marker confusion (IgD/IgM vs activation markers)\nRELIABILITY: medium - model reliably produces sensible immunological hierarchies but systematically substitutes naive/memory B cells for the ground truth's activated/plasma B cell lineage\nSUMMARY: Gemini-2.0-flash demonstrates good structural understanding and T cell gating but has a systematic blind spot for plasma cell differentiation, suggesting the model defaults to canonical B cell memory phenotypes rather than reasoning from the specific panel markers.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1399,
      "timestamp": "2026-01-13T03:59:48.034127",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.9,
      "worst_case": 0.2,
      "best_case": 0.3,
      "failure_modes": "missing Live cells gate, missing Lymphocytes gate, illogical CD4 T Cells as parent of CD8+ subsets, hallucinated CD4+CD8+ population, hallucinated CD4-CD8- population, fabricated Cells gate",
      "reliability": "low - Model consistently produces the same wrong answer, demonstrating confident but incorrect hierarchical reasoning",
      "summary": "High consistency masks systematic failures: the model reliably omits critical intermediate gates (Live cells, Lymphocytes) and produces biologically illogical hierarchies where CD8+ populations are incorrectly nested under CD4 T Cells.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-008\n\n**Ground Truth Analysis:**\nThe expected hierarchy requires: All Events > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ T cells\n\n**Prediction Analysis:**\n\n**Run 1** produces a different structure than runs 2-10, missing \"Cells\" gate and using \"T Cells\" as parent instead of \"CD4 T Cells\".\n\n**Runs 2-10** (9 runs) are identical, showing high consistency but with systematic errors:\n- Missing critical gates: **Live cells**, **Lymphocytes**, **T cells** (general)\n- Adds non-existent gate: **Cells** (not in ground truth)\n- Misnames parent: Uses \"CD4 T Cells\" as parent for all subsets (illogical - CD8+ cells shouldn't be children of CD4 T Cells)\n- Adds hallucinated populations: CD4+CD8+ and CD4-CD8- (double-positive and double-negative) which aren't in the ground truth\n\n**Critical Issues:**\n1. **Skipped intermediate gates**: Live cells and Lymphocytes are essential QC/gating steps that are consistently omitted\n2. **Logical hierarchy error**: Placing CD8+ T cells under \"CD4 T Cells\" is biologically nonsensical\n3. **Hallucinated populations**: Double-positive and double-negative subsets added without basis\n4. **Minimal context limitation**: The model lacks viability and scatter information needed for proper hierarchy\n\n---\n\nMEDIAN_QUALITY: 3 (captures basic structure but misses critical gates and has logical errors)\nCONSISTENCY: 9 (runs 2-10 are identical; only run 1 differs slightly)\nWORST_CASE: 2 (run 1 is slightly worse with less structure)\nBEST_CASE: 3 (all runs miss Live cells, Lymphocytes, and have illogical parent-child relationships)\nFAILURE_MODES: missing Live cells gate, missing Lymphocytes gate, illogical CD4 T Cells as parent of CD8+ subsets, hallucinated CD4+CD8+ population, hallucinated CD4-CD8- population, fabricated Cells gate\nRELIABILITY: low - Model consistently produces the same wrong answer, demonstrating confident but incorrect hierarchical reasoning\nSUMMARY: High consistency masks systematic failures: the model reliably omits critical intermediate gates (Live cells, Lymphocytes) and produces biologically illogical hierarchies where CD8+ populations are incorrectly nested under CD4 T Cells.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1722,
      "timestamp": "2026-01-13T04:00:12.045050",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.7,
      "worst_case": 0.2,
      "best_case": 0.5,
      "failure_modes": "missing live cell gate, incomplete subpopulation depth, monocyte subsets omitted, NK-T cells omitted, plasma cells omitted, Marginal Zone B cells omitted",
      "reliability": "medium - Model reliably produces parseable hierarchies with major populations but consistently fails to predict specialized subsets required for deep immunophenotyping panels",
      "summary": "Gemini-2.0-flash produces structurally valid but shallow hierarchies, capturing ~50% of major lineages while systematically missing the specialized subpopulations (monocyte subsets, NK-T, plasma cells) that define OMIP-077's comprehensive whole-blood panel.",
      "raw_response": "Looking at the 10 runs, I can identify two distinct prediction patterns:\n\n**Pattern A (Runs 1, 2, 7):** Focuses only on dendritic cell subsets (pDCs, CD1c+ mDCs, CD141+ mDCs) with a Lin-/HLA-DR+ gating strategy. This is a valid but incomplete hierarchy - it only covers ~3 of the 20 expected populations.\n\n**Pattern B (Runs 3-6, 8-10):** Broader coverage of major leukocyte populations (T cells, B cells, NK cells, Monocytes, Granulocytes) but shallow - no subpopulations like NK-T cells, monocyte subsets, or Marginal Zone B cells.\n\n**Key Issues:**\n\n1. **Missing Live gate:** Both patterns skip \"Live cells\" (Zombie NIR-), jumping directly to CD45+\n2. **Missing critical subpopulations:** Neither pattern captures NK-T cells, monocyte subsets (classical/intermediate/non-classical), Marginal Zone B cells, or plasma cells\n3. **Structure differences:** Ground truth has \"Leukocytes\" as explicit gate; predictions use \"CD45+\" which is functionally similar but structurally different\n4. **Incomplete hierarchies:** Pattern A covers only DC branch; Pattern B covers breadth but not depth\n\n**What's done well:**\n- Consistent use of standard gating backbone (Events > Cells > Singlets > CD45+)\n- Correct identification of major lineages in Pattern B\n- High parse success and reasonable run-to-run consistency within patterns\n\nMEDIAN_QUALITY: 4 (captures major populations but misses subpopulations and some critical gates)\nCONSISTENCY: 7 (two distinct patterns, but 7/10 runs follow Pattern B)\nWORST_CASE: 2 (Pattern A runs only predict 3 DC populations out of 20 expected)\nBEST_CASE: 5 (Pattern B gets major lineages correct but lacks depth)\nFAILURE_MODES: missing live cell gate, incomplete subpopulation depth, monocyte subsets omitted, NK-T cells omitted, plasma cells omitted, Marginal Zone B cells omitted\nRELIABILITY: medium - Model reliably produces parseable hierarchies with major populations but consistently fails to predict specialized subsets required for deep immunophenotyping panels\nSUMMARY: Gemini-2.0-flash produces structurally valid but shallow hierarchies, capturing ~50% of major lineages while systematically missing the specialized subpopulations (monocyte subsets, NK-T, plasma cells) that define OMIP-077's comprehensive whole-blood panel.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 893,
      "timestamp": "2026-01-13T04:00:31.429981",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-053 (Treg Panel)\n\n**MEDIAN_QUALITY: 6** \nThe model correctly identifies the core gating logic (Singlets \u2192 Lymphocytes \u2192 CD4+ \u2192 FoxP3+) but consistently misses critical gates (Live cells) and fails to predict the bifurcation into FoxP3+ Treg and FoxP3- non-Treg populations.\n\n**CONSISTENCY: 9**\nHighly consistent - 8/10 runs produced identical hierarchies, with only 2 early runs showing minor variation (missing Lymphocytes gate). The model converges on a stable prediction pattern.\n\n**WORST_CASE: 5**\nRuns 1-2 omit the Lymphocytes gate entirely, producing a shorter hierarchy that skips a standard gating step.\n\n**BEST_CASE: 6**\nRuns 3-10 all produce the same hierarchy which captures the core flow but still has the same systematic errors (missing Live cells, missing FoxP3- branch).\n\n**FAILURE_MODES: missing Live cells gate, missing FoxP3- non-Treg branch, abbreviated terminal populations (FoxP3+ instead of FoxP3+ Treg), scatter plot naming convention instead of population names**\n\n**RELIABILITY: medium** - The model reliably produces a reasonable approximation of the gating strategy but systematically omits the viability gate and never predicts bifurcating populations, limiting its utility for complete panel design.\n\n**SUMMARY:** Gemini-2.0-flash demonstrates high consistency (89%) but moderate accuracy, reliably capturing the CD4+ \u2192 FoxP3+ T regulatory pathway while systematically omitting viability gating and failing to predict the critical FoxP3- non-Treg sibling population that is essential for proper Treg analysis.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3029,
      "timestamp": "2026-01-13T04:01:03.236862",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.5,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "missing Time Gate, bimodal output structure, cytokine gate hallucination (Pattern B), CD45+ insertion not in ground truth",
      "reliability": "medium - The model demonstrates correct domain knowledge of T-cell gating but exhibits bimodal behavior that makes individual predictions unpredictable; useful for identifying major populations but not for exact hierarchy reproduction.",
      "summary": "Gemini-2.0-flash correctly identifies the core T-cell memory/functional hierarchy but shows concerning bimodal behavior (50% compact vs 50% over-expanded) and consistently omits the Time Gate, making it moderately useful but not reliable for exact protocol reproduction.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-022\n\nLooking at the 10 runs, I can identify **two distinct prediction patterns**:\n\n**Pattern A (Runs 1, 2, 3, 6, 9)** - Compact hierarchy:\n- Uses \"Cells\" instead of scatter plot naming\n- Groups analysis into summary nodes: \"CCR7/CD45RO\", \"Activation\", \"Cytokines\"\n- Missing \"Time Gate\" from expected hierarchy\n- 8 total branches shown\n\n**Pattern B (Runs 4, 5, 7, 8, 10)** - Expanded hierarchy:\n- Uses explicit scatter plot naming: \"FSC-A vs SSC-A\", \"Singlets (FSC-H vs FSC-A)\"\n- Adds unexpected \"CD45+\" gate between Live Cells and T cells\n- Expands memory subsets into individual gates (Naive, Central Memory, Effector Memory, Effector)\n- Combines ALL cytokines into single mega-gate: \"IFN-\u03b3+ IL-2+ TNF+ IL-17A+ IL-22+ CD107a+ CD154+\"\n- 10 total branches shown\n\n**Comparison to Ground Truth:**\n\n| Element | Expected | Pattern A | Pattern B |\n|---------|----------|-----------|-----------|\n| Time Gate | \u2713 | \u2717 Missing | \u2717 Missing |\n| Singlets | \u2713 | \u2713 | \u2713 |\n| Live cells | \u2713 | \u2713 | \u2713 |\n| Lymphocytes | \u2713 | \u2713 | \u2717 Missing (uses CD45+) |\n| T cells | \u2713 | \u2713 | \u2713 |\n| CD4+/CD8+ | \u2713 | \u2713 | \u2713 |\n| Memory Subsets | \u2713 | \u2713 (grouped) | \u2713 (expanded) |\n| Functional Analysis | \u2713 | \u2713 (grouped) | \u2717 Over-specified |\n\n**Key Issues:**\n1. **Time Gate consistently missing** - Neither pattern includes this upstream QC gate\n2. **Pattern B over-specifies** - Treats cytokine combinations as single Boolean gate (hallucination)\n3. **Pattern B adds CD45+** - Not in expected hierarchy (could be valid but diverges from ground truth)\n4. **Lymphocyte gate inconsistent** - Pattern A includes it, Pattern B substitutes CD45+\n\n---\n\nMEDIAN_QUALITY: 6 (captures core T-cell hierarchy correctly but misses Time Gate and varies in downstream structure)\nCONSISTENCY: 5 (two distinct modes with ~50/50 split; within each mode highly consistent)\nWORST_CASE: 4 (Pattern B over-specifies functional markers into impossible compound gates)\nBEST_CASE: 7 (Pattern A provides reasonable abstraction matching expected structure minus Time Gate)\nFAILURE_MODES: missing Time Gate, bimodal output structure, cytokine gate hallucination (Pattern B), CD45+ insertion not in ground truth\nRELIABILITY: medium - The model demonstrates correct domain knowledge of T-cell gating but exhibits bimodal behavior that makes individual predictions unpredictable; useful for identifying major populations but not for exact hierarchy reproduction.\nSUMMARY: Gemini-2.0-flash correctly identifies the core T-cell memory/functional hierarchy but shows concerning bimodal behavior (50% compact vs 50% over-expanded) and consistently omits the Time Gate, making it moderately useful but not reliable for exact protocol reproduction.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3316,
      "timestamp": "2026-01-13T04:01:28.381953",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.8,
      "worst_case": 0.3,
      "best_case": 0.4,
      "failure_modes": "Missing entire myeloid branch (monocytes/mDCs), missing B cell subsets, missing proper NK characterization, hallucinated T cell memory detail not in ground truth, wrong gating philosophy (positive selection vs negative gating)",
      "reliability": "low The model consistently generates plausible-looking flow cytometry hierarchies but systematically misses major cell lineages present in the ground truth while adding unrequested detail elsewhere.",
      "summary": "Model shows high internal consistency (89%) but poor alignment with ground truth, defaulting to a generic T-cell-centric panel interpretation rather than the comprehensive whole blood immunophenotyping strategy specified in OMIP-101.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-101\n\n### Analysis\n\n**Ground Truth Structure:**\nThe expected hierarchy follows a specific whole blood immunophenotyping strategy with:\n- Time gate \u2192 Singlets \u2192 Non-beads \u2192 Leukocytes \u2192 Non-aggregates \u2192 Non-granulocytes\n- Then splits into Myeloid cells (monocyte subsets, mDCs) and Lymphocytes (B cells, NK cells, T cells)\n- Uses negative gating terminology (Non-beads, Non-aggregates, Non-granulocytes, Non-T/B/NK contamination)\n\n**Prediction Patterns:**\nAll 10 runs show a fundamentally different gating philosophy:\n- Uses FSC-A vs SSC-A \u2192 Singlets \u2192 Live Cells \u2192 CD45+ \u2192 Lymphocytes as the core hierarchy\n- Heavily T-cell focused with detailed CD4/CD8 memory subsets (Naive, Central Memory, Effector Memory, TEMRA)\n- Includes activation markers (CD38+ HLA-DR+) that aren't in expected terminal populations\n- **Missing:** Entire myeloid branch (monocyte subsets, mDCs), B cell subsets, proper NK cell characterization\n- **Added:** T cell memory subset detail not present in ground truth\n\n**Consistency:**\nTwo structural variants observed (runs 1,7,9 vs runs 2-6,8,10):\n- Variant A: Deeper hierarchy with \"SSC-A Lo CD66- Lymphocytes\" and activation subgates\n- Variant B: Simpler \"CD45+ > Lymphocytes\" path with same terminal populations\n\nBoth variants share the same fundamental error: **over-indexing on T cell memory phenotyping while completely omitting the myeloid lineage**.\n\n### Scores\n\nMEDIAN_QUALITY: 3\nCONSISTENCY: 8\nWORST_CASE: 3\nBEST_CASE: 4\nFAILURE_MODES: Missing entire myeloid branch (monocytes/mDCs), missing B cell subsets, missing proper NK characterization, hallucinated T cell memory detail not in ground truth, wrong gating philosophy (positive selection vs negative gating)\nRELIABILITY: low The model consistently generates plausible-looking flow cytometry hierarchies but systematically misses major cell lineages present in the ground truth while adding unrequested detail elsewhere.\nSUMMARY: Model shows high internal consistency (89%) but poor alignment with ground truth, defaulting to a generic T-cell-centric panel interpretation rather than the comprehensive whole blood immunophenotyping strategy specified in OMIP-101.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2368,
      "timestamp": "2026-01-13T04:01:51.982110",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-074 B Cell IgG/IgA Subclass Panel\n\n**Ground Truth Analysis:** The expected hierarchy focuses on B cell memory subsets (Naive, RM, AM, TLM) and class-switched populations with IgG1-4 and IgA1-2 subtyping. Critically includes Time gate and Lymphocytes gate before B cells.\n\n**Prediction Pattern Analysis:**\n\nThe model shows two distinct response clusters:\n- **Cluster A (Runs 1,3,7,8):** Deeper IgD-/IgM- branching with IgA/IgG subclass resolution\n- **Cluster B (Runs 2,4,5,6,9,10):** Shallower with IgD+/IgD- split and CD27-based memory classification\n\n**Key Discrepancies:**\n\n1. **Missing critical gates:** All runs omit Time gate and Lymphocytes gate - these are standard quality control gates\n2. **Structural divergence:** Ground truth uses \"Class-switched B cells\" as parent for IgE/IgA/IgG; model uses IgD-/IgM- gating logic instead\n3. **Memory subset naming:** Ground truth specifies RM/AM/TLM memory nomenclature; model uses CD27+/- or omits these entirely\n4. **Hallucination:** \"IgKappa/IgLambda\" gate appears in all predictions but isn't a distinct gate in the ground truth hierarchy\n5. **Good recovery:** IgA1/IgA2 and IgG1-4 subclasses are correctly identified when present\n\n**MEDIAN_QUALITY:** 5\n**CONSISTENCY:** 8\n**WORST_CASE:** 4\n**BEST_CASE:** 6\n**FAILURE_MODES:** missing Time gate, missing Lymphocytes gate, incorrect memory subset nomenclature (RM/AM/TLM vs CD27-based), hallucinated IgKappa/IgLambda parent gate, missing Class-switched intermediate node\n**RELIABILITY:** medium - Model reliably identifies IgG/IgA subclasses but consistently misses upstream quality control gates and uses alternative (arguably valid) gating logic for memory subsets\n**SUMMARY:** The model demonstrates solid understanding of B cell isotype subclass phenotyping but imposes an alternative gating strategy (IgD/IgM exclusion) rather than following the paper's specific Class-switched and memory subset (RM/AM/TLM) nomenclature.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2514,
      "timestamp": "2026-01-13T04:02:17.825977",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.7,
      "worst_case": 0.3,
      "best_case": 0.6,
      "failure_modes": "missing Tscm/Treg/Tfh populations, incorrect memory subset nesting in 40% of runs, generic category hallucinations (T Helper Subsets, Activation/Function)",
      "reliability": "medium - Model reliably identifies core T cell populations but inconsistently structures memory subsets and systematically misses specialized regulatory/helper populations critical for comprehensive immunophenotyping",
      "summary": "Gemini-2.0-flash captures the skeletal T cell hierarchy but lacks the domain knowledge to predict specialized memory and regulatory subsets central to OMIP-087's 32-parameter mass cytometry design.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-087 (CyTOF T-cell panel)\n\nLooking at the predictions across 10 runs:\n\n### Key Observations\n\n**Structural Patterns:**\n- All runs add \"Bead Removal > Singlets > Live Cells\" preprocessing gates not in ground truth (expected for CyTOF interpretation)\n- Two distinct response patterns emerge:\n  - **Pattern A (Runs 1,3,5,6,8,10):** Flatter hierarchy with memory subsets as direct children of CD4+/CD8+ T cells\n  - **Pattern B (Runs 2,4,7,9):** Nested \"CD4+ Tcm/Tem/Tnaive\" under \"Naive CD4+ T Cells\" (incorrect nesting)\n\n**Gates Correctly Identified:**\n- Core T cell lineage: T Cells > CD4+ T Cells / CD8+ T Cells \u2713\n- Memory subsets: Naive, Central Memory, Effector Memory \u2713\n- Terminal differentiation stages partially captured\n\n**Systematic Errors:**\n1. **Missing specialized subsets:** No \"Stem cell memory\" (Tscm), \"Transitional memory\", \"T regulatory cells\", or \"T follicular helper cells\"\n2. **Incorrect nomenclature:** Uses \"Terminally Differentiated\" instead of \"Terminal effector\"\n3. **Structural confusion in Pattern B:** Nests memory subsets under Naive (biologically wrong)\n4. **Generic grouping:** Uses \"T Helper Subsets\" and \"Activation/Function\" as catch-all categories instead of specific populations\n\n**CyTOF-specific:** Model appropriately adds bead removal gates (standard CyTOF preprocessing), though ground truth omits these since they're instrument-specific rather than biology-specific.\n\n---\n\nMEDIAN_QUALITY: 5 (correctly identifies core T cell lineage and major memory subsets but misses specialized populations like Tscm, Tregs, Tfh)\nCONSISTENCY: 7 (two distinct patterns split 60/40 across runs; within each pattern responses are identical)\nWORST_CASE: 3 (Pattern B runs incorrectly nest memory subsets under Naive, creating biologically nonsensical hierarchy)\nBEST_CASE: 6 (Pattern A runs have correct structure for captured populations, just missing depth)\nFAILURE_MODES: missing Tscm/Treg/Tfh populations, incorrect memory subset nesting in 40% of runs, generic category hallucinations (T Helper Subsets, Activation/Function)\nRELIABILITY: medium - Model reliably identifies core T cell populations but inconsistently structures memory subsets and systematically misses specialized regulatory/helper populations critical for comprehensive immunophenotyping\nSUMMARY: Gemini-2.0-flash captures the skeletal T cell hierarchy but lacks the domain knowledge to predict specialized memory and regulatory subsets central to OMIP-087's 32-parameter mass cytometry design.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2337,
      "timestamp": "2026-01-13T04:02:40.108001",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.8,
      "worst_case": 0.3,
      "best_case": 0.4,
      "failure_modes": "missing T cell lineage (MAIT and \u03b3\u03b4 T cells), wrong parent hierarchy (Lineage Negative vs Lymphocytes), over-detailed NK subsets not in ground truth, ILC over-specification",
      "reliability": "low Model consistently produces NK/ILC-focused hierarchies while completely ignoring the T cell populations that comprise half of the expected gating strategy.",
      "summary": "High consistency but systematically wrong - model appears to retrieve a generic NK/ILC panel template rather than reasoning from the actual ground truth requirements, missing all T cell populations.",
      "raw_response": "Looking at this evaluation:\n\n**Ground Truth Analysis:**\nThe expected hierarchy focuses on T cells (MAIT, \u03b3\u03b4 T), and Innate Lymphoid Cells (NK cells with Activated NK subset, Other ILC subsets). Key structure: Lymphocytes branch into T cells and ILCs.\n\n**Prediction Analysis:**\n\nAll 10 runs share critical issues:\n\n1. **Missing T cell lineage entirely** - No runs predict MAIT cells or \u03b3\u03b4 T cells, which are explicit in the ground truth\n2. **Wrong hierarchical organization** - Predictions use \"Lineage Negative\" as parent for NK/ILCs, whereas ground truth uses \"Lymphocytes > T cells\" and \"Lymphocytes > Innate Lymphoid Cells\"\n3. **Over-specification of NK subsets** - Model generates detailed NK phenotypes (CD56bright/dim, NKG2A+/C+, CD57+) not requested in ground truth\n4. **ILC typing mismatch** - Model predicts ILC1/ILC2/ILC3 whereas ground truth has \"Other ILC subsets\" as single category\n\n**Two distinct patterns observed:**\n- Runs 1, 7, 9: Shorter hierarchy with \"Activation/Functional Markers\" terminal nodes\n- Runs 2-6, 8, 10: More detailed with specific receptor combinations (NKG2A+, NKG2C+, CD57+)\n\nBoth patterns miss the core T cell populations entirely.\n\n**Consistency:** High internal consistency (0.89 score, only 2 unique patterns), but consistently wrong.\n\nMEDIAN_QUALITY: 3\nCONSISTENCY: 8\nWORST_CASE: 3\nBEST_CASE: 4\nFAILURE_MODES: missing T cell lineage (MAIT and \u03b3\u03b4 T cells), wrong parent hierarchy (Lineage Negative vs Lymphocytes), over-detailed NK subsets not in ground truth, ILC over-specification\nRELIABILITY: low Model consistently produces NK/ILC-focused hierarchies while completely ignoring the T cell populations that comprise half of the expected gating strategy.\nSUMMARY: High consistency but systematically wrong - model appears to retrieve a generic NK/ILC panel template rather than reasoning from the actual ground truth requirements, missing all T cell populations.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2361,
      "timestamp": "2026-01-13T04:03:03.745789",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-025\n\nLooking at the predictions across 10 runs compared to the ground truth:\n\n**Key Observations:**\n\n1. **Core hierarchy preserved**: All runs correctly identify the backbone: All Events > Singlets > Live Cells > Lymphocytes > T cells > CD4+/CD8+ T cells, and NK cells\n\n2. **Granularity mismatch**: The ground truth uses abstract groupings (e.g., \"CD4+ Memory subsets\", \"CD4+ Functional subsets\") while the model predicts specific marker-defined populations (CD45RA+CCR7+ Naive, TCM, TEM, etc.). This is actually **more biologically detailed** than the ground truth.\n\n3. **TFH cells correctly identified**: The model identifies CD4+CXCR5+PD1+ (TFH-like) populations, matching the \"Follicular helper T cells\" in ground truth\n\n4. **Two structural variants**: 8/10 runs show identical detailed structure (~36 paths), while 2/10 runs (Run 6, Run 9) show a slightly different organization (~22 paths) with functional subsets organized differently\n\n5. **No hallucinations**: All predicted gates use markers that would be present in an OMIP-025 panel (CD45RA, CCR7, CXCR5, PD1, IFN-\u03b3, IL-2, CD107a, etc.)\n\n**MEDIAN_QUALITY: 8** (predictions are biologically accurate and more detailed than ground truth; correctly captures memory phenotypes and functional readouts)\n\n**CONSISTENCY: 9** (89% consistency with only 2 unique gate sets across 10 runs; structural differences are minor organizational choices)\n\n**WORST_CASE: 7** (Run 6/9 variants are still valid gating strategies, just organized differently with fewer nested functional gates)\n\n**BEST_CASE: 8** (detailed predictions correctly capture memory subsets, TFH, and functional cytokine readouts)\n\n**FAILURE_MODES: over-specification vs abstract ground truth, minor structural variance in functional gate organization**\n\n**RELIABILITY: high** The model produces consistent, biologically sound predictions that demonstrate genuine understanding of T/NK immunophenotyping panels.\n\n**SUMMARY: gemini-2.0-flash reliably generates detailed, marker-accurate gating hierarchies for OMIP-025 that exceed the abstraction level of the ground truth, with high consistency across runs (89%) and no hallucinated populations.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1807,
      "timestamp": "2026-01-13T04:03:26.430923",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.9,
      "worst_case": 0.5,
      "best_case": 0.5,
      "failure_modes": "missing SLAN+/SLAN- nonclassical distinction, hallucinated functional profiling terminal gates, upstream hierarchy uses generic path instead of OMIP-specific gates",
      "reliability": "medium - Model consistently produces reasonable monocyte gating but misses OMIP-specific nomenclature and SLAN subpopulation granularity",
      "summary": "Highly consistent predictions that capture core monocyte subsets but miss the SLAN+/SLAN- nonclassical distinction and add spurious \"functional profiling\" terminal gates not present in ground truth.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-083 Monocyte Gating\n\n### Analysis\n\n**Ground Truth Structure:**\n- Root: All Events \u2192 Cleaned Events \u2192 Leukocytes \u2192 Non-granulocytes \u2192 Monocytes\n- Terminal populations: Classical, Intermediate, SLAN+ Nonclassical, SLAN- Nonclassical\n\n**Model Predictions (consistent across all 10 runs):**\n- Root: All Events \u2192 Singlets \u2192 Live Cells \u2192 Lineage Negative \u2192 Monocytes\n- Terminal populations: Classical, Intermediate, Non-Classical (unified)\n- Added spurious terminal gate: \"Functional Profiling\" or \"Functional Markers\"\n\n### Key Discrepancies\n\n1. **Upstream hierarchy mismatch**: Model predicts standard flow gating path (Singlets \u2192 Live Cells \u2192 Lineage Negative) rather than the OMIP-083 specific path (Cleaned Events \u2192 Leukocytes \u2192 Non-granulocytes). This is a reasonable alternative gating strategy but doesn't match ground truth.\n\n2. **Missing SLAN distinction**: Ground truth distinguishes SLAN+ and SLAN- nonclassical monocytes (4 terminal populations). Model collapses these into single \"Non-Classical Monocytes\" (3 terminal populations). This is a biologically significant omission - SLAN expression defines functionally distinct nonclassical subsets.\n\n3. **Hallucinated terminal gates**: All runs add a spurious \"Functional Profiling\" or \"Functional Markers\" gate as children of each monocyte subset. These gates don't appear in ground truth and represent conceptual categories rather than actual gating operations.\n\n4. **High consistency**: Only 2 unique variants across 10 runs (variation limited to \"Functional Profiling\" vs \"Functional Markers - [Subset]\" naming).\n\n---\n\nMEDIAN_QUALITY: 5\nCONSISTENCY: 9\nWORST_CASE: 5\nBEST_CASE: 5\nFAILURE_MODES: missing SLAN+/SLAN- nonclassical distinction, hallucinated functional profiling terminal gates, upstream hierarchy uses generic path instead of OMIP-specific gates\nRELIABILITY: medium - Model consistently produces reasonable monocyte gating but misses OMIP-specific nomenclature and SLAN subpopulation granularity\nSUMMARY: Highly consistent predictions that capture core monocyte subsets but miss the SLAN+/SLAN- nonclassical distinction and add spurious \"functional profiling\" terminal gates not present in ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 1.0,
      "unique_gate_sets": 1,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2360,
      "timestamp": "2026-01-13T04:03:47.605816",
      "error": null,
      "median_quality": 0.3,
      "consistency": 1.0,
      "worst_case": 0.3,
      "best_case": 0.3,
      "failure_modes": "species-specific marker substitution, human NK nomenclature imposed on macaque data, hierarchy structure inversion, KIR receptor specificity lost",
      "reliability": "low - Model consistently ignores macaque-specific markers and applies human NK cell conventions regardless of context",
      "summary": "Perfect consistency but systematically wrong due to strong human NK cell priors overriding the actual panel markers and macaque species context.",
      "raw_response": "## Evaluation: OMIP-035 (Macaque NK Cell Panel)\n\n**Ground Truth Focus:** This panel uses species-specific KIR markers (Mamu-KIR3DL01, Mamu-KIR3DL05) for rhesus macaque NK cell subsets, with a simpler CD16/CD56 classification scheme.\n\n**Model Predictions:** The model produces a completely different hierarchy across all 10 runs:\n- Uses human-centric CD56bright/CD56dim nomenclature instead of the simple +/- notation\n- Replaces species-specific Mamu-KIR markers with generic \"KIR+/KIR-\" \n- Different structural organization (CD56/CD16 subsets first, then KIR subdivision vs. KIR subdivision first in ground truth)\n\n**Key Discrepancies:**\n1. **Species mismatch:** Ground truth uses macaque-specific KIR naming (Mamu-KIR3DL01, Mamu-KIR3DL05); model uses human conventions\n2. **Nomenclature substitution:** CD56bright/CD56dim (human NK convention) vs. CD56+/CD56- (ground truth notation)\n3. **Hierarchy inversion:** Ground truth gates on KIR first, then CD16/CD56; model does the opposite\n4. **Lost specificity:** Two distinct KIR receptors in ground truth collapsed to single \"KIR+/-\" in predictions\n\nThe model appears to be applying strong human NK cell priors, ignoring the macaque species context and the specific panel markers.\n\n---\n\nMEDIAN_QUALITY: 3\nCONSISTENCY: 10\nWORST_CASE: 3\nBEST_CASE: 3\nFAILURE_MODES: species-specific marker substitution, human NK nomenclature imposed on macaque data, hierarchy structure inversion, KIR receptor specificity lost\nRELIABILITY: low - Model consistently ignores macaque-specific markers and applies human NK cell conventions regardless of context\nSUMMARY: Perfect consistency but systematically wrong due to strong human NK cell priors overriding the actual panel markers and macaque species context.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2144,
      "timestamp": "2026-01-13T04:04:09.817410",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: gemini-2.0-flash on OMIP-095\n\n**MEDIAN_QUALITY: 7**\nThe model consistently produces biologically reasonable gating hierarchies that capture all major leukocyte populations (T cells, B cells, NK cells, monocytes, macrophages, DCs). The core structure is sound, though it adds an unnecessary \"Time Gate\" and goes deeper into subpopulations than the ground truth specifies.\n\n**CONSISTENCY: 9**\nExcellent consistency with only 2 unique gate sets across 10 runs. Runs 1-2, 6-10 produce one pattern (FoxP3-based Treg identification), while runs 3-5 produce another (memory/naive subset stratification via CD44/CD62L). Both patterns are immunologically valid alternatives.\n\n**WORST_CASE: 6**\nThe runs with CD44/CD62L memory stratification (3-5) are slightly worse because they add more gates beyond what's asked, increasing structural divergence from ground truth. The extra \"Time Gate\" node appears in all runs.\n\n**BEST_CASE: 7**\nAll runs are similar quality. The FoxP3 pattern (runs 1-2, 6-10) is marginally better aligned since Treg identification is more commonly part of standard immunophenotyping than detailed memory stratification.\n\n**FAILURE_MODES: spurious Time Gate insertion, over-specification of T cell subsets beyond ground truth depth, inconsistent choice between FoxP3 vs CD44/CD62L stratification schemes**\n\n**RELIABILITY: high** The model reliably produces parseable, biologically valid hierarchies for this complex 40-color panel, though it consistently over-elaborates beyond the specified ground truth depth.\n\n**SUMMARY: gemini-2.0-flash demonstrates strong and consistent performance on this complex murine panel, correctly identifying all major populations with valid gating logic, though it systematically adds depth (Time Gate, T cell subsets) beyond what the ground truth specifies.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2536,
      "timestamp": "2026-01-13T04:04:34.812379",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing plasma cells/plasmablasts, missing memory B cells, ICOS+ Treg missed, B cell terminal populations underspecified",
      "reliability": "medium - Model produces structurally sound hierarchies with good T cell coverage but systematically misses key B cell differentiation endpoints that are central to OMIP-076's purpose.",
      "summary": "Reliable T cell gating with consistent structure, but incomplete B cell lineage coverage\u2014particularly missing plasma cells and plasmablasts that are core to this panel's design.",
      "raw_response": "## Evaluation: OMIP-076 gemini-2.0-flash Predictions\n\n### Analysis\n\n**Structural Observations:**\n- All 10 predictions share identical high-level structure: All Events > Singlets > Live Cells > CD45+ Leukocytes > T Cells/B Cells\n- Two distinct \"modes\" emerge across runs (6 runs with one pattern, 4 with another), explaining the 0.89 consistency score\n- Predictions consistently add CD45+ gating step not in ground truth (reasonable addition given murine spleen)\n- Predictions split T cells into CD4+/CD8+ subtrees (ground truth keeps them under unified \"T cells\")\n\n**Semantic Accuracy:**\n- Core T cell populations captured: Naive, Effector/Memory, Tregs, Tfh - matches ground truth concepts\n- CD8+ T cells well-handled with memory/effector distinctions\n- B cell coverage varies between runs: some include Naive B cells, GC B cells; ground truth expects Plasma cells, Plasmablasts, Activated B cells, Memory B cells\n- **Critical miss**: Plasma cells and Plasmablasts never predicted; these are key OMIP-076 endpoints\n- **Critical miss**: Ground truth's ICOS+ Treg subpopulation not captured (model uses \"Activated Tregs\" or \"CD25+ Tregs\")\n\n**Structural Differences:**\n- Ground truth: Lymphocytes > B cells > [terminal B subsets]\n- Predictions: CD45+ Leukocytes > B Cells > [different terminal B subsets]\n- Ground truth doesn't distinguish CD4/CD8 at hierarchy level; predictions do (reasonable but different)\n\n**Naming Conventions:**\n- Model uses marker-explicit names (CD4+ Foxp3+ Tregs) vs ground truth's functional names (Regulatory T cells)\n- Both approaches are valid; scorer should handle normalization\n\n---\n\nMEDIAN_QUALITY: 6\nCONSISTENCY: 8\nWORST_CASE: 5\nBEST_CASE: 7\nFAILURE_MODES: missing plasma cells/plasmablasts, missing memory B cells, ICOS+ Treg missed, B cell terminal populations underspecified\nRELIABILITY: medium - Model produces structurally sound hierarchies with good T cell coverage but systematically misses key B cell differentiation endpoints that are central to OMIP-076's purpose.\nSUMMARY: Reliable T cell gating with consistent structure, but incomplete B cell lineage coverage\u2014particularly missing plasma cells and plasmablasts that are core to this panel's design.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1204,
      "timestamp": "2026-01-13T04:04:55.643333",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-008\n\n**MEDIAN_QUALITY: 7** - Predictions capture the core T cell gating structure correctly (CD4+/CD8+ from T cells), but consistently add two elements not in ground truth: Time Gate and CD4-CD8- T cells. Missing Lymphocytes intermediate gate.\n\n**CONSISTENCY: 9** - Extremely consistent across all 10 runs. Only variation is minor spacing difference in \"CD4-CD8-\" vs \"CD4- CD8-\" (runs 4, 6, 7). All runs produce identical hierarchical structure.\n\n**WORST_CASE: 7** - Even the \"worst\" runs are functionally identical to the median. The spacing variation doesn't affect interpretation.\n\n**BEST_CASE: 7** - No run matches ground truth perfectly. All add Time Gate and CD4-CD8- populations while omitting Lymphocytes gate.\n\n**FAILURE_MODES: hallucinated Time Gate, hallucinated CD4-CD8- T cell population, missing Lymphocytes intermediate gate**\n\n**RELIABILITY: medium** - Model produces highly reproducible predictions but systematically deviates from ground truth by adding common flow cytometry gates that aren't specified in this OMIP's hierarchy.\n\n**SUMMARY:** Gemini-2.0-flash demonstrates excellent consistency (near-identical output across 10 runs) but exhibits systematic hallucination of standard flow gates (Time Gate, double-negative T cells) that reflect general flow cytometry conventions rather than the specific OMIP-008 protocol.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2310,
      "timestamp": "2026-01-13T04:05:22.417791",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-077\n\nLooking at the 10 runs, I can identify **two distinct hierarchy patterns**:\n\n**Pattern A (Runs 1, 6, 8, 9, 10):** `All Events > Singlets > Live Cells > Leukocytes > Lymphocytes > ...`\n- Adds an extra \"Lymphocytes\" intermediate node not in ground truth\n- Matches ground truth gating order (Singlets \u2192 Live \u2192 Leukocytes)\n\n**Pattern B (Runs 2, 3, 4, 5, 7):** `All Events > CD45+ Leukocytes > Singlets > Viable Cells > Lymphocytes > ...`\n- Incorrect gating order: CD45+ before singlet discrimination\n- This is biologically problematic\u2014singlets should be gated before any marker-based gating\n\n### Key Observations\n\n**Strengths:**\n- Correctly identifies all major populations: T cells, NK cells, B cells, monocyte subsets, DCs\n- NKT cells consistently identified\n- Monocyte classification (classical/intermediate/non-classical) present in Pattern B\n- NK cell subsets (CD56bright/dim) present in Pattern A\n- 100% parse success rate\n\n**Weaknesses:**\n1. **Gating order inconsistency**: Pattern B puts CD45+ gating before singlet discrimination\u2014a significant methodological error\n2. **Missing populations**: Marginal Zone B cells, Plasma cells absent from all runs\n3. **Extra intermediate node**: \"Lymphocytes\" inserted between Leukocytes and T/B/NK cells (not in ground truth)\n4. **Missing DC subsets**: CD1c+ mDCs and other DCs mentioned in ground truth are inconsistently captured\n\n### Scores\n\n**MEDIAN_QUALITY: 6**\nThe model captures the main leukocyte populations correctly but introduces structural errors (extra nodes, wrong gating order in 50% of runs) and misses specialized populations.\n\n**CONSISTENCY: 7**\nOnly 2 unique patterns across 10 runs is reasonable, but the two patterns represent meaningfully different (and one incorrect) gating philosophies.\n\n**WORST_CASE: 5**\nPattern B with incorrect gating order (CD45+ before singlets) represents a real methodological error that would matter in practice.\n\n**BEST_CASE: 7**\nPattern A has correct gating order and good population coverage, though still missing some populations and adding an extra \"Lymphocytes\" node.\n\n**FAILURE_MODES:** incorrect gating order (CD45+ before singlets), missing specialized B cell subsets (Marginal Zone B, Plasma cells), spurious Lymphocytes intermediate node, inconsistent DC subset identification\n\n**RELIABILITY:** medium - The model produces two distinct gating strategies with one being methodologically incorrect; users would need to verify gating order before use.\n\n**SUMMARY:** Gemini-2.0-flash demonstrates solid population identification but exhibits concerning inconsistency in fundamental gating logic, with half of runs placing marker-based gating before singlet discrimination\u2014a basic flow cytometry error.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 1.0,
      "unique_gate_sets": 1,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 838,
      "timestamp": "2026-01-13T04:05:43.613949",
      "error": null,
      "median_quality": 0.5,
      "consistency": 1.0,
      "worst_case": 0.5,
      "best_case": 0.5,
      "failure_modes": "missing lymphocyte gate, missing FoxP3-negative branch, incomplete gate naming",
      "reliability": "medium - Model is highly deterministic but systematically underspecifies the hierarchy, missing ~40% of expected gates including an entire branch",
      "summary": "Gemini-2.0-flash shows perfect consistency but consistently produces an incomplete hierarchy, missing the lymphocyte parent gate and the entire FoxP3-negative branch that distinguishes Tregs from non-Tregs.",
      "raw_response": "Looking at this evaluation:\n\n**Ground Truth Analysis:**\n- Expected: 7 gates total across 2 branches\n- Key structure: All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > [FoxP3+ Treg | FoxP3- non-Treg]\n\n**Prediction Analysis (all 10 runs identical):**\n- Predicted: All Events > Singlets > Live Cells > CD4+ > FoxP3+\n- 5 gates in a single linear chain\n\n**Systematic Errors:**\n1. **Missing Lymphocytes gate** - skipped the CD45+/lymphocyte scatter gate between Live Cells and CD4+\n2. **Missing FoxP3- branch** - only predicted the positive population, missed the FoxP3- non-Treg sibling gate\n3. **Incomplete naming** - \"CD4+\" instead of \"CD4+ T cells\", \"FoxP3+\" instead of \"FoxP3+ Treg\"\n\n**Gate Overlap:**\n- Correct gates: All Events, Singlets, Live Cells (3/7 \u2248 43%)\n- Partially correct: CD4+ (missing \"T cells\"), FoxP3+ (missing \"Treg\")\n- Completely missing: Lymphocytes, FoxP3- non-Treg\n\nMEDIAN_QUALITY: 5 (captures core gating logic but misses lymphocyte gate and entire FoxP3- branch)\nCONSISTENCY: 10 (perfect consistency - identical output across all 10 runs)\nWORST_CASE: 5 (all predictions identical)\nBEST_CASE: 5 (all predictions identical)\nFAILURE_MODES: missing lymphocyte gate, missing FoxP3-negative branch, incomplete gate naming\nRELIABILITY: medium - Model is highly deterministic but systematically underspecifies the hierarchy, missing ~40% of expected gates including an entire branch\nSUMMARY: Gemini-2.0-flash shows perfect consistency but consistently produces an incomplete hierarchy, missing the lymphocyte parent gate and the entire FoxP3-negative branch that distinguishes Tregs from non-Tregs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2182,
      "timestamp": "2026-01-13T04:06:04.868437",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: gemini-2.0-flash on OMIP-022\n\n**MEDIAN_QUALITY: 7**\nThe model correctly identifies the core hierarchy (Singlets \u2192 Live Cells \u2192 Lymphocytes \u2192 T Cells \u2192 CD4+/CD8+ subsets) and appropriately expands memory subsets (Naive, Central Memory, Effector Memory, Terminally Differentiated) and functional readouts (cytokines). It misses the \"Time Gate\" present in ground truth but this is a minor omission common in automated gating.\n\n**CONSISTENCY: 9**\nOnly 2 unique gate sets across 10 runs with a consistency score of 0.89. The variation is minor\u2014some runs use \"Activated CD4+ T Cells > IFN-\u03b3+\" as a sub-hierarchy while others flatten to \"Activated/Functional CD4+ T Cells\". The core structure is stable.\n\n**WORST_CASE: 6**\nRuns 3, 4, 6, 9, 10 use the more compressed \"Activated/Functional\" variant with fewer gates (+8 additional vs +15). While structurally valid, this loses granularity in the functional analysis branch.\n\n**BEST_CASE: 8**\nRuns 1, 2, 5, 7, 8 provide detailed functional cytokine gates (IFN-\u03b3+, IL-2+, etc.) nested under \"Activated CD4+ T Cells\", which better matches the OMIP-022 design intent of measuring antigen-specific T-cell polyfunctionality.\n\n**FAILURE_MODES: Missing Time Gate, inconsistent functional hierarchy depth, case normalization differences**\n\n**RELIABILITY: high** The model produces structurally sound, biologically reasonable hierarchies with minimal variance across runs, making it suitable for automated gating strategy generation with post-hoc review.\n\n**SUMMARY: gemini-2.0-flash demonstrates strong, consistent performance on this T-cell memory/function panel, correctly inferring the memory subset architecture and functional readouts despite minor variations in hierarchy depth for cytokine gates.**",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2318,
      "timestamp": "2026-01-13T04:06:27.159919",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-101\n\n**MEDIAN_QUALITY: 6** \nThe model correctly identifies most terminal populations (monocyte subsets, T cell subsets, B cells, NK cells, DCs) but uses a simplified/canonical hierarchy structure rather than the OMIP-101-specific intermediate gates.\n\n**CONSISTENCY: 9**\nOnly 2 unique gate sets across 10 runs with 0.89 consistency score. The variation is minor - some runs include granulocyte subgating while others don't, but the core structure remains stable.\n\n**WORST_CASE: 5**\nAll runs share the same structural simplifications - missing OMIP-101-specific intermediate gates like \"Time gate\", \"Non-beads\", \"Non-aggregates\", \"Non-granulocytes\", \"Non-T/B/NK contamination\", \"HLA-DR+ myeloid\".\n\n**BEST_CASE: 6**\nEven the best runs use \"Live Cells\" instead of \"Non-beads\" and omit the specialized quality control gates. The model produces a reasonable generic whole-blood hierarchy but not the publication-specific one.\n\n**FAILURE_MODES:** missing intermediate QC gates (Time gate, Non-beads, Non-aggregates), uses canonical \"Live Cells\" instead of paper-specific nomenclature, omits negative selection gates (Non-granulocytes, Non-T/B/NK contamination), flattens HLA-DR+ myeloid branch structure, inconsistent granulocyte inclusion across runs\n\n**RELIABILITY: medium** The model reliably produces a biologically sensible whole-blood hierarchy with correct terminal populations, but defaults to textbook structure rather than inferring publication-specific intermediate gates from context.\n\n**SUMMARY:** gemini-2.0-flash demonstrates strong consistency and correct terminal population identification but systematically simplifies the OMIP-101 hierarchy by substituting generic intermediate gates for the paper's specialized quality control and negative selection structure.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2013,
      "timestamp": "2026-01-13T04:06:48.846597",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-074 | gemini-2.0-flash | standard_cot\n\n**MEDIAN_QUALITY: 6** \nThe model correctly identifies the core B cell \u2192 IgA/IgG subclass structure but consistently omits critical upstream gates (Time gate, Lymphocytes placement, Live cells position) and misses the memory B cell classifications entirely.\n\n**CONSISTENCY: 9**\nHighly consistent - 8/10 runs produce identical hierarchies. Only runs 1 and 3 diverge (adding CD27/CD21 intermediate gates and Ig Kappa/Lambda). The dominant pattern is stable.\n\n**WORST_CASE: 5**\nRuns 1 and 3 add spurious intermediate nodes (\"Ig Kappa/Lambda\", \"B Cell Subsets (CD27/CD21)\") not present in ground truth, though the overall structure remains recognizable.\n\n**BEST_CASE: 6**\nEven the best runs (2, 4-10) miss: Time gate, correct Lymphocytes position, Live cells placement, and all memory B cell gates (Naive, RM, AM, TLM). The IgA/IgG subclass gating is accurate.\n\n**FAILURE_MODES: missing Time gate, inverted Lymphocytes/Live cells order, complete omission of memory B cell populations (Naive/RM/AM/TLM), Class-switched intermediate gate missing, hallucinated Ig Kappa/Lambda gates in 2 runs**\n\n**RELIABILITY: medium** The model reliably produces the immunoglobulin subclass hierarchy but systematically fails to capture B cell memory phenotypes and proper upstream gating order.\n\n**SUMMARY:** Gemini-2.0-flash demonstrates strong consistency and captures ~60% of the hierarchy (Ig subclasses) but has a blind spot for memory B cell classification and canonical flow cytometry pre-gating steps.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2347,
      "timestamp": "2026-01-13T04:07:17.228596",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.8,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "collapses memory subsets into categorical placeholders, adds spurious intermediate gates (Singlets/Lymphocytes), missing Tfh enumeration, inappropriate scatter gating for CyTOF",
      "reliability": "medium - Model consistently produces structurally valid hierarchies but systematically under-specifies terminal populations, making it unsuitable for detailed phenotyping tasks.",
      "summary": "Gemini-2.0-flash demonstrates stable but superficial understanding of T-cell gating, reliably identifying major lineages while failing to enumerate the specific memory subsets that are the core purpose of OMIP-087.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-087\n\n**OMIP-087 Context:** This is a 32-parameter mass cytometry (CyTOF) panel focused on deep phenotyping of CD4 and CD8 memory T-cell subsets in human PBMC.\n\n### Analysis\n\n**Structural Patterns:**\nThe model produces two distinct prediction patterns across 10 runs:\n- **Pattern A (Runs 1,2,5,6,10):** Uses \"Singlets\" intermediate gate with broad categorical endpoints (\"Naive vs Memory\", \"T Helper Subsets\", \"Activation Status\")\n- **Pattern B (Runs 3,4,7,8,9):** Uses \"Lymphocytes\" gate with TCR\u03b3\u03b4 exclusion and more specific subset naming\n\n**Key Discrepancies from Ground Truth:**\n\n1. **Missing granular memory subsets:** Ground truth specifies 6 distinct memory populations (Naive, Stem cell memory, Central memory, Transitional memory, Effector memory, Terminal effector). Model predicts categorical placeholders like \"Naive vs Memory\" or \"CD4+ Memory Subsets\" without enumeration.\n\n2. **Incorrect intermediate gating:** Ground truth hierarchy is `Leukocytes > T cells > CD4+`. Model adds extraneous gates (\"Singlets\" or \"Lymphocytes > TCR\u03b3\u03b4-\") not present in the reference.\n\n3. **Missing specific populations:** Tfh cells and Tregs are present in ground truth as terminal populations. Model mentions \"Tregs\" but collapses specificity.\n\n4. **CyTOF-appropriate handling:** Pattern A incorrectly includes \"Singlets\" - mass cytometry doesn't use scatter-based singlet discrimination. Pattern B (with TCR\u03b3\u03b4 gating) is more biologically appropriate.\n\n**Consistency Assessment:**\nHigh parse success (100%) with only 2 unique gate sets indicates the model has stable but incorrect internal representations. The 0.89 consistency score reflects oscillation between two memorized templates rather than principled reasoning.\n\n---\n\nMEDIAN_QUALITY: 4 (captures major lineages but uses categorical placeholders instead of specific memory subset enumeration)\nCONSISTENCY: 8 (only 2 distinct patterns across 10 runs, high structural reproducibility)\nWORST_CASE: 3 (Pattern A with inappropriate \"Singlets\" gate for CyTOF and vague endpoints)\nBEST_CASE: 5 (Pattern B with TCR\u03b3\u03b4 exclusion is biologically reasonable but still lacks memory subset granularity)\nFAILURE_MODES: collapses memory subsets into categorical placeholders, adds spurious intermediate gates (Singlets/Lymphocytes), missing Tfh enumeration, inappropriate scatter gating for CyTOF\nRELIABILITY: medium - Model consistently produces structurally valid hierarchies but systematically under-specifies terminal populations, making it unsuitable for detailed phenotyping tasks.\nSUMMARY: Gemini-2.0-flash demonstrates stable but superficial understanding of T-cell gating, reliably identifying major lineages while failing to enumerate the specific memory subsets that are the core purpose of OMIP-087.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2265,
      "timestamp": "2026-01-13T04:07:45.273061",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.8,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "inverted singlet/live order, missing T cells parent gate, missing ILC category, CD4/CD8/V\u03b42 hallucinations, no activated NK or other ILC subsets",
      "reliability": "medium - Model reliably identifies key rare populations (MAIT, \u03b3\u03b4 T, NK) but consistently produces incorrect hierarchy structure and adds unrequested populations",
      "summary": "Gemini-2.0-flash shows good consistency and correctly identifies specialty populations but systematically inverts the gating order and uses a CD3-based split rather than the expected named population hierarchy, suggesting strong marker-to-population reasoning but poor structure matching to ground truth conventions.",
      "raw_response": "Looking at these predictions against the ground truth, I'll evaluate systematically.\n\n**Ground Truth Structure:**\n- All Events > Singlets > Live cells > Lymphocytes > T cells > MAIT/\u03b3\u03b4 T cells\n- All Events > Singlets > Live cells > Lymphocytes > Innate Lymphoid Cells > NK cells > subsets\n\n**Prediction Patterns (2 variants):**\n\n*Variant A (Runs 1,3,6,7,8,10):*\n- All Events > Live Cells > Singlets > Lymphocytes > Lineage Negative > CD3+/CD3- branches\n- Order inverted: Live Cells before Singlets (incorrect - singlets should come first)\n- Places MAIT and \u03b3\u03b4 T cells under CD3+ (correct marker logic)\n- NK cells under CD3- (reasonable)\n- Missing: \"T cells\" intermediate gate, \"Innate Lymphoid Cells\" category, \"Activated NK cells\", \"Other ILC subsets\"\n\n*Variant B (Runs 2,4,5,9):*\n- All Events > Cells > Singlets > Viable Cells > CD3+/CD3- branches\n- Missing Lymphocytes gate\n- Same terminal populations but flatter hierarchy\n\n**Key Issues:**\n1. **Structural inversion**: Live/Viable before Singlets in all runs (should be Singlets first)\n2. **Missing intermediate gates**: \"T cells\" parent for MAIT/\u03b3\u03b4, \"Innate Lymphoid Cells\" for NK\n3. **Missing ILC diversity**: No \"Other ILC subsets\" or \"Activated NK cells\" \n4. **Adds populations not in ground truth**: CD4+, CD8+, V\u03b42 T cells (hallucinations relative to the simplified ground truth)\n5. **Alternative gating philosophy**: Uses CD3+/CD3- split rather than named population categories\n\n**What's correct:**\n- Captures MAIT cells, \u03b3\u03b4 T cells, NK cells (key populations)\n- Appropriate marker logic (TCRV\u03b17.2+CD161+ for MAIT, etc.)\n- Consistent within variants\n\nMEDIAN_QUALITY: 5 (captures key populations but wrong structure and missing ILC hierarchy)\nCONSISTENCY: 8 (only 2 variants across 10 runs, 89% consistency score matches)\nWORST_CASE: 4 (Variant B is flatter, missing more intermediate gates)\nBEST_CASE: 6 (Variant A has more detail but still structurally incorrect)\nFAILURE_MODES: inverted singlet/live order, missing T cells parent gate, missing ILC category, CD4/CD8/V\u03b42 hallucinations, no activated NK or other ILC subsets\nRELIABILITY: medium - Model reliably identifies key rare populations (MAIT, \u03b3\u03b4 T, NK) but consistently produces incorrect hierarchy structure and adds unrequested populations\nSUMMARY: Gemini-2.0-flash shows good consistency and correctly identifies specialty populations but systematically inverts the gating order and uses a CD3-based split rather than the expected named population hierarchy, suggesting strong marker-to-population reasoning but poor structure matching to ground truth conventions.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2521,
      "timestamp": "2026-01-13T04:08:08.928083",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.9,
      "worst_case": 0.6,
      "best_case": 0.6,
      "failure_modes": "missing NK cell branch, Live/Singlets order reversed, over-specification of functional endpoints",
      "reliability": "medium - Model produces highly consistent T cell hierarchies but systematically omits NK populations, making it unreliable for panels requiring complete leukocyte coverage",
      "summary": "Gemini-2.0-flash demonstrates excellent consistency and captures T cell phenotyping logic well, but has a blind spot for NK cells and inverts the standard singlet/viability gating order.",
      "raw_response": "Looking at the predictions across 10 runs against the expected hierarchy:\n\n**Structural Analysis:**\n- **Correct:** The model consistently captures the core structure: All Events > Live Cells > Singlets > Lymphocytes > T Cells > CD4+/CD8+ branches\n- **Systematic error:** Live Cells and Singlets are swapped (model: Live > Singlets, ground truth: Singlets > Live). This is consistent across all runs.\n- **Missing:** NK cells branch is completely absent in all predictions\n- **Added detail:** Model adds functional readouts (Cytokine Production, CD107a) as terminal nodes, which goes beyond the ground truth abstraction level\n\n**Variation patterns:**\n- Runs 1-7 and 10 use one naming convention: \"T Cells (CD3+)\", \"TFH-like Cells (CXCR5+PD1+)\", \"Naive/Memory (CD45RA/CCR7)\"\n- Runs 8-9 use more explicit phenotype naming: \"CD45RA+CCR7+ Naive T cells\", \"CXCR5+PD1+ TFH-like cells\"\n- Both variants capture the same biological logic, just with different nomenclature\n\n**Critical gate coverage:**\n- Singlets: Present (but wrong position)\n- Live cells: Present (but wrong position)\n- T cells: Present\n- CD4+/CD8+ subsets: Present\n- Memory subsets: Present (as Naive/Memory or explicit phenotypes)\n- Tfh cells: Present\n- NK cells: **Missing** across all runs\n\nMEDIAN_QUALITY: 6 (captures T cell hierarchy well, but misses NK branch entirely and has systematic Live/Singlets order error)\nCONSISTENCY: 9 (only 2 unique gate sets across 10 runs, both semantically equivalent)\nWORST_CASE: 6 (all runs have the same systematic errors)\nBEST_CASE: 6 (no run captures NK cells or corrects the gating order)\nFAILURE_MODES: missing NK cell branch, Live/Singlets order reversed, over-specification of functional endpoints\nRELIABILITY: medium - Model produces highly consistent T cell hierarchies but systematically omits NK populations, making it unreliable for panels requiring complete leukocyte coverage\nSUMMARY: Gemini-2.0-flash demonstrates excellent consistency and captures T cell phenotyping logic well, but has a blind spot for NK cells and inverts the standard singlet/viability gating order.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1983,
      "timestamp": "2026-01-13T04:08:34.713979",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.8,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing SLAN+/SLAN- nonclassical distinction, hallucinated \"Functional Markers\" gates in 60% of runs, different upstream cleanup terminology, missing \"Other Monocyte Subsets\" intermediate grouping",
      "reliability": "medium - Model reliably identifies the three classical monocyte subsets with correct markers but consistently fails to capture the SLAN-based nonclassical subdivision that is central to OMIP-083's design",
      "summary": "Model demonstrates good consistency and correct monocyte biology fundamentals but systematically misses the paper-specific SLAN+ vs SLAN- nonclassical monocyte distinction, suggesting reliance on general immunology knowledge rather than OMIP-specific gating strategy.",
      "raw_response": "## Evaluation: OMIP-083 Monocyte Gating Hierarchy\n\n### Analysis\n\n**Ground Truth Structure:**\n- Uses \"Cleaned Events\" \u2192 \"Non-granulocytes\" path to reach Monocytes\n- Distinguishes SLAN+ and SLAN- within nonclassical monocytes (4 terminal populations)\n- Groups non-classical variants under \"Other Monocyte Subsets\" intermediate node\n\n**Prediction Patterns (2 variants across 10 runs):**\n\n| Pattern | Runs | Path | Terminal Populations |\n|---------|------|------|---------------------|\n| Lineage-Negative | 1,3,4,5,7,10 (60%) | CD45+ \u2192 Lineage-Negative \u2192 Monocytes | 3 + \"Functional Markers\" children |\n| CD66b- | 2,6,8,9 (40%) | CD45+ \u2192 CD66b- \u2192 Monocytes | 3 (with marker annotations) |\n\n**Key Discrepancies:**\n\n1. **Missing SLAN distinction** (all runs): Model outputs 3 monocyte subsets vs. ground truth's 4 (SLAN+/SLAN- nonclassical split never predicted)\n\n2. **Different upstream gating**: Model uses \"Singlets\" and \"CD45+ Leukocytes\" explicitly; ground truth uses \"Cleaned Events\" and \"Leukocytes\" (semantically similar but structurally different)\n\n3. **Hallucinated gates**: \"Functional Markers\" children in 6/10 runs are not in ground truth\n\n4. **Missing intermediate node**: Ground truth has \"Other Monocyte Subsets\" grouping; model places all monocyte subsets directly under Monocytes\n\n5. **Granulocyte exclusion strategy**: Model uses either \"Lineage-Negative\" or \"CD66b-\" vs ground truth's \"Non-granulocytes\" (CD66b- is technically correct marker-wise)\n\n---\n\nMEDIAN_QUALITY: 5 (captures monocyte subsets correctly but misses SLAN distinction and adds hallucinated functional marker gates)\nCONSISTENCY: 8 (only 2 structural variants; high internal consistency within each variant)\nWORST_CASE: 4 (Lineage-Negative variant adds spurious \"Functional Markers\" child gates not in ground truth)\nBEST_CASE: 6 (CD66b- variant is cleaner, marker annotations are accurate, but still misses SLAN split)\nFAILURE_MODES: missing SLAN+/SLAN- nonclassical distinction, hallucinated \"Functional Markers\" gates in 60% of runs, different upstream cleanup terminology, missing \"Other Monocyte Subsets\" intermediate grouping\nRELIABILITY: medium - Model reliably identifies the three classical monocyte subsets with correct markers but consistently fails to capture the SLAN-based nonclassical subdivision that is central to OMIP-083's design\nSUMMARY: Model demonstrates good consistency and correct monocyte biology fundamentals but systematically misses the paper-specific SLAN+ vs SLAN- nonclassical monocyte distinction, suggesting reliance on general immunology knowledge rather than OMIP-specific gating strategy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2129,
      "timestamp": "2026-01-13T04:08:59.677212",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.8,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "inverted KIR-CD56/CD16 hierarchy, missing Live cells gate, missing combinatorial KIR gates, spurious Cells gate, inconsistent Lymphocyte inclusion",
      "reliability": "low Model consistently produces structurally incorrect hierarchies that would not replicate the published gating strategy.",
      "summary": "The model recognizes relevant markers but fundamentally misunderstands the KIR gating logic\u2014inverting the hierarchy and treating combinatorial gates as independent single-marker gates.",
      "raw_response": "## Evaluation of OMIP-035 Predictions\n\n### Analysis\n\n**Ground Truth Structure:**\n- Uses \"Live cells\" gate (viability marker-based)\n- KIR gating hierarchy: First gates on Mamu-KIR3DL01+/-, then subdivides by KIR3DL05+/-\n- CD56/CD16 subsets are parallel terminal gates under NK cells (not further subdivided)\n\n**Prediction Patterns (2 variants observed):**\n\n**Variant A (Runs 1, 4, 5, 7, 10):** 12 gates\n- Missing \"Lymphocytes\" gate\n- Missing \"Live cells\" gate\n- KIR markers applied as children of CD56/CD16 subsets (inverted hierarchy)\n\n**Variant B (Runs 2, 3, 6, 8, 9):** 16 gates\n- Includes \"Lymphocytes\" gate\n- Still missing \"Live cells\" gate\n- Same inverted KIR hierarchy\n\n### Key Discrepancies\n\n1. **Missing Live cells gate (10/10 runs):** Ground truth has explicit viability gating; predictions skip this critical step.\n\n2. **Inverted KIR/CD56-CD16 hierarchy (10/10 runs):** Ground truth gates KIR first, then has CD56/CD16 subsets as parallel terminal branches. Model inverts this\u2014gates CD56/CD16 first, then applies KIR markers as children. This is a fundamental structural error.\n\n3. **Missing Mamu-KIR3DL01 combinatorial gates (10/10 runs):** Ground truth explicitly shows dual-positive/dual-negative KIR combinations (e.g., \"Mamu-KIR3DL01+ KIR3DL05+ NK cells\"). Model treats KIR3DL01 and KIR3DL05 as independent single-marker gates.\n\n4. **Extra \"Cells\" gate (10/10 runs):** Predictions insert a \"Cells\" gate between \"All Events\" and \"Singlets\" not present in ground truth.\n\n5. **Inconsistent Lymphocyte inclusion (5/10 runs):** Half the predictions include \"Lymphocytes,\" half don't\u2014despite ground truth requiring it.\n\n---\n\nMEDIAN_QUALITY: 4 (captures NK subset concept but inverts KIR hierarchy and misses viability gating)\nCONSISTENCY: 8 (only 2 structural variants, high parse success, but neither matches ground truth)\nWORST_CASE: 3 (variant A missing both Lymphocytes and Live cells gates)\nBEST_CASE: 5 (variant B includes Lymphocytes but still has inverted hierarchy and missing Live cells)\nFAILURE_MODES: inverted KIR-CD56/CD16 hierarchy, missing Live cells gate, missing combinatorial KIR gates, spurious Cells gate, inconsistent Lymphocyte inclusion\nRELIABILITY: low Model consistently produces structurally incorrect hierarchies that would not replicate the published gating strategy.\nSUMMARY: The model recognizes relevant markers but fundamentally misunderstands the KIR gating logic\u2014inverting the hierarchy and treating combinatorial gates as independent single-marker gates.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2195,
      "timestamp": "2026-01-13T04:09:25.572332",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing innate lymphoid cells (ILCs), dendritic cells subsumed under myeloid rather than separate lineage, extra intermediate gates not in ground truth",
      "reliability": "medium - Model reliably captures conventional immune populations (T, B, NK, monocytes, macrophages) but systematically fails to predict ILCs which are a key feature of this 40-color panel",
      "summary": "gemini-2.0-flash shows high consistency and captures the canonical immune hierarchy well, but has a blind spot for innate lymphoid cells\u2014a critical population for this specific OMIP\u2014suggesting the model defaults to common gating patterns rather than fully reasoning from the panel's markers.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-095\n\n### Analysis\n\n**Structural Accuracy:**\n- The model consistently produces the correct core hierarchy: All Events \u2192 Singlets \u2192 Live Cells \u2192 Leukocytes \u2192 major populations\n- T cells correctly split into CD4+ and CD8+ subtypes in all runs\n- B cells, NK cells correctly identified at the Leukocyte level\n\n**Key Discrepancies from Ground Truth:**\n1. **Missing populations:** Innate lymphoid cells (ILCs) absent in all 10 runs - this is a significant omission for a 40-color panel specifically designed to capture ILCs\n2. **Missing dendritic cells as separate lineage** - model subsumes them under \"Myeloid Cells\" hierarchy rather than as direct Leukocyte children\n3. **Intermediate \"Cells\" gate** (runs 2-10) not in ground truth, though functionally reasonable\n4. **Naming variations:** \"Natural killer cells\" (GT) vs \"NK Cells\" (predicted) - minor normalization issue\n5. **Run 1 anomaly:** Uses \"FSC-A vs FSC-H Singlets\" and \"SSC-A vs SSC-H Singlets\" as two separate gates, creating extra hierarchy depth\n\n**Consistency Assessment:**\n- Runs 2-10 are essentially identical (same structure, same naming)\n- Run 1 differs in singlet gating approach and slightly different myeloid structure\n- 2 unique gate sets out of 10 is good consistency (0.89 score matches)\n\n**Population Coverage:**\n- Ground truth: ~12 terminal populations (CD4+, CD8+, B, NK, ILC, Monocytes, Macrophages, DCs, etc.)\n- Predictions: ~7-8 terminal populations (missing ILCs, possibly DCs depending on interpretation)\n- Estimated recall: ~65-70%\n\n---\n\nMEDIAN_QUALITY: 6 (captures major populations correctly but systematically misses ILCs and has structural differences in myeloid organization)\nCONSISTENCY: 8 (9/10 runs nearly identical; only run 1 shows minor variation in singlet gating approach)\nWORST_CASE: 5 (run 1 with extra singlet hierarchy depth, though functionally valid)\nBEST_CASE: 7 (runs 2-10 have clean structure, correct major populations, just missing ILCs/some myeloid detail)\nFAILURE_MODES: missing innate lymphoid cells (ILCs), dendritic cells subsumed under myeloid rather than separate lineage, extra intermediate gates not in ground truth\nRELIABILITY: medium - Model reliably captures conventional immune populations (T, B, NK, monocytes, macrophages) but systematically fails to predict ILCs which are a key feature of this 40-color panel\nSUMMARY: gemini-2.0-flash shows high consistency and captures the canonical immune hierarchy well, but has a blind spot for innate lymphoid cells\u2014a critical population for this specific OMIP\u2014suggesting the model defaults to common gating patterns rather than fully reasoning from the panel's markers.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2677,
      "timestamp": "2026-01-13T04:09:51.805100",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.8,
      "worst_case": 0.4,
      "best_case": 0.4,
      "failure_modes": "complete B cell lineage omission, missing Lymphocyte parent gate, T cell memory subset hierarchy flattened, hallucinated populations (PD-1+/Tfh)",
      "reliability": "low - Model consistently fails to predict B cell populations which constitute ~50% of the expected hierarchy, making it unreliable for comprehensive panel gating despite stable T cell predictions.",
      "summary": "High consistency masks a systematic blind spot where the model predicts only T cell subsets while completely ignoring the B cell lineage that comprises half of this pan-leukocyte panel's expected hierarchy.",
      "raw_response": "Looking at the 10 runs for OMIP-076 (murine splenocyte panel), I'll evaluate the model's performance against the ground truth.\n\n**Key Observations:**\n\n1. **Two distinct prediction patterns emerge:**\n   - Pattern A (Runs 1,2,4,6,7,8): \"Debris Removal > Singlets\" with CD45+ explicit gating, TCR\u03b2+ T cell branch focus\n   - Pattern B (Runs 3,5,9,10): \"Time Gate > Singlets\" with similar structure but different naming\n\n2. **Critical misses vs ground truth:**\n   - **B cell lineage completely absent**: Ground truth has extensive B cell hierarchy (Plasma cells, Plasmablasts, Activated B cells, Memory B cells) - model predicts none of these\n   - **Lymphocyte gate missing**: Model goes directly from CD45+ to T cells, skipping the Lymphocyte parent gate\n   - **T cell memory subsets oversimplified**: Ground truth specifies Naive, Effector memory, Central memory T cells under a single T cell gate; model conflates these under CD4+/CD8+ branches\n   - **ICOS+ Treg detail missing**: Ground truth has \"Regulatory T cells > ICOS+ Treg\" - model has Tregs but not the ICOS+ subpopulation\n\n3. **What model gets right:**\n   - Core gating scaffold (Singlets > Live Cells > CD45+)\n   - T cell identification via TCR\u03b2\n   - Basic CD4/CD8 split\n   - Regulatory T cell identification\n   - Memory/Naive T cell concepts (though misplaced in hierarchy)\n\n4. **Hallucinations/additions:**\n   - PD-1+ T cells, CD25+ Activated T cells, Tfh cells - not in ground truth\n   - \"Debris Removal\" or \"Time Gate\" as explicit gates - reasonable but not in ground truth\n\n**The fundamental failure is complete omission of the B cell lineage** - this is a pan-leukocyte panel and the model only predicts T cell subsets.\n\nMEDIAN_QUALITY: 4 (captures T cell biology reasonably but completely misses B cell lineage which is half the ground truth hierarchy)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs, high internal consistency with 0.89 score)\nWORST_CASE: 4 (both patterns have same fundamental gap - missing B cells)\nBEST_CASE: 4 (neither pattern recovers the B cell branch)\nFAILURE_MODES: complete B cell lineage omission, missing Lymphocyte parent gate, T cell memory subset hierarchy flattened, hallucinated populations (PD-1+/Tfh)\nRELIABILITY: low - Model consistently fails to predict B cell populations which constitute ~50% of the expected hierarchy, making it unreliable for comprehensive panel gating despite stable T cell predictions.\nSUMMARY: High consistency masks a systematic blind spot where the model predicts only T cell subsets while completely ignoring the B cell lineage that comprises half of this pan-leukocyte panel's expected hierarchy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1460,
      "timestamp": "2026-01-13T04:10:13.532331",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.9,
      "worst_case": 0.6,
      "best_case": 0.7,
      "failure_modes": "missing Lymphocytes gate, hallucinated CD4-CD8- populations, extra Cells gate, Double Positive T cells in PBMC context",
      "reliability": "medium - Model reliably identifies core T cell subsets but consistently adds extra gates not in the ground truth and omits the Lymphocytes intermediate gate",
      "summary": "Gemini-2.0-flash shows strong consistency and correctly identifies the key CD4+/CD8+ populations, but systematically omits the Lymphocytes gate and hallucinates additional T cell subsets that weren't requested.",
      "raw_response": "## Evaluation: OMIP-008 / gemini-2.0-flash_standard_cot_none\n\n**Comparing Expected vs Predicted:**\n\n**Expected hierarchy:**\n- All Events > Singlets > Live cells > Lymphocytes > T cells > CD4+ T cells\n- All Events > Singlets > Live cells > Lymphocytes > T cells > CD8+ T cells\n\n**Model predictions (all 10 runs):**\n- All Events > **Cells** > Singlets > Live Cells > T Cells > CD4+ T Cells \u2713\n- All Events > **Cells** > Singlets > Live Cells > T Cells > CD8+ T Cells \u2713\n- Variable: CD4-CD8- or Double Negative/Double Positive T Cells (hallucinated)\n\n**Key Observations:**\n\n1. **Structural differences:**\n   - Model adds an extra \"Cells\" gate between All Events and Singlets (minor deviation)\n   - Model **omits \"Lymphocytes\"** gate between Live Cells and T Cells (structural error)\n\n2. **Core gates correct:** CD4+ and CD8+ T cells are correctly identified in all 10 runs\n\n3. **Hallucinations:** Model consistently adds gates not in ground truth:\n   - Runs 1,3,6,8,9: CD4-CD8- T Cells (5/10)\n   - Runs 2,4,5,7,10: Double Negative + Double Positive T Cells (5/10)\n\n4. **High consistency:** Only 2 unique gate sets across 10 runs (just the DN/DP naming variation)\n\n---\n\nMEDIAN_QUALITY: 7 (correctly identifies target populations CD4+/CD8+ T cells, but misses Lymphocytes gate and adds hallucinated populations)\nCONSISTENCY: 9 (highly consistent structure across all runs, only naming variation for extra gates)\nWORST_CASE: 6 (runs with Double Positive T cells add biologically questionable gates for PBMC)\nBEST_CASE: 7 (all runs have same core quality - none match ground truth exactly)\nFAILURE_MODES: missing Lymphocytes gate, hallucinated CD4-CD8- populations, extra Cells gate, Double Positive T cells in PBMC context\nRELIABILITY: medium - Model reliably identifies core T cell subsets but consistently adds extra gates not in the ground truth and omits the Lymphocytes intermediate gate\nSUMMARY: Gemini-2.0-flash shows strong consistency and correctly identifies the key CD4+/CD8+ populations, but systematically omits the Lymphocytes gate and hallucinates additional T cell subsets that weren't requested.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2124,
      "timestamp": "2026-01-13T04:10:37.835182",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.8,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing monocyte subsets (classical/intermediate/non-classical), missing dendritic cells (CD1c+ mDCs), missing plasma cells, missing marginal zone B cells, missing live cells gate, hallucinated \"Cells\" gate, hallucinated granulocytes",
      "reliability": "medium - Model reliably identifies major leukocyte lineages but systematically fails to predict specialized subpopulations that require deeper immunological knowledge of the specific OMIP panel design.",
      "summary": "The model demonstrates good consistency and captures core leukocyte populations but operates at a \"textbook\" level, missing the panel-specific specialized subsets (monocyte subclasses, DCs, plasma cells) that define OMIP-077's immunophenotyping depth.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-077\n\nLooking at the predictions across 10 runs compared to the ground truth:\n\n**Key Observations:**\n\n1. **Structural consistency**: The model consistently produces two alternating hierarchy patterns:\n   - Pattern A (Runs 1,4,6,8,9): Includes intermediate \"Lymphocytes\" and \"Myeloid Cells\" groupings\n   - Pattern B (Runs 2,3,5,7,10): Flatter structure directly under Leukocytes\n\n2. **Missing critical populations**: The ground truth includes specialized populations that are **never predicted**:\n   - Marginal Zone B cells (B cell subset)\n   - Plasma cells\n   - Classical/Intermediate/Non-classical monocytes (monocyte subsets)\n   - CD1c+ mDCs (dendritic cells)\n   - Live cells gate (skipped in all predictions)\n\n3. **Added populations not in ground truth**:\n   - \"Cells\" gate (between All Events and Singlets)\n   - \"Activated T Cells (CD38+ HLA-DR+)\" - not specified in ground truth\n   - \"Granulocytes (CD15+)\" - not in ground truth paths shown\n\n4. **Correct captures**:\n   - T cells, B cells, NK cells, NKT cells correctly identified\n   - Basic monocyte population (though not subdivided)\n   - Core hierarchy flow is reasonable\n\n5. **Structural differences**:\n   - Ground truth: All Events > Singlets > Live cells > Leukocytes\n   - Predictions: All Events > Cells > Singlets > Leukocytes (missing Live cells, extra \"Cells\")\n\n---\n\nMEDIAN_QUALITY: 5 (captures major lineages but misses specialized subsets and has structural deviations)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs, high parse success)\nWORST_CASE: 4 (same issues in all runs - missing monocyte subsets, DCs, plasma cells, marginal zone B cells)\nBEST_CASE: 6 (Pattern A with lymphoid/myeloid groupings slightly better organized)\nFAILURE_MODES: missing monocyte subsets (classical/intermediate/non-classical), missing dendritic cells (CD1c+ mDCs), missing plasma cells, missing marginal zone B cells, missing live cells gate, hallucinated \"Cells\" gate, hallucinated granulocytes\nRELIABILITY: medium - Model reliably identifies major leukocyte lineages but systematically fails to predict specialized subpopulations that require deeper immunological knowledge of the specific OMIP panel design.\nSUMMARY: The model demonstrates good consistency and captures core leukocyte populations but operates at a \"textbook\" level, missing the panel-specific specialized subsets (monocyte subclasses, DCs, plasma cells) that define OMIP-077's immunophenotyping depth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 967,
      "timestamp": "2026-01-13T04:10:59.604020",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.7,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "missing Lymphocytes gate, missing FoxP3- non-Treg branch, inconsistent Live cells inclusion, unnecessary FSC-A vs SSC-A intermediate gate",
      "reliability": "medium - Model reliably identifies the core Treg lineage (CD4+ > FoxP3+) but consistently fails to capture the complete hierarchy depth and branching structure required for proper Treg classification.",
      "summary": "The model demonstrates consistent partial understanding of Treg gating by capturing the FoxP3+ endpoint but systematically omits the Lymphocytes gate and FoxP3-negative branch that are essential for complete Treg phenotyping according to the OMIP-053 protocol.",
      "raw_response": "Looking at the predictions across 10 runs compared to the ground truth:\n\n**Ground Truth Structure:**\n- All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3+ Treg\n- All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3- non-Treg\n\n**Key Observations:**\n\n1. **Missing gates across ALL runs:**\n   - \"Live cells\" gate missing in 6/10 runs (Runs 1-4, 6, 10)\n   - \"Lymphocytes\" gate missing in ALL 10 runs\n   - \"FoxP3- non-Treg\" branch completely missing in ALL 10 runs\n\n2. **Two prediction patterns:**\n   - Pattern A (6 runs): All Events > Singlets > CD4+ > FoxP3+ (minimal, missing Live cells)\n   - Pattern B (4 runs): All Events > FSC-A vs SSC-A > Singlets > Live Cells > CD4+ > FoxP3+ (includes Live cells but adds unnecessary FSC-A vs SSC-A gate before Singlets)\n\n3. **Consistent errors:**\n   - Never predicts the Lymphocytes gate (critical for PBMC gating)\n   - Never predicts the FoxP3- non-Treg sibling branch\n   - Inconsistent inclusion of Live cells gate\n\nMEDIAN_QUALITY: 4 (captures core lineage CD4+ > FoxP3+ but misses Lymphocytes gate and FoxP3- branch)\nCONSISTENCY: 7 (two distinct patterns but both share the same fundamental omissions)\nWORST_CASE: 3 (Pattern A missing Live cells, Lymphocytes, and FoxP3- branch)\nBEST_CASE: 5 (Pattern B includes Live cells but still missing Lymphocytes and FoxP3- branch)\nFAILURE_MODES: missing Lymphocytes gate, missing FoxP3- non-Treg branch, inconsistent Live cells inclusion, unnecessary FSC-A vs SSC-A intermediate gate\nRELIABILITY: medium - Model reliably identifies the core Treg lineage (CD4+ > FoxP3+) but consistently fails to capture the complete hierarchy depth and branching structure required for proper Treg classification.\nSUMMARY: The model demonstrates consistent partial understanding of Treg gating by capturing the FoxP3+ endpoint but systematically omits the Lymphocytes gate and FoxP3-negative branch that are essential for complete Treg phenotyping according to the OMIP-053 protocol.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1849,
      "timestamp": "2026-01-13T04:11:21.213307",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-022 (10 runs)\n\n**MEDIAN_QUALITY: 7** \nThe model consistently captures the core T-cell gating structure (CD4+/CD8+ \u2192 Memory \u2192 Functional analysis) which matches the ground truth hierarchy depth and branching. The main discrepancy is naming conventions and inclusion of additional populations (monocytes, B cells in runs 1,2,10).\n\n**CONSISTENCY: 9**\nOnly 2 unique gate set patterns across 10 runs with a 0.89 consistency score. Runs 3-9 (7/10) are essentially identical. Runs 1, 2, and 10 share the same alternative pattern. This is excellent consistency.\n\n**WORST_CASE: 6**\nRuns 1, 2, 10 use \"Debris Gate\" instead of \"Time Gate\" (semantically different - debris exclusion vs time stability gating), skip the \"Lymphocytes\" gate (jumping directly to CD3+), and add unrequested populations (CD14+ monocytes, CD19+ B cells). However, the core T-cell hierarchy is still correct.\n\n**BEST_CASE: 8**\nRuns 3-9 correctly identify: Time Gate \u2192 Singlets \u2192 Live Cells \u2192 Lymphocytes \u2192 T Cells \u2192 CD4+/CD8+ \u2192 Memory \u2192 Functional analysis. The structure precisely matches ground truth. Minor deductions for verbose naming (e.g., \"Cytokine/Function (CD154, IFN-\u03b3, IL-2...)\" vs \"Functional Analysis\").\n\n**FAILURE_MODES:** naming verbosity with marker lists in gate names, occasional substitution of \"Debris Gate\" for \"Time Gate\", inclusion of unrequested populations (monocytes/B cells), inconsistent gate nomenclature between runs\n\n**RELIABILITY: high** The model reliably captures the essential gating logic for T-cell immunophenotyping with correct hierarchy structure in all runs, despite minor naming variations.\n\n**SUMMARY:** gemini-2.0-flash demonstrates strong, consistent performance on this T-cell panel, correctly inferring the canonical gating hierarchy with 70% of runs matching the expected structure almost exactly and the remaining 30% showing only superficial naming differences.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2640,
      "timestamp": "2026-01-13T04:11:45.608236",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.8,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "missing myeloid lineage (monocytes and mDCs), missing time gate, missing intermediate QC gates (non-beads, non-aggregates), T-cell bias over comprehensive coverage, missing plasmablasts",
      "reliability": "medium - The model reliably produces consistent predictions but has systematic blind spots for myeloid populations despite markers being present in the panel",
      "summary": "Model shows good consistency (89%) but systematically omits the entire myeloid branch and intermediate quality control gates, resulting in T-cell biased predictions that miss ~40% of the ground truth hierarchy structure.",
      "raw_response": "Looking at the ground truth and predictions across 10 runs for OMIP-101:\n\n**Key Observations:**\n\n1. **Ground truth structure**: The expected hierarchy has a distinctive structure with:\n   - Time gate \u2192 Singlets \u2192 Non-beads \u2192 Leukocytes \u2192 Non-aggregates \u2192 Non-granulocytes\n   - Then splits into Myeloid cells and Lymphocytes branches\n   - Includes specific populations: Classical/Intermediate/Non-classical monocytes, mDCs, Plasmablasts, Naive/Memory B cells, CD56dim NK cells\n\n2. **Prediction patterns**: The model shows 2 distinct prediction patterns:\n   - Pattern A (Runs 1, 3, 4, 10): Simpler \"Debris Gate > Singlets > Leukocytes\" structure with ~13 gates\n   - Pattern B (Runs 2, 5, 6, 7, 8, 9): More detailed \"Debris Removal > Singlets > CD45+ Leukocytes\" with ~24 gates\n\n3. **Critical misses**:\n   - Missing \"Time gate\" (uses \"Debris Gate/Removal\" instead)\n   - Missing \"Non-beads\", \"Non-aggregates\", \"Non-granulocytes\" intermediate gates\n   - Missing the Myeloid branch entirely (no monocyte subsets, no mDCs)\n   - Missing Plasmablasts\n   - T-cell focused rather than the broad leukocyte coverage in ground truth\n\n4. **What the model gets right**:\n   - Basic gating sequence (singlets \u2192 leukocytes)\n   - T cell subsets (CD4+, CD8+, naive/memory distinctions)\n   - NK cells and B cells present\n   - Gamma delta T cells included\n\n5. **Structural issues**:\n   - The ground truth has a deeper, more nuanced hierarchy with quality control gates\n   - Model predictions are T-cell biased despite this being a comprehensive whole blood panel\n   - Missing the HLA-DR+ myeloid discrimination step\n\nMEDIAN_QUALITY: 4 (predictions capture major lymphocyte populations but miss the myeloid branch entirely and lack proper QC gate structure)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs, model is internally consistent)\nWORST_CASE: 3 (Pattern A runs have fewer gates and miss more detail)\nBEST_CASE: 5 (Pattern B runs have more complete lymphocyte phenotyping but still miss myeloid cells)\nFAILURE_MODES: missing myeloid lineage (monocytes and mDCs), missing time gate, missing intermediate QC gates (non-beads, non-aggregates), T-cell bias over comprehensive coverage, missing plasmablasts\nRELIABILITY: medium - The model reliably produces consistent predictions but has systematic blind spots for myeloid populations despite markers being present in the panel\nSUMMARY: Model shows good consistency (89%) but systematically omits the entire myeloid branch and intermediate quality control gates, resulting in T-cell biased predictions that miss ~40% of the ground truth hierarchy structure.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3071,
      "timestamp": "2026-01-13T04:12:11.988076",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.9,
      "worst_case": 0.5,
      "best_case": 0.6,
      "failure_modes": "missing Time gate, missing Lymphocyte scatter gate, wrong memory nomenclature (CD27 vs CD21-based RM/AM/TLM), adds unrequested kappa/lambda subdivisions, inverts Singlets/Live order in some runs",
      "reliability": "medium The model reliably produces a scientifically valid B cell gating hierarchy but defaults to a generic \"textbook\" approach rather than reproducing paper-specific schemes like the RM/AM/TLM classification.",
      "summary": "Model demonstrates strong B cell immunology knowledge and high consistency but fails to match OMIP-074's specific memory B cell classification scheme (RM/AM/TLM), instead generating a standard CD27-based memory hierarchy with kappa/lambda subdivisions.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-074 (B Cell IgG/IgA Subclass Panel)\n\n### Analysis\n\n**Ground Truth Structure:**\n- Root: All Events > Time gate > Singlets > Lymphocytes > Live cells > B cells\n- Key populations: Naive, RM/AM/TLM memory subsets, Class-switched with IgG1-4 and IgA1-2 subclasses\n\n**Predicted Structure (consistent across runs 3-10):**\n- Root: All Events > Singlets > Live Cells > B Cells > Mature B Cells\n- Includes: Naive (\u03ba/\u03bb), Memory (unswitched IgM, switched IgG/IgA/IgE with subclasses)\n\n**Key Observations:**\n\n1. **Missing gates**: Time gate, Lymphocytes gate (scatter-based), and the specific memory nomenclature (RM/AM/TLM vs CD27-based memory)\n\n2. **Structural differences**: \n   - Prediction places Live Cells after Singlets (inverted from ground truth)\n   - Adds \"Mature B Cells (CD20+)\" intermediate gate not in ground truth\n   - Uses CD27-based memory classification instead of CD21-based RM/AM/TLM scheme\n\n3. **Additions beyond ground truth**:\n   - Kappa/Lambda light chain subdivisions throughout (scientifically valid but not in reference)\n   - IgM Memory subset (unswitched memory)\n   - More detailed marker annotations in gate names\n\n4. **High consistency**: Runs 3-10 are identical; Runs 1-2 differ only in gate order (Live > Singlets vs Singlets > Live)\n\n5. **Scientific validity**: The predicted hierarchy is a reasonable B cell panel gating strategy, just not matching the specific OMIP-074 scheme. The model is generating a \"textbook\" B cell gating approach rather than the paper-specific hierarchy.\n\n---\n\nMEDIAN_QUALITY: 6 (captures IgG/IgA subclass structure and B cell biology correctly, but uses different memory classification scheme and misses Time/Lymphocyte gates)\nCONSISTENCY: 9 (8/10 runs identical, 2/10 differ only in gate ordering)\nWORST_CASE: 5 (runs 1-2 with inverted Live/Singlets order are less conventional)\nBEST_CASE: 6 (runs 3-10 represent a valid alternative gating scheme)\nFAILURE_MODES: missing Time gate, missing Lymphocyte scatter gate, wrong memory nomenclature (CD27 vs CD21-based RM/AM/TLM), adds unrequested kappa/lambda subdivisions, inverts Singlets/Live order in some runs\nRELIABILITY: medium The model reliably produces a scientifically valid B cell gating hierarchy but defaults to a generic \"textbook\" approach rather than reproducing paper-specific schemes like the RM/AM/TLM classification.\nSUMMARY: Model demonstrates strong B cell immunology knowledge and high consistency but fails to match OMIP-074's specific memory B cell classification scheme (RM/AM/TLM), instead generating a standard CD27-based memory hierarchy with kappa/lambda subdivisions.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3773,
      "timestamp": "2026-01-13T04:12:40.077376",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.7,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "inappropriate scatter gates for CyTOF, over-elaborated hierarchy depth, potentially missing Tregs/Tfh/stem cell memory, bimodal output format instability",
      "reliability": "medium - Model demonstrates solid T-cell immunology knowledge but fails to recognize mass cytometry context, making it unreliable for technology-specific gating strategies without post-processing.",
      "summary": "gemini-2.5-flash reliably identifies canonical T-cell memory subsets with correct marker logic but consistently hallucinates scatter-based preprocessing gates that are invalid for CyTOF, indicating domain knowledge gaps in instrument-specific workflows.",
      "raw_response": "## Evaluation: OMIP-087 (CyTOF T-cell Memory Panel) - gemini-2.5-flash\n\n### Analysis\n\n**Ground Truth Structure:** The expected hierarchy is relatively flat, going directly from `All Events > Leukocytes > T cells > CD4+/CD8+ T cells` to memory subsets. This is appropriate for mass cytometry (CyTOF) where scatter-based gating (singlets, debris) is not applicable.\n\n**Prediction Patterns:** The model produces two distinct hierarchy styles across 10 runs:\n\n1. **Verbose Style (Runs 1, 3, 5, 7, 8, 9 - 60%):** Includes `Time Gate > Debris Exclusion > Singlets (FSC) > Singlets (SSC) > Viable Cells > Leukocytes > Lymphocytes > T Cells > TCRgd/TCRab split`. Very detailed with marker annotations like `(CD45RA+ CCR7+)`.\n\n2. **Compact Style (Runs 2, 4, 6, 10 - 40%):** Uses `Singlets > Viable Cells > Leukocytes > Lymphocytes > T Cells > Alpha-Beta T Cells`. Shorter paths, no marker annotations.\n\n**Key Observations:**\n\n| Aspect | Assessment |\n|--------|------------|\n| **Core T-cell subsets** | \u2713 Consistently identifies CD4/CD8 memory subsets (Naive, CM, EM, TEMRA) |\n| **\u03b3\u03b4 T cells** | \u2713 Both styles correctly gate TCR\u03b3\u03b4+ T cells |\n| **Tregs/Tfh** | \u26a0 Not explicitly shown in predictions (may be in \"+24 more\" paths) |\n| **CyTOF awareness** | \u2717 Model adds scatter-based gates (Singlets FSC/SSC) inappropriate for mass cytometry |\n| **Stem cell memory** | \u26a0 Not visible in shown paths |\n| **Transitional memory** | \u26a0 Not visible in shown paths |\n\n**Critical Issues:**\n1. **Technology mismatch:** Adding FSC/SSC singlet gates is incorrect for CyTOF panels\n2. **Over-elaboration:** Verbose style adds unnecessary intermediate gates not in ground truth\n3. **Missing specialized populations:** Stem cell memory, transitional memory, Tregs, Tfh not clearly present\n\n---\n\nMEDIAN_QUALITY: 6 (correctly identifies major T-cell memory subsets but adds inappropriate scatter-based gates for CyTOF)\nCONSISTENCY: 7 (two distinct output styles but both functionally similar; 89% consistency score reflects this bimodal pattern)\nWORST_CASE: 5 (compact style may miss some specialized populations shown in verbose outputs)\nBEST_CASE: 7 (verbose style captures detailed memory phenotypes with marker logic, though still has technology error)\nFAILURE_MODES: inappropriate scatter gates for CyTOF, over-elaborated hierarchy depth, potentially missing Tregs/Tfh/stem cell memory, bimodal output format instability\nRELIABILITY: medium - Model demonstrates solid T-cell immunology knowledge but fails to recognize mass cytometry context, making it unreliable for technology-specific gating strategies without post-processing.\nSUMMARY: gemini-2.5-flash reliably identifies canonical T-cell memory subsets with correct marker logic but consistently hallucinates scatter-based preprocessing gates that are invalid for CyTOF, indicating domain knowledge gaps in instrument-specific workflows.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2803,
      "timestamp": "2026-01-13T04:13:06.556799",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.7,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "scope creep (monocyte/myeloid branches dominate over target ILC/NK), missing \u03b3\u03b4 T cells and NK cells in visible paths, CyTOF notation on flow panel, excessive hierarchy depth",
      "reliability": "medium - Model demonstrates immunological knowledge but over-generates beyond the panel's specific focus, producing valid but off-target hierarchies",
      "summary": "The model builds plausible comprehensive immunophenotyping hierarchies but misses the specific NK/ILC/unconventional T-cell focus of OMIP-064, prioritizing monocyte and myeloid branches over the paper's actual gating targets.",
      "raw_response": "## Evaluation: OMIP-064 - gemini-2.5-flash\n\n**Ground Truth Focus:** NK cells, ILCs, MAIT cells, \u03b3\u03b4 T cells (specialized innate/innate-like lymphocyte panel)\n\n### Analysis\n\nThe model produces two distinct hierarchy patterns across runs:\n- **Pattern A (Runs 1,2,4,7):** CyTOF-style notation, CD14+ branching first, 22 gates\n- **Pattern B (Runs 3,5,6,8,9,10):** Standard flow notation, Leukocytes gate, 28 gates\n\n**Key Observations:**\n\n1. **Correct elements:** Both patterns include MAIT cells (TCRv\u03b17.2+ CD161+), which is a critical target population. The model correctly identifies the need for singlets, viability, and lymphocyte gating upstream.\n\n2. **Missing critical populations:** \n   - \u03b3\u03b4 T cells: Not visible in shown paths (may be in \"+17/+23 more\")\n   - NK cells: Not explicitly shown in visible paths\n   - ILC subsets: Not visible\n   - \"Activated NK cells\" specifically missing\n\n3. **Structural divergence:** Ground truth uses a simple `Lymphocytes > T cells > MAIT/\u03b3\u03b4` and `Lymphocytes > ILCs > NK` structure. The model instead generates a much more elaborate hierarchy with:\n   - Monocyte branches (Classical/Non-classical) - not in ground truth focus\n   - Basophils, Mast cells - extraneous for this panel's stated purpose\n   - Tregs - not a target population\n\n4. **Hallucinations:** The model invents populations not central to OMIP-064's NK/ILC/unconventional T-cell focus. While these populations *could* theoretically be gated from a 27-color panel, they represent scope creep beyond the paper's stated gating strategy.\n\n5. **Consistency issue:** The CyTOF notation in Pattern A (\"CyTOF: DNA_intercalator vs Event_length\") is inappropriate - OMIP-064 is explicitly a **flow cytometry** panel (27-color spectral), not mass cytometry.\n\n---\n\nMEDIAN_QUALITY: 4\nCONSISTENCY: 7\nWORST_CASE: 3\nBEST_CASE: 5\nFAILURE_MODES: scope creep (monocyte/myeloid branches dominate over target ILC/NK), missing \u03b3\u03b4 T cells and NK cells in visible paths, CyTOF notation on flow panel, excessive hierarchy depth\nRELIABILITY: medium - Model demonstrates immunological knowledge but over-generates beyond the panel's specific focus, producing valid but off-target hierarchies\nSUMMARY: The model builds plausible comprehensive immunophenotyping hierarchies but misses the specific NK/ILC/unconventional T-cell focus of OMIP-064, prioritizing monocyte and myeloid branches over the paper's actual gating targets.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2646,
      "timestamp": "2026-01-13T04:13:28.802376",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: gemini-2.5-flash on OMIP-025 (minimal_direct)\n\n**MEDIAN_QUALITY: 7** \nThe model correctly identifies the major gating structure (All Events \u2192 Singlets \u2192 Live Cells \u2192 Lymphocytes \u2192 T Cells \u2192 CD4/CD8 branches \u2192 Memory/Functional subsets). It appropriately expands memory subsets into Naive/Tcm/Tem/TEMRA and includes Tfh cells. However, it adds an extra \"Leukocytes (CD45+)\" gate not in the ground truth and uses more granular naming than expected.\n\n**CONSISTENCY: 9**\nOnly 2 unique gate sets across 10 runs with a 0.89 consistency score. The two variants differ mainly in nomenclature style (Runs 1-3, 7 use marker annotations like \"CD45RA+ CCR7+\" while Runs 4-6, 8-10 use abbreviated names like \"Tcm\"). The hierarchical structure is essentially identical across all runs.\n\n**WORST_CASE: 7**\nEven the \"worst\" predictions maintain correct hierarchical logic. The main deviation is the addition of an intermediate \"Leukocytes\" gate and slightly different depth for memory subset grouping.\n\n**BEST_CASE: 8**\nThe best predictions correctly capture all major populations (CD4+, CD8+, NK subsets with memory and functional branches, Tfh). The expanded memory subset detail (Naive/Tcm/Tem/TEMRA) is biologically reasonable even if more granular than the ground truth's grouped \"Memory subsets.\"\n\n**FAILURE_MODES:** Added intermediate Leukocytes gate not in ground truth, over-specification of memory subsets instead of grouped labels, inconsistent marker annotation style between runs\n\n**RELIABILITY: high** The model produces structurally sound, biologically valid gating hierarchies with high reproducibility\u2014the two variants are stylistic rather than substantive differences.\n\n**SUMMARY:** gemini-2.5-flash reliably generates correct T/NK gating hierarchies for OMIP-025, with minor over-elaboration of memory subsets and an extra CD45+ gate, achieving high consistency across runs despite cosmetic naming variations.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2522,
      "timestamp": "2026-01-13T04:13:53.021235",
      "error": null,
      "median_quality": 0.2,
      "consistency": 0.7,
      "worst_case": 0.2,
      "best_case": 0.2,
      "failure_modes": "complete omission of monocyte subsets, wrong biological focus (lymphocytes instead of monocytes), missing SLAN marker gates, generic panel hallucination over specific OMIP design",
      "reliability": "low The model reliably generates plausible generic PBMC gating but fails to produce the specific monocyte-focused hierarchy required by this OMIP.",
      "summary": "Despite high consistency and valid flow cytometry logic, the model completely misses the core purpose of OMIP-083 (monocyte subset classification), instead defaulting to generic lymphocyte immunophenotyping.",
      "raw_response": "Looking at the predictions across 10 runs compared to the ground truth for OMIP-083 (a monocyte-focused panel):\n\n**Ground Truth Focus:** The expected hierarchy is specifically about monocyte subsets - Classical, Intermediate, and Nonclassical (SLAN+/SLAN-) monocytes under a Non-granulocytes > Monocytes branch.\n\n**Model Predictions Analysis:**\n- The model produces two distinct prediction patterns (5 runs each):\n  - Pattern A (Runs 1,4,7,8,9): Uses \"Mononuclear Cells (MNCs)\" terminology with detailed lymphocyte/NK subtyping\n  - Pattern B (Runs 2,3,5,6,10): Uses \"Non-Granulocytes\" with Platelets gate and similar lymphocyte structure\n\n**Critical Failures:**\n1. **Completely misses monocyte subsets** - The ground truth is specifically about Classical/Intermediate/Nonclassical monocytes, but the model focuses on lymphocytes (T cells, B cells, NK cells) instead\n2. **Wrong biological focus** - Model generates generic PBMC immunophenotyping rather than the OMIP-083 specific monocyte classification\n3. **Missing SLAN marker usage** - Ground truth uses SLAN for nonclassical monocyte subdivision; model never mentions this\n4. **Hallucinated gates** - Includes populations like \"Platelets\" and extensive PD-1+ subsets not in the ground truth\n\n**What the model does correctly:**\n- Consistent early gating structure (Singlets > Live Cells > CD45+ Leukocytes)\n- Reasonable flow cytometry logic for generic panels\n- High parse success and moderate consistency between the two patterns\n\nMEDIAN_QUALITY: 2 (produces valid flow cytometry hierarchies but completely wrong target populations)\nCONSISTENCY: 7 (only 2 unique patterns across 10 runs, high internal consistency)\nWORST_CASE: 2 (both patterns equally miss the monocyte focus)\nBEST_CASE: 2 (no run captures the monocyte subset classification)\nFAILURE_MODES: complete omission of monocyte subsets, wrong biological focus (lymphocytes instead of monocytes), missing SLAN marker gates, generic panel hallucination over specific OMIP design\nRELIABILITY: low The model reliably generates plausible generic PBMC gating but fails to produce the specific monocyte-focused hierarchy required by this OMIP.\nSUMMARY: Despite high consistency and valid flow cytometry logic, the model completely misses the core purpose of OMIP-083 (monocyte subset classification), instead defaulting to generic lymphocyte immunophenotyping.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3183,
      "timestamp": "2026-01-13T04:14:21.598051",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.7,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "inverted singlet/live gate order (40% of runs), CD56bright/dim substituted for Mamu-KIR3DL01+/- primary split, missing explicit CD16+CD56- and CD16-CD56+ terminal populations, excessive intermediate nodes",
      "reliability": "medium - Model demonstrates consistent understanding of NK marker biology but fails to capture species-specific (macaque) gating conventions and the paper's actual organizational logic",
      "summary": "The model consistently applies human CD56bright/dim NK paradigm instead of recognizing the macaque Mamu-KIR-based hierarchy specified in OMIP-035, suggesting it retrieves common human NK gating patterns rather than reasoning from the specific panel markers.",
      "raw_response": "## Evaluation: OMIP-035 (Macaque NK Cell Panel) - gemini-2.5-flash\n\n### Key Observations\n\n**Structural Issues:**\n1. **Gate order inconsistency**: Runs 1,2,6,7 use \"Live Cells > Singlets\" (wrong), while runs 3-5,8-10 use \"Singlets > Live Cells\" (correct). This is a fundamental flow cytometry error - singlet gating must precede viability.\n\n2. **Wrong organizational framework**: Ground truth uses **Mamu-KIR3DL01** as primary NK subdivision (species-specific macaque KIR), then KIR3DL05. Model instead uses **CD56bright/CD56dim** as primary subdivision, then KIR markers secondarily.\n\n3. **Missing CD16 subdivision**: Ground truth explicitly includes CD16+/- CD56+/- combinations as separate terminal populations. Model subsumes CD16 into a general \"NK Cell Subsets (CD56 vs CD16)\" intermediate gate but doesn't preserve the specific CD16+CD56-, CD16-CD56+, CD16+CD56+ terminal populations.\n\n4. **Excessive hierarchy depth**: Runs 3-5,8-10 add unnecessary intermediate nodes (\"CD56+ Cells\", \"NK Cell Subsets (CD56 vs CD16)\", \"KIR Expression on...\") creating 9-level hierarchies vs ground truth's 7 levels.\n\n**What the model gets right:**\n- Core gating sequence (All Events \u2192 Singlets \u2192 Live \u2192 Lymphocytes \u2192 NK cells)\n- Recognition that KIR3DL01 and KIR3DL05 create a 2\u00d72 matrix of populations\n- Inclusion of all 4 KIR combinations (+/+, +/-, -/+, -/-)\n\n**Critical miss:**\n- The model doesn't recognize this is a **macaque** panel (Mamu- prefix indicates *Macaca mulatta*). It applies human NK biology (CD56bright/dim paradigm) instead of the paper's actual Mamu-KIR-based organization.\n\n---\n\nMEDIAN_QUALITY: 5 (captures KIR combinations but wrong organizational hierarchy and CD16 handling)\nCONSISTENCY: 7 (two distinct patterns, 4 runs one way, 6 runs another, but both have same conceptual errors)\nWORST_CASE: 4 (runs 1,2,6,7 with inverted singlet/live order)\nBEST_CASE: 6 (runs 3-5,8-10 have correct singlet order but still wrong KIR organization)\nFAILURE_MODES: inverted singlet/live gate order (40% of runs), CD56bright/dim substituted for Mamu-KIR3DL01+/- primary split, missing explicit CD16+CD56- and CD16-CD56+ terminal populations, excessive intermediate nodes\nRELIABILITY: medium - Model demonstrates consistent understanding of NK marker biology but fails to capture species-specific (macaque) gating conventions and the paper's actual organizational logic\nSUMMARY: The model consistently applies human CD56bright/dim NK paradigm instead of recognizing the macaque Mamu-KIR-based hierarchy specified in OMIP-035, suggesting it retrieves common human NK gating patterns rather than reasoning from the specific panel markers.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3042,
      "timestamp": "2026-01-13T04:14:44.989266",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: gemini-2.5-flash on OMIP-095\n\n**MEDIAN_QUALITY: 7** \nThe model correctly identifies all major leukocyte populations (T cells, B cells, NK cells, monocytes, dendritic cells, macrophages) with appropriate CD4/CD8 T cell subsets. However, it adds extra hierarchy depth (Lymphocytes gate, double singlet gates) not in ground truth, and includes monocyte subsets (Classical/Non-classical) that aren't specified in the reference.\n\n**CONSISTENCY: 9**\nAcross 10 runs, only 2 unique gate sets emerged. 7/10 runs used the longer \"Live Events > Singlets (FSC-A vs FSC-H) > Singlets (SSC-A vs SSC-H) > Viable Cells\" pattern while 3/10 used the more concise \"Cells > Singlets > Live Cells\" pattern. The downstream populations are identical across all runs.\n\n**WORST_CASE: 6**\nThe shorter-form runs (5, 7, 8) have slightly less detail in gate naming, dropping marker annotations like \"(CD3+)\" and \"(CD19+)\". Still functionally correct but less informative.\n\n**BEST_CASE: 7**\nThe detailed runs (1-4, 6, 9-10) include marker-based gate names and explicit gating logic (FSC-A vs FSC-H). The extra specificity is technically accurate even if not matching ground truth verbatim.\n\n**FAILURE_MODES:** \n- Adds intermediate \"Lymphocytes\" gate not in ground truth\n- Double singlet gating (FSC and SSC) instead of single Singlets gate\n- Includes monocyte subsets (Classical/Non-classical) not specified in reference\n- Missing ILCs from predictions\n- Uses CD56 for NK cells (human marker) despite mouse sample context\n\n**RELIABILITY: medium** \nThe model reliably identifies major populations but consistently applies a human-centric gating template (CD56+ NK cells, CD14/CD16 monocyte classification) to mouse samples, which is biologically incorrect.\n\n**SUMMARY:** \nStructurally sound predictions with high consistency, but the model defaults to a generic human immunophenotyping template rather than adapting to the mouse species context, missing ILCs entirely and misapplying human-specific markers.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2982,
      "timestamp": "2026-01-13T04:15:11.959890",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.8,
      "worst_case": 0.6,
      "best_case": 0.7,
      "failure_modes": "missing plasmablasts, missing ICOS+ Treg subpopulation, adds unnecessary debris/scatter gate, inconsistent hierarchy depth between runs",
      "reliability": "medium Model produces biologically reasonable hierarchies but shows template instability and misses specific subpopulations like ICOS+ Tregs that require deeper domain knowledge.",
      "summary": "Gemini-2.5-flash demonstrates solid core immunophenotyping knowledge for murine splenocytes with correct major lineage identification, but lacks precision for specialized subpopulations and exhibits two distinct response patterns that reduce predictability.",
      "raw_response": "## Evaluation: gemini-2.5-flash on OMIP-076 (Murine Splenocyte Panel)\n\n### Analysis\n\n**Structural Consistency:** The model shows two distinct response templates across 10 runs:\n- **Template A (Runs 1,2,4,9):** Uses \"Debris Exclusion > Singlets > Live Cells > Leukocytes (CD45+)\" path with 18 gates\n- **Template B (Runs 3,5,6,7,8,10):** Uses \"Scatter Gate > Singlets > Viable Cells > CD45+ Leukocytes > Lymphocytes\" path with 13 gates\n\nBoth templates are internally consistent when used, giving the 0.89 consistency score.\n\n**Comparison to Ground Truth:**\n\n| Aspect | Ground Truth | Model Predictions | Assessment |\n|--------|-------------|-------------------|------------|\n| Root gating | All Events > Singlets > Live cells | Both add extra gate (Debris/Scatter) | Minor deviation |\n| B cell hierarchy | B cells > [Plasma, Plasmablasts, Activated, Memory] | Correctly identifies B cell subsets | Good |\n| T cell hierarchy | T cells > [Naive, EM, CM, Treg > ICOS+ Treg] | Captures CD4/CD8 subsets, memory | Good |\n| Plasma cells | Under B cells | Template B places under Lymphocytes (correct alternative) | Acceptable |\n| Missing gates | - | Plasmablasts not explicitly named | Minor omission |\n| Extra gates | - | Adds CD45+ leukocyte gate, IgD/IgM quadrants | Reasonable additions |\n\n**Key Strengths:**\n- Correctly interprets murine markers (B220, TCR\u03b2)\n- Identifies major populations (B cells, T cells, plasma cells, memory subsets)\n- Includes appropriate marker annotations (CD62L, CD44, IgD, IgM)\n- All runs parse successfully\n\n**Key Weaknesses:**\n- Adds unnecessary intermediate gates (Debris Exclusion, Scatter Gate)\n- Missing \"Plasmablasts\" as distinct from Plasma cells\n- \"Regulatory T cells > ICOS+ Treg\" hierarchy not captured in any run\n- Inconsistent depth between templates (18 vs 13 gates)\n\n---\n\nMEDIAN_QUALITY: 7 (captures major populations with correct marker logic but adds extra hierarchy levels)\nCONSISTENCY: 8 (two stable templates, high within-template consistency)\nWORST_CASE: 6 (Template B omits some B cell subsets present in Template A)\nBEST_CASE: 7 (Template A more comprehensive but still misses Plasmablasts and ICOS+ Treg)\nFAILURE_MODES: missing plasmablasts, missing ICOS+ Treg subpopulation, adds unnecessary debris/scatter gate, inconsistent hierarchy depth between runs\nRELIABILITY: medium Model produces biologically reasonable hierarchies but shows template instability and misses specific subpopulations like ICOS+ Tregs that require deeper domain knowledge.\nSUMMARY: Gemini-2.5-flash demonstrates solid core immunophenotyping knowledge for murine splenocytes with correct major lineage identification, but lacks precision for specialized subpopulations and exhibits two distinct response patterns that reduce predictability.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1704,
      "timestamp": "2026-01-13T04:15:37.531486",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.7,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing CD3+/T cells intermediate gate, predicting unrequested double-positive/double-negative populations, inconsistent Leukocytes vs Singlets ordering, artificial \"CD4 vs CD8\" gate name",
      "reliability": "medium The model reliably identifies the CD4/CD8 endpoint populations but inconsistently reconstructs the intermediate hierarchy, particularly omitting the T cells gate that defines this OMIP's focus.",
      "summary": "Moderate performance with acceptable consistency; the model understands the terminal populations but fails to capture the T-cell-specific gating logic that is central to OMIP-008's design.",
      "raw_response": "## Evaluation: gemini-2.5-flash on OMIP-008\n\n**Ground Truth Analysis:**\nThe expected hierarchy has a clear structure: All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+ T cells (6 levels, with T cells as an explicit intermediate gate).\n\n**Prediction Pattern Analysis:**\n\nTwo distinct prediction patterns emerged:\n- **Pattern A (Runs 1, 7, 8, 10):** All Events > Leukocytes > Singlets > Viable Cells > CD4+/-CD8+/- Cells (4 terminal gates)\n- **Pattern B (Runs 2-6, 9):** All Events > Singlets > Viable Cells > Lymphocytes > CD4 vs CD8 > CD4+/-CD8+/- T cells (4 terminal gates)\n\n**Key Discrepancies:**\n\n1. **Missing T cells gate:** Neither pattern includes an explicit \"T cells\" or \"CD3+\" intermediate gate before CD4/CD8 subdivision. This is a significant omission for OMIP-008.\n\n2. **Order inconsistency:** Pattern A places Leukocytes before Singlets (unconventional - singlet gating typically comes first). Pattern B correctly places Singlets first.\n\n3. **Extra gates predicted:** Model predicts CD4+CD8+ (double positive) and CD4-CD8- (double negative) populations not in ground truth. These are valid populations but weren't specified.\n\n4. **\"CD4 vs CD8\" as intermediate:** Pattern B inserts an artificial bivariate gate name, which isn't a standard population designation.\n\n5. **Naming variations:** \"Viable Cells\" vs \"Live cells\" - semantically equivalent but not exact match.\n\n---\n\nMEDIAN_QUALITY: 6 (captures core CD4/CD8 split and main hierarchy flow, but misses T cells intermediate gate and has ordering issues)\nCONSISTENCY: 7 (only 2 unique patterns across 10 runs with clear 60/40 split, but the two patterns differ meaningfully in structure)\nWORST_CASE: 5 (Pattern A with Leukocytes>Singlets ordering and no Lymphocytes gate is structurally problematic)\nBEST_CASE: 7 (Pattern B gets the Singlets-first ordering and includes Lymphocytes, but still misses explicit T cells gate)\nFAILURE_MODES: missing CD3+/T cells intermediate gate, predicting unrequested double-positive/double-negative populations, inconsistent Leukocytes vs Singlets ordering, artificial \"CD4 vs CD8\" gate name\nRELIABILITY: medium The model reliably identifies the CD4/CD8 endpoint populations but inconsistently reconstructs the intermediate hierarchy, particularly omitting the T cells gate that defines this OMIP's focus.\nSUMMARY: Moderate performance with acceptable consistency; the model understands the terminal populations but fails to capture the T-cell-specific gating logic that is central to OMIP-008's design.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2633,
      "timestamp": "2026-01-13T04:16:02.120878",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.7,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "hallucinated progenitor populations, missing monocyte subclassification, missing DC subsets, missing NK-T cells, missing plasma cells, generic marker-based naming instead of functional populations",
      "reliability": "medium - Model produces parseable hierarchies with core leukocyte populations but frequently hallucinates sample-inappropriate progenitor cells and lacks the specialized population granularity required for OMIP-077",
      "summary": "Gemini-2.5-flash demonstrates structural consistency but systematically overcomplicates predictions with inappropriate progenitor gates while missing the specialized mature cell populations (monocyte subsets, DCs, NK-T, plasma cells) that define OMIP-077's immunophenotyping scope.",
      "raw_response": "Looking at the 10 runs, I can identify two distinct prediction patterns:\n\n**Pattern A (Runs 1-4, 8-10 = 7 runs):** Includes CD34+ progenitor hierarchy (HSC, MPP, Committed Progenitors) with CD45dim/CD45bright distinction. This is inappropriate for erythrocyte-depleted whole blood leukocytes - progenitor cells are rare in peripheral blood.\n\n**Pattern B (Runs 5-7 = 3 runs):** Simpler structure without progenitors, focusing on mature leukocyte populations (T cells, B cells, NK cells, monocytes). Closer to expected hierarchy but still misses specific populations like NK-T cells, marginal zone B cells, plasma cells, DC subsets, and monocyte subclassification.\n\n**Key Issues:**\n1. **Hallucinated progenitor populations** (70% of runs): HSC, MPP are not expected in peripheral blood samples\n2. **Missing critical populations**: NK-T cells, plasma cells, marginal zone B cells, CD1c+ mDCs, pDCs, basophils, eosinophils absent from all predictions\n3. **Monocyte subclassification missing**: Ground truth specifies classical/intermediate/non-classical monocytes; predictions collapse to generic CD14+ monocytes\n4. **Generic marker-based naming**: Uses \"CD3+CD38+ T Cells\" instead of functional populations\n5. **Structural differences**: Adds unnecessary \"Lymphocytes (Scatter)\" intermediate gate not in ground truth\n\nMEDIAN_QUALITY: 4 (correctly identifies major lineages but includes inappropriate progenitors and misses specialized populations)\nCONSISTENCY: 7 (only 2 unique patterns across 10 runs, but the dominant pattern is the worse one)\nWORST_CASE: 3 (Pattern A with hallucinated progenitor hierarchy inappropriate for sample type)\nBEST_CASE: 5 (Pattern B captures main lineages but lacks monocyte/DC granularity)\nFAILURE_MODES: hallucinated progenitor populations, missing monocyte subclassification, missing DC subsets, missing NK-T cells, missing plasma cells, generic marker-based naming instead of functional populations\nRELIABILITY: medium - Model produces parseable hierarchies with core leukocyte populations but frequently hallucinates sample-inappropriate progenitor cells and lacks the specialized population granularity required for OMIP-077\nSUMMARY: Gemini-2.5-flash demonstrates structural consistency but systematically overcomplicates predictions with inappropriate progenitor gates while missing the specialized mature cell populations (monocyte subsets, DCs, NK-T, plasma cells) that define OMIP-077's immunophenotyping scope.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1058,
      "timestamp": "2026-01-13T04:16:22.271947",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-053 Treg Panel - gemini-2.5-flash\n\n**MEDIAN_QUALITY: 8**\nThe model correctly identifies the complete gating hierarchy with proper structure (All Events \u2192 Singlets \u2192 Viable/Live \u2192 Lymphocytes \u2192 CD4+ T cells \u2192 FoxP3+ Tregs). The naming variations (\"Viable Cells\" vs \"Live cells\", \"CD4+ FoxP3+ T cells (Tregs)\" vs \"FoxP3+ Treg\") are semantically equivalent and represent acceptable nomenclature differences.\n\n**CONSISTENCY: 9**\nExcellent consistency across runs. All 10 predictions share identical structure for the core hierarchy. The only variation is whether the FoxP3- non-Treg population is included (4/10 runs include both branches, 6/10 only predict the Treg branch). This is a minor completeness variation rather than structural inconsistency.\n\n**WORST_CASE: 7**\nRuns 1, 3, 5, 8, 9, 10 only predict one branch (FoxP3+ Tregs) and miss the FoxP3- non-Treg sibling population. This is incomplete but not incorrect\u2014all predicted gates are valid and properly structured.\n\n**BEST_CASE: 9**\nRuns 2, 4, 6, 7 correctly predict both terminal branches (FoxP3+ Tregs and FoxP3- T cells) under CD4+ T cells, matching the expected hierarchy's bifurcation structure.\n\n**FAILURE_MODES: incomplete prediction (missing FoxP3- branch in 60% of runs), minor naming variation (Viable vs Live)**\n\n**RELIABILITY: high** The model reliably produces correct hierarchical structure with appropriate gate names; the only inconsistency is occasional omission of the negative population branch.\n\n**SUMMARY: Strong performance with correct structure and critical gate identification across all runs; main limitation is intermittent omission of the FoxP3- negative population that completes the Treg/non-Treg dichotomy.**",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2469,
      "timestamp": "2026-01-13T04:16:46.550909",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.8,
      "worst_case": 0.6,
      "best_case": 0.7,
      "failure_modes": "missing Time Gate, over-expanded functional gating, nomenclature variation (Live/Viable)",
      "reliability": "medium This model reliably captures core T cell immunophenotyping structure but consistently over-specifies functional analysis and omits quality control gates.",
      "summary": "Gemini-2.5-flash demonstrates solid understanding of T cell gating fundamentals with high internal consistency, but systematically differs from ground truth by expanding functional analysis into individual cytokine gates while omitting the Time Gate.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-022\n\n**Ground Truth Analysis:**\nThe expected hierarchy has a Time Gate after All Events, uses \"Memory Subsets\" and \"Functional Analysis\" as terminal groupings under CD4+ and CD8+ T cells.\n\n**Prediction Pattern Analysis:**\nThe model produces two distinct structural variants:\n1. **Runs 1,2,3,5,6,10 (60%):** Expanded cytokine-level gating with explicit gates for each functional marker (IFN-\u03b3+, IL-2+, TNF+, IL-17A+, IL-22+) under memory subsets (CD4 Na\u00efve, etc.)\n2. **Runs 4,7,8,9 (40%):** More condensed structure with \"Functional Naive CD4 T cells\" as terminal nodes, plus an extra Leukocytes gate\n\n**Key Observations:**\n- **Missing Time Gate:** All runs omit the Time Gate present in ground truth\n- **Structural expansion:** Model interprets \"Functional Analysis\" as individual cytokine gates rather than a grouped concept\n- **Core hierarchy preserved:** All Events > Singlets > Live/Viable > Lymphocytes > T cells > CD4+/CD8+ is consistently correct\n- **Memory subset recognition:** Model correctly identifies memory subsets (Naive, Central Memory, Effector Memory, Temra)\n- **Biologically valid:** Both variants represent legitimate gating strategies, just different granularity than ground truth\n\n**Discrepancies from Ground Truth:**\n1. Missing Time Gate (all runs)\n2. Over-specification of functional gates (individual cytokines vs grouped)\n3. Minor nomenclature differences (Live Cells vs Live cells, Viable Cells)\n\n---\n\nMEDIAN_QUALITY: 7 (captures correct T cell hierarchy and memory subsets, but over-expands functional analysis and omits Time Gate)\nCONSISTENCY: 8 (only 2 structural variants across 10 runs, both biologically reasonable)\nWORST_CASE: 6 (condensed variant adds extra Leukocytes gate not in ground truth, but core structure sound)\nBEST_CASE: 7 (expanded variant shows detailed functional understanding but deviates from ground truth's grouped approach)\nFAILURE_MODES: missing Time Gate, over-expanded functional gating, nomenclature variation (Live/Viable)\nRELIABILITY: medium This model reliably captures core T cell immunophenotyping structure but consistently over-specifies functional analysis and omits quality control gates.\nSUMMARY: Gemini-2.5-flash demonstrates solid understanding of T cell gating fundamentals with high internal consistency, but systematically differs from ground truth by expanding functional analysis into individual cytokine gates while omitting the Time Gate.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2943,
      "timestamp": "2026-01-13T04:17:10.858651",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.8,
      "worst_case": 0.4,
      "best_case": 0.5,
      "failure_modes": "missing myeloid lineage detail (monocyte subtypes, mDCs), missing intermediate exclusion gates (Non-beads, Non-aggregates, Non-T/B/NK contamination), hallucinated meta-gates (CD4+ T Cell Phenotyping), over-emphasis on T-cells at expense of other lineages",
      "reliability": "medium - The model produces structurally sound generic immunophenotyping hierarchies but fails to capture OMIP-101's specific whole blood panel design with its detailed myeloid characterization.",
      "summary": "Model generates reasonable generic flow cytometry hierarchies with good T-cell coverage but defaults to a template that misses OMIP-101's distinctive myeloid-focused design and specialized intermediate gating steps.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-101\n\nLooking at the predictions across 10 runs against the ground truth:\n\n**Key Observations:**\n\n1. **Structural Pattern Mismatch**: The ground truth uses a specific hierarchy with \"Time gate > Non-beads > Non-aggregates > Non-granulocytes\" early gating, while predictions consistently use a simpler \"Singlets > Live Cells > Leukocytes\" pattern. This is a fundamental architectural difference.\n\n2. **Missing Critical Intermediate Gates**: The ground truth has unique gates like \"Non-T/B/NK contamination\", \"HLA-DR+ myeloid\", and specific monocyte subtypes (Classical, Intermediate, Non-classical). Predictions focus heavily on T-cell subsets but miss myeloid lineage detail.\n\n3. **Two Distinct Templates**: Runs split into two patterns:\n   - Template A (Runs 1,2,6,8,9): \"All Events > Singlets > Live Cells > CD45+ Leukocytes...\"\n   - Template B (Runs 3,4,5,7,10): \"All Events > Debris Exclusion > Singlets > Live Cells > Leukocytes...\"\n\n4. **Good Coverage of T-cell Biology**: All runs correctly identify CD4/CD8 T-cell subsets with memory phenotypes (Naive, CM, EM, TEMRA), which are present in the ground truth.\n\n5. **Missing Populations**: Ground truth includes plasmablasts, mDCs, and detailed monocyte subtyping that are absent from all predictions.\n\n6. **Hallucinations**: \"CD4+ T Cell Phenotyping\" and similar meta-gates appear that aren't standard population definitions.\n\n---\n\nMEDIAN_QUALITY: 4 (correctly identifies major lineages and T-cell subsets but misses myeloid detail and specific intermediate gates from OMIP-101's unique hierarchy)\nCONSISTENCY: 8 (only 2 unique templates across 10 runs, both following similar immunological logic)\nWORST_CASE: 4 (both templates have similar quality issues - neither captures the myeloid depth)\nBEST_CASE: 5 (Template B with \"Debris Exclusion\" is slightly more complete but still misses key populations)\nFAILURE_MODES: missing myeloid lineage detail (monocyte subtypes, mDCs), missing intermediate exclusion gates (Non-beads, Non-aggregates, Non-T/B/NK contamination), hallucinated meta-gates (CD4+ T Cell Phenotyping), over-emphasis on T-cells at expense of other lineages\nRELIABILITY: medium - The model produces structurally sound generic immunophenotyping hierarchies but fails to capture OMIP-101's specific whole blood panel design with its detailed myeloid characterization.\nSUMMARY: Model generates reasonable generic flow cytometry hierarchies with good T-cell coverage but defaults to a template that misses OMIP-101's distinctive myeloid-focused design and specialized intermediate gating steps.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2618,
      "timestamp": "2026-01-13T04:17:35.220533",
      "error": null,
      "median_quality": 0.2,
      "consistency": 0.3,
      "worst_case": 0.0,
      "best_case": 0.6,
      "failure_modes": "task refusal/format failure (70%), missing memory B subset nomenclature (RM/AM/TLM), inconsistent tree depth",
      "reliability": "low - Model fails to follow output format instructions in majority of runs, making it unreliable for automated pipelines",
      "summary": "Gemini-2.5-flash with minimal context and CoT prompting produces task failures 70% of the time, outputting explanatory prose instead of hierarchies; when it does produce hierarchies, B cell biology is reasonable but misses OMIP-specific terminology.",
      "raw_response": "Looking at these predictions, I can identify a significant issue: **7 out of 10 runs (runs 1-5, 7, 9-10) failed to produce proper gating hierarchies** - they instead produced prose/explanatory text about cytometry methodology rather than the requested JSON hierarchy format. Only runs 6 and 8 produced actual hierarchies.\n\nLet me evaluate the successful predictions (runs 6, 8) against the ground truth:\n\n**Run 6** hierarchy:\n- Uses different nomenclature (Unswitched Memory vs Resting Memory, etc.)\n- Adds Kappa/Lambda light chain subgating not in ground truth\n- Has double singlet gates (FSC and SSC separately)\n- Missing the specific memory B cell subsets (RM, AM, TLM)\n\n**Run 8** hierarchy:\n- Better structure alignment with ground truth\n- Captures Naive, Memory, Class-switched structure\n- Includes IgG subclasses (IgG1-4) correctly\n- Missing TLM (Tissue-like Memory) and specific AM/RM designations\n- Uses \"Non-switched Memory\" vs ground truth terminology\n\n**Key observations:**\n1. 70% of runs are **task failures** (didn't follow instructions to output hierarchy)\n2. The 3 successful runs show reasonable B cell biology understanding\n3. Ground truth's specific memory B cell nomenclature (RM, AM, TLM) is consistently missed\n4. IgG/IgA subclass structure is partially captured when hierarchy is produced\n\nMEDIAN_QUALITY: 2 (most runs failed to produce usable output)\nCONSISTENCY: 3 (severe format inconsistency - only 30% produced hierarchies)\nWORST_CASE: 0 (runs 1-5, 7, 9-10 produced no scoreable hierarchy)\nBEST_CASE: 6 (run 8 captured core B cell subsets and IgG subclasses correctly)\nFAILURE_MODES: task refusal/format failure (70%), missing memory B subset nomenclature (RM/AM/TLM), inconsistent tree depth\nRELIABILITY: low - Model fails to follow output format instructions in majority of runs, making it unreliable for automated pipelines\nSUMMARY: Gemini-2.5-flash with minimal context and CoT prompting produces task failures 70% of the time, outputting explanatory prose instead of hierarchies; when it does produce hierarchies, B cell biology is reasonable but misses OMIP-specific terminology.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2084,
      "timestamp": "2026-01-13T04:17:58.776612",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.3,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "complete output format failure, CoT reasoning leaked into output, wrong technology identification (flow vs CyTOF), no T cell subset gates predicted, prose parsed as hierarchy nodes",
      "reliability": "low - The model completely fails to produce valid gating hierarchies for this CyTOF panel; outputs are explanatory text that got misparsed rather than actual predictions.",
      "summary": "Total task failure across all 10 runs - the model outputs explanatory prose or CoT reasoning fragments instead of structured gating hierarchies, with zero of the expected 24 T cell subset gates appearing in any prediction.",
      "raw_response": "Looking at these predictions, I can see a clear pattern of **systematic parsing/output format failure** rather than actual gating hierarchy predictions.\n\n**Analysis of the predictions:**\n\nThe model is outputting explanatory text and section headers rather than actual gating hierarchies. There are two distinct failure patterns:\n\n1. **Runs 1, 2, 4, 5, 6** (5/10): Output generic QC gate descriptions (\"Time Gate\", \"FSC-A vs. SSC-A\", \"CD45+ leukocytes\") as prose explanations, not as a hierarchy structure.\n\n2. **Runs 3, 7, 8, 9, 10** (5/10): Output section headers from CoT reasoning (\"As an expert cytometrist...\", \"Technology Identification\", \"Quality Control Gates\") that got incorrectly parsed as gate names.\n\n**Key observations:**\n\n- **Zero actual gating hierarchy content**: None of the 10 runs produced the expected T cell subset hierarchy (Naive, Stem cell memory, Central memory, etc.)\n- **Wrong technology identification**: OMIP-087 is a CyTOF (mass cytometry) panel, but the model is discussing flow cytometry QC gates (FSC/SSC, singlets) which don't apply to mass cytometry\n- **Parse failure**: The \"gates\" shown are clearly prose/markdown being incorrectly parsed as hierarchy nodes\n- **High consistency is misleading**: The 0.89 consistency score reflects consistent failure, not consistent correct answers\n\nMEDIAN_QUALITY: 0 (predictions contain no actual gating hierarchy content - only parsed prose fragments)\nCONSISTENCY: 3 (two distinct failure modes, but consistently fails to produce valid hierarchies)\nWORST_CASE: 0 (all runs fail to produce any meaningful gate predictions)\nBEST_CASE: 0 (even the \"best\" runs are parsed explanatory text, not hierarchies)\nFAILURE_MODES: complete output format failure, CoT reasoning leaked into output, wrong technology identification (flow vs CyTOF), no T cell subset gates predicted, prose parsed as hierarchy nodes\nRELIABILITY: low - The model completely fails to produce valid gating hierarchies for this CyTOF panel; outputs are explanatory text that got misparsed rather than actual predictions.\nSUMMARY: Total task failure across all 10 runs - the model outputs explanatory prose or CoT reasoning fragments instead of structured gating hierarchies, with zero of the expected 24 T cell subset gates appearing in any prediction.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1357,
      "timestamp": "2026-01-13T04:18:21.112981",
      "error": null,
      "median_quality": 0.1,
      "consistency": 0.8,
      "worst_case": 0.1,
      "best_case": 0.1,
      "failure_modes": "truncated response, incomplete hierarchy, missing all target populations, stuck on preliminary QC description",
      "reliability": "low The model consistently fails to produce the requested gating hierarchy, only generating preliminary QC gate descriptions before apparent truncation.",
      "summary": "Complete task failure across all runs - model appears to truncate after describing initial QC gates, never reaching the actual cell population gating strategy (0% overlap with expected hierarchy).",
      "raw_response": "Looking at these predictions against the expected hierarchy, I need to evaluate a clear failure pattern.\n\n**Analysis:**\n\nThe expected hierarchy describes a complete gating strategy for identifying MAIT cells, \u03b3\u03b4 T cells, NK cells, and ILC subsets from PBMCs, starting from All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes, then branching to specific populations.\n\nThe model's predictions across all 10 runs show:\n1. **Truncated/incomplete hierarchies** - Only showing preliminary QC gates (Time Gate, Debris Exclusion, Viability Gate)\n2. **No target populations identified** - Zero predictions for MAIT cells, \u03b3\u03b4 T cells, NK cells, or ILCs\n3. **Two response patterns** - 6 runs have \"Quality Control Gates for Flow Cytometry\" format, 4 runs have \"Preliminary Considerations\" format, but both only contain QC gates\n4. **Appears to be truncated output** - The \"exclude\" at the end of several runs suggests the response was cut off\n\nThis represents a **complete task failure** - the model never progressed beyond describing initial QC gates to the actual cell population identification that was requested.\n\n**Scoring:**\n\nMEDIAN_QUALITY: 1 (predictions describe only preliminary QC gates, missing all expected target populations - MAIT, \u03b3\u03b4 T, NK, ILCs)\nCONSISTENCY: 8 (two minor format variants but same fundamental failure pattern across all 10 runs)\nWORST_CASE: 1 (all runs equally fail - none reach target populations)\nBEST_CASE: 1 (even the \"best\" run only has QC gates, no cell population hierarchy)\nFAILURE_MODES: truncated response, incomplete hierarchy, missing all target populations, stuck on preliminary QC description\nRELIABILITY: low The model consistently fails to produce the requested gating hierarchy, only generating preliminary QC gate descriptions before apparent truncation.\nSUMMARY: Complete task failure across all runs - model appears to truncate after describing initial QC gates, never reaching the actual cell population gating strategy (0% overlap with expected hierarchy).",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1883,
      "timestamp": "2026-01-13T04:18:43.372050",
      "error": null,
      "median_quality": 0.2,
      "consistency": 0.3,
      "worst_case": 0.1,
      "best_case": 0.8,
      "failure_modes": "response truncation, format inconsistency (Quality Control wrapper vs standard hierarchy), incomplete parsing of CoT output",
      "reliability": "low - only 20% of runs produced usable predictions; the model exhibits bimodal behavior where it either succeeds well or fails completely",
      "summary": "Gemini-2.5-flash shows severe inconsistency on this task with 60% of runs producing truncated outputs, though when it succeeds (runs 5-6) the predictions are high quality and structurally appropriate.",
      "raw_response": "Looking at the 10 runs, I can identify three distinct response patterns:\n\n**Pattern A (Runs 1, 8):** Truncated hierarchy with \"Quality Control\" wrapper, includes some major lineages (T cells, B cells, Monocytes) but incomplete depth\n\n**Pattern B (Runs 2, 3, 4, 7, 9, 10):** Severely truncated - only shows \"Quality Control > All Events\", \"Broad Leukocyte Identification\", and \"Major Lineage Gating\" headers with no actual gates\n\n**Pattern C (Runs 5, 6):** Complete, well-structured hierarchies that closely match expected output - includes proper gating progression through singlets, live cells, lymphocytes, and detailed T cell/NK cell subsets with memory and functional populations\n\n**Comparison to Ground Truth:**\n- Runs 5 & 6 capture the expected structure well: T cells \u2192 CD4+/CD8+ \u2192 Memory subsets and Functional subsets, plus NK cells with functional subsets\n- Runs 5 & 6 include appropriate Tfh cells under CD4+\n- Pattern B runs (60% of responses) are effectively failures - they output structural headers without actual gating content\n- Pattern A runs provide partial information but miss critical depth\n\nMEDIAN_QUALITY: 2 (most runs produced truncated/empty hierarchies)\nCONSISTENCY: 3 (three distinct output patterns with majority being failures)\nWORST_CASE: 1 (runs 2,3,4,7,9,10 produced essentially no usable hierarchy)\nBEST_CASE: 8 (runs 5,6 produced comprehensive hierarchies matching expected structure)\nFAILURE_MODES: response truncation, format inconsistency (Quality Control wrapper vs standard hierarchy), incomplete parsing of CoT output\nRELIABILITY: low - only 20% of runs produced usable predictions; the model exhibits bimodal behavior where it either succeeds well or fails completely\nSUMMARY: Gemini-2.5-flash shows severe inconsistency on this task with 60% of runs producing truncated outputs, though when it succeeds (runs 5-6) the predictions are high quality and structurally appropriate.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2412,
      "timestamp": "2026-01-13T04:19:05.746430",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.8,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "response truncation, CoT reasoning never reaches output phase, no target populations identified, parser extracted prose as hierarchy",
      "reliability": "low This model consistently fails to complete responses for this test case, producing truncated chain-of-thought without actual hierarchy output.",
      "summary": "Complete task failure across all 10 runs due to response truncation - the model begins reasoning but never outputs the requested gating hierarchy, resulting in 0% recall of the expected monocyte subset gates.",
      "raw_response": "Looking at these predictions, I see a critical issue: **all 10 runs show truncated/incomplete responses**. The predictions only show the beginning of the model's chain-of-thought reasoning (technology identification, quality control gates) but never reach the actual gating hierarchy output.\n\nThe \"parsed\" hierarchies shown (e.g., \"As an expert cytometrist... > *1. Technology Identification > ...\") are artifacts of the parser attempting to extract structure from prose text, not actual gating hierarchies.\n\n**Analysis:**\n\nThe expected hierarchy focuses on monocyte subsets:\n- Classical Monocytes\n- Intermediate Monocytes  \n- SLAN+ Nonclassical Monocytes\n- SLAN- Nonclassical Monocytes\n\nThe predictions contain **zero** of these populations. Instead, they show:\n- Generic QC discussion (Time Gate, Scatter Gates, Debris Exclusion, Singlet Discrimination)\n- No actual population identification\n- No monocyte subsets whatsoever\n\n**Two variants observed across runs:**\n1. Runs 1, 4, 5, 7: \"Time Gate\" / \"Scatter Gates\" phrasing\n2. Runs 2, 3, 6, 8, 9, 10: \"Debris Exclusion\" / \"Singlet Discrimination\" phrasing\n\nBoth variants fail completely at the actual task.\n\nMEDIAN_QUALITY: 0 (predictions are truncated and contain no actual gating hierarchy)\nCONSISTENCY: 8 (consistently produces the same truncated CoT format, but consistently wrong)\nWORST_CASE: 0 (all runs equally fail to produce usable output)\nBEST_CASE: 0 (no run produces any monocyte gates or valid hierarchy)\nFAILURE_MODES: response truncation, CoT reasoning never reaches output phase, no target populations identified, parser extracted prose as hierarchy\nRELIABILITY: low This model consistently fails to complete responses for this test case, producing truncated chain-of-thought without actual hierarchy output.\nSUMMARY: Complete task failure across all 10 runs due to response truncation - the model begins reasoning but never outputs the requested gating hierarchy, resulting in 0% recall of the expected monocyte subset gates.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2830,
      "timestamp": "2026-01-13T04:19:32.466849",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.9,
      "worst_case": 0.6,
      "best_case": 0.6,
      "failure_modes": "missing Live cells gate, hallucinated Time Gate, wrong NK subdivision strategy (CD56bright/dim instead of KIR-first), missing explicit CD16/CD56 combination terminal gates",
      "reliability": "medium Model reliably produces biologically reasonable KIR analysis but consistently deviates from the specific OMIP-035 gating strategy.",
      "summary": "High consistency but systematic deviation from ground truth hierarchy organization\u2014captures the KIR biology but imposes a different (CD56-first) gating strategy than specified.",
      "raw_response": "## Evaluation Analysis\n\n### Ground Truth Structure\nThe expected hierarchy shows:\n- Standard quality gates: All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 NK cells\n- NK subset branching by **Mamu-KIR3DL01** expression (\u00b1), then **KIR3DL05** (\u00b1)\n- Separate CD16/CD56 combination gates (CD16+CD56+, CD16+CD56-, CD16-CD56+)\n\n### Prediction Patterns\n\n**Consistent across all 10 runs:**\n- All predictions correctly identify NK cell analysis with KIR stratification\n- All include the 4-way KIR3DL01/KIR3DL05 combinatorial gating (both + and - populations)\n- All use CD56bright/CD56dim subdivision as an intermediate step\n\n**Two variants observed:**\n1. Runs 1-3, 7-8, 10: \"Cellular Events\" terminology\n2. Runs 4-6, 9: \"Debris Exclusion\" terminology\n\n**Key discrepancies from ground truth:**\n1. **Missing \"Live cells\" gate** - All predictions skip viability gating\n2. **Added \"Time Gate\"** - Hallucinated gate not in expected hierarchy\n3. **Different NK subdivision strategy** - Ground truth uses Mamu-KIR3DL01 as primary split, then KIR3DL05; predictions use CD56bright/dim as primary, then KIR combinations\n4. **Missing CD16/CD56 combination gates** - Ground truth has explicit CD16+CD56+, CD16+CD56-, CD16-CD56+ populations; predictions embed CD16 info into the CD56bright/dim naming but don't separate them as distinct terminal branches\n5. **Species-specific nomenclature** - \"Mamu-KIR3DL01\" (macaque-specific) correctly simplified to \"KIR3DL01\"\n\n### Scoring Rationale\n\nThe model captures the biological intent (NK KIR subtyping) but reorganizes the hierarchy differently than the ground truth. It misses the Live cell gate and CD16/CD56 branch structure while adding a Time Gate that wasn't specified.\n\nMEDIAN_QUALITY: 6 (captures KIR combinatorial logic but wrong hierarchy organization, missing viability gate)\nCONSISTENCY: 9 (only minor terminology variation between \"Cellular Events\" vs \"Debris Exclusion\")\nWORST_CASE: 6 (all runs have same structural issues)\nBEST_CASE: 6 (no run correctly captures the ground truth hierarchy)\nFAILURE_MODES: missing Live cells gate, hallucinated Time Gate, wrong NK subdivision strategy (CD56bright/dim instead of KIR-first), missing explicit CD16/CD56 combination terminal gates\nRELIABILITY: medium Model reliably produces biologically reasonable KIR analysis but consistently deviates from the specific OMIP-035 gating strategy.\nSUMMARY: High consistency but systematic deviation from ground truth hierarchy organization\u2014captures the KIR biology but imposes a different (CD56-first) gating strategy than specified.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1314,
      "timestamp": "2026-01-13T04:19:54.049097",
      "error": null,
      "median_quality": 0.1,
      "consistency": 0.3,
      "worst_case": 0.0,
      "best_case": 0.6,
      "failure_modes": "task refusal with placeholder text, inconsistent engagement with task, missing myeloid populations in successful run",
      "reliability": "low The model fails to engage with the actual task 90% of the time, producing generic placeholder text instead of specific predictions.",
      "summary": "Gemini-2.5-flash shows severe unreliability on this task, producing placeholder non-responses in 9/10 runs despite demonstrating capability in one outlier run.",
      "raw_response": "Looking at these 10 runs, I can see a clear bimodal pattern:\n\n**Runs 1-5, 7-10 (9 runs):** The model produces a generic, placeholder hierarchy ending in \"Biological Populations (Marker Dependent)\" - essentially refusing to predict specific cell populations. This is a task failure where the model describes what *should* be done rather than actually doing it.\n\n**Run 6 (1 run):** The model produces a detailed, biologically appropriate hierarchy with T cells, B cells, memory/naive subsets - much closer to the expected output, though with some structural differences (adds Lymphocytes intermediate gate, separates naive/memory subsets not in ground truth).\n\n**Analysis:**\n- 90% of runs are complete task failures (placeholder responses)\n- 10% show the model *can* produce reasonable gating hierarchies\n- The ground truth expects populations like NK cells, ILCs, Monocytes, Macrophages, Dendritic cells - Run 6 only partially captures these (focuses heavily on T/B lymphocytes)\n- Run 6 adds extra granularity (naive/memory) not in ground truth but biologically reasonable\n\nMEDIAN_QUALITY: 1 (9/10 runs produce placeholder non-answers)\nCONSISTENCY: 3 (high consistency in failure mode, but one outlier shows capability)\nWORST_CASE: 0 (placeholder responses provide no usable gating strategy)\nBEST_CASE: 6 (Run 6 captures core lymphocyte populations with reasonable structure, misses myeloid detail)\nFAILURE_MODES: task refusal with placeholder text, inconsistent engagement with task, missing myeloid populations in successful run\nRELIABILITY: low The model fails to engage with the actual task 90% of the time, producing generic placeholder text instead of specific predictions.\nSUMMARY: Gemini-2.5-flash shows severe unreliability on this task, producing placeholder non-responses in 9/10 runs despite demonstrating capability in one outlier run.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3310,
      "timestamp": "2026-01-13T04:20:21.896782",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "over-gating with extra hierarchy levels, missing ICOS+ Treg subset, missing Activated B cells and Plasmablasts, adds Tfh cells not in ground truth",
      "reliability": "medium - Model reliably produces immunologically valid hierarchies but systematically over-engineers the gating structure compared to the published OMIP strategy",
      "summary": "Gemini-2.5-flash demonstrates strong domain knowledge by predicting biologically reasonable gates with correct marker logic, but consistently adds unnecessary complexity (extra singlet gates, CD45+ separation) and misses specific ground truth subsets (ICOS+ Treg, Activated B cells), resulting in moderate structural alignment despite high run-to-run consistency.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-076\n\n### Analysis\n\n**Structural Comparison:**\n- **Ground Truth:** 4-level hierarchy (All Events > Singlets > Live cells > Lymphocytes > [populations])\n- **Predictions:** 7-10 level hierarchy with extra gates (Debris Exclusion, dual Singlets FSC/SSC, CD45+ Hematopoietic Cells, explicit TCR\u03b2+ gate)\n\n**Correct Elements:**\n- Core T cell populations captured: CD4+ T cells, Tregs, Naive T cells, Memory T cells (though split into central/effector)\n- B cell lineage present in most runs (not shown in truncated output but implied by \"+12 more\" / \"+7 more\")\n- Logical marker-based gating (CD45+, TCR\u03b2+, CD4+, etc.)\n\n**Discrepancies:**\n1. **Over-gating:** Model adds Debris Exclusion, double singlet gates (FSC then SSC), and CD45+ as separate gate - ground truth uses simpler 4-step hierarchy\n2. **Missing populations:** No explicit \"Activated B cells\" or \"Plasmablasts\" visible in truncated output\n3. **Extra populations:** Tfh cells, detailed Treg subsets (Naive/Effector Tregs) not in ground truth\n4. **Structural mismatch:** Ground truth has direct \"T cells\" under Lymphocytes; model uses \"TCR\u03b2+ T Cells\" then \"CD4+ T Cells\" as separate levels\n5. **ICOS+ Treg:** Missing from predictions\n\n**Consistency:**\n- 8/10 runs show identical structure (Pattern A: detailed FSC/SSC singlets)\n- 2/10 runs show simpler structure (Pattern B: single Singlets gate, Runs 2 & 5)\n- Both patterns preserve same terminal populations\n\n---\n\nMEDIAN_QUALITY: 6 (captures most major populations with correct marker logic but over-complicates hierarchy structure)\nCONSISTENCY: 8 (only 2 structural variants across 10 runs, terminal populations highly consistent)\nWORST_CASE: 5 (Run 2/5 simpler variant still misses some ground truth populations)\nBEST_CASE: 7 (detailed runs capture more populations but add unnecessary complexity)\nFAILURE_MODES: over-gating with extra hierarchy levels, missing ICOS+ Treg subset, missing Activated B cells and Plasmablasts, adds Tfh cells not in ground truth\nRELIABILITY: medium - Model reliably produces immunologically valid hierarchies but systematically over-engineers the gating structure compared to the published OMIP strategy\nSUMMARY: Gemini-2.5-flash demonstrates strong domain knowledge by predicting biologically reasonable gates with correct marker logic, but consistently adds unnecessary complexity (extra singlet gates, CD45+ separation) and misses specific ground truth subsets (ICOS+ Treg, Activated B cells), resulting in moderate structural alignment despite high run-to-run consistency.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1568,
      "timestamp": "2026-01-13T04:20:43.303062",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.8,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing Live cells gate, missing T cells parent gate, hallucinated DN/DP populations, incorrect gate ordering in Pattern B, nomenclature inconsistency",
      "reliability": "medium - Model consistently identifies terminal CD4+/CD8+ populations but systematically omits critical upstream gates (viability, T cell parent)",
      "summary": "The model demonstrates good structural consistency (2 patterns, 0.89 score) and correctly identifies terminal T cell subsets, but systematically omits the critical Live cells and T cells gates required for proper flow cytometry analysis, while hallucinating additional populations not present in the ground truth.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-008\n\n**Ground Truth Analysis:**\nThe expected hierarchy is a 6-level linear chain with terminal CD4+/CD8+ T cell populations:\n- All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+ T cells\n\n**Prediction Patterns:**\nTwo distinct clustering patterns emerged across 10 runs:\n\n**Pattern A (Runs 1, 4, 6, 9, 10 - 50%):**\n- Structure: All Events \u2192 Cells \u2192 Singlets \u2192 Lymphocytes \u2192 T-cell Subsets \u2192 terminal gates\n- Missing: \"Live cells\" and explicit \"T cells\" gate\n- Extra gates: DN T cells, DP T cells (hallucinated - not in ground truth)\n\n**Pattern B (Runs 2, 3, 5, 7, 8 - 50%):**\n- Structure: All Events \u2192 Debris Exclusion \u2192 Lymphocyte Gate \u2192 Singlets \u2192 terminal gates\n- Missing: \"Live cells\", \"Lymphocytes\" (proper), \"T cells\"\n- Issues: Singlets placed too late in hierarchy; terminal gates use raw phenotype notation (CD4+CD8-) rather than population names\n\n**Critical Issues Across All Runs:**\n1. **Missing \"Live cells\" gate** - 0/10 runs include viability gating (critical for PBMC analysis)\n2. **Missing explicit \"T cells\" gate** - CD3+ parent population absent in all runs\n3. **Consistent hallucination** of DN and DP T cell populations not in ground truth\n4. **Incorrect gate ordering** - Pattern B places Singlets after Lymphocyte Gate (biologically incorrect)\n\n---\n\nMEDIAN_QUALITY: 5\nCONSISTENCY: 8\nWORST_CASE: 4\nBEST_CASE: 6\nFAILURE_MODES: missing Live cells gate, missing T cells parent gate, hallucinated DN/DP populations, incorrect gate ordering in Pattern B, nomenclature inconsistency\nRELIABILITY: medium - Model consistently identifies terminal CD4+/CD8+ populations but systematically omits critical upstream gates (viability, T cell parent)\nSUMMARY: The model demonstrates good structural consistency (2 patterns, 0.89 score) and correctly identifies terminal T cell subsets, but systematically omits the critical Live cells and T cells gates required for proper flow cytometry analysis, while hallucinating additional populations not present in the ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2443,
      "timestamp": "2026-01-13T04:21:09.969184",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.8,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing live/viability gate, missing intermediate monocytes, missing plasma cells, missing marginal zone B cells, missing NK-T cells, hallucinated intermediate \"Lymphocytes\" node, hallucinated CD34+ progenitors in some runs",
      "reliability": "medium - Model reliably identifies major leukocyte populations but consistently misses the viability gate and several specialized subsets that are critical for this comprehensive immunophenotyping panel.",
      "summary": "The model demonstrates reasonable high-level understanding of leukocyte gating but fails to capture the complete depth of OMIP-077's 20-gate hierarchy, consistently omitting the live cell gate and specialized subsets while adding organizational nodes not present in the ground truth.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-077\n\nLooking at the predictions across 10 runs, I observe two distinct hierarchical patterns:\n\n**Pattern A (Runs 1, 2, 6):** Includes CD34+ progenitor branch (HSCs/MPPs, Committed Progenitors) with a \"Non-Progenitor Leukocytes\" intermediate node\n\n**Pattern B (Runs 3, 4, 5, 7, 8, 9, 10):** Simpler hierarchy without progenitor cells, direct Lymphocytes/Monocytes branching under CD45+ Leukocytes\n\n### Key Observations\n\n**Correct elements across all runs:**\n- Singlets gate present (though placed under \"Debris Exclusion\" rather than \"All Events\")\n- T cells, B cells, NK cells correctly identified\n- Classical and Non-classical monocytes present\n- CD45+ leukocyte gate correctly positioned\n\n**Missing from ground truth:**\n- Live cells gate (absent in all predictions - major omission)\n- NK-T cells (not distinguished from T cells)\n- Marginal Zone B cells (B cell subset missing)\n- Plasma cells (not predicted)\n- Intermediate monocytes (only classical/non-classical predicted)\n- CD1c+ mDCs (dendritic cell subset missing)\n\n**Hallucinations/Extra gates:**\n- \"Debris Exclusion\" node not in ground truth (though functionally reasonable)\n- CD34+ Progenitor populations (HSCs/MPPs) in Pattern A - these are valid cell types but not in the expected hierarchy\n- \"Lymphocytes\" intermediate node (ground truth goes directly to T/B/NK from Leukocytes)\n\n**Structural differences:**\n- Ground truth: Live cells as explicit gate after Singlets\n- Predictions: No viability gate\n- Ground truth: Flat structure under Leukocytes\n- Predictions: Added \"Lymphocytes\" and \"Monocytes\" intermediate nodes\n\n---\n\nMEDIAN_QUALITY: 5 (captures major populations but misses live gate, subsets, and adds intermediate nodes not in ground truth)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs, 70% converge on Pattern B)\nWORST_CASE: 4 (Pattern A hallucinates progenitor populations not expected for this whole blood panel)\nBEST_CASE: 6 (Pattern B is closer to ground truth structure, identifies core populations correctly)\nFAILURE_MODES: missing live/viability gate, missing intermediate monocytes, missing plasma cells, missing marginal zone B cells, missing NK-T cells, hallucinated intermediate \"Lymphocytes\" node, hallucinated CD34+ progenitors in some runs\nRELIABILITY: medium - Model reliably identifies major leukocyte populations but consistently misses the viability gate and several specialized subsets that are critical for this comprehensive immunophenotyping panel.\nSUMMARY: The model demonstrates reasonable high-level understanding of leukocyte gating but fails to capture the complete depth of OMIP-077's 20-gate hierarchy, consistently omitting the live cell gate and specialized subsets while adding organizational nodes not present in the ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1506,
      "timestamp": "2026-01-13T04:21:33.738961",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.6,
      "failure_modes": "inverted singlet/lymphocyte order, missing live cell gate, split singlet gates",
      "reliability": "medium Model reliably identifies terminal Treg populations but consistently produces non-standard early gating order that would not work in practice.",
      "summary": "Model demonstrates domain knowledge of Treg identification (FoxP3+/- distinction) but lacks understanding of proper gating sequence, placing debris/doublet exclusion after lymphocyte gating which is technically incorrect.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-053\n\n### Comparison with Ground Truth\n\n**Expected hierarchy:**\n- All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3+ Treg\n- All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3- non-Treg\n\n**Predicted hierarchies (two variants):**\n\n**Variant A (Runs 1,2,3,5,7 - 5 runs):**\n- All Events > Lymphocytes > Singlets (FSC) > Singlets (SSC) > CD4+ T cells > CD4+ FoxP3+/FoxP3-\n\n**Variant B (Runs 4,6,8,9,10 - 5 runs):**\n- All Events > Time Gate > Lymphocytes > Singlets (FSC) > Singlets (SSC) > CD4+ T Cells > CD4+FoxP3+/FoxP3-\n- Additional CD4- Cells branch\n\n### Key Observations\n\n1. **Gate ordering error (consistent across all runs):** Model places Lymphocytes BEFORE Singlets, whereas ground truth has Singlets > Live cells > Lymphocytes. This is a fundamental flow cytometry error\u2014singlet discrimination should occur early to remove doublets before population gating.\n\n2. **Missing Live cell gate (all runs):** No prediction includes a viability/live cell gate, which is standard practice and present in ground truth.\n\n3. **Split singlet gates:** Model predicts separate FSC and SSC singlet gates rather than a single combined Singlets gate.\n\n4. **Correct terminal populations:** The FoxP3+/FoxP3- split under CD4+ T cells is correctly identified in all runs.\n\n5. **Variant B additions:** Time Gate and CD4- Cells are reasonable additions (not hallucinations), though not in ground truth.\n\n6. **No hallucinated markers:** All predicted gates use markers present in the panel.\n\n---\n\nMEDIAN_QUALITY: 5 (correctly identifies key populations but systematically misordered early gating)\nCONSISTENCY: 8 (only 2 structural variants across 10 runs, 50/50 split)\nWORST_CASE: 5 (both variants have same core issues)\nBEST_CASE: 6 (Variant B adds reasonable Time Gate, slightly more complete)\nFAILURE_MODES: inverted singlet/lymphocyte order, missing live cell gate, split singlet gates\nRELIABILITY: medium Model reliably identifies terminal Treg populations but consistently produces non-standard early gating order that would not work in practice.\nSUMMARY: Model demonstrates domain knowledge of Treg identification (FoxP3+/- distinction) but lacks understanding of proper gating sequence, placing debris/doublet exclusion after lymphocyte gating which is technically incorrect.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3644,
      "timestamp": "2026-01-13T04:21:58.439723",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.8,
      "worst_case": 0.6,
      "best_case": 0.7,
      "failure_modes": "over-enumeration of terminal gates instead of grouped categories, missing intermediate Lymphocytes gate, inconsistent Time Gate inclusion, double singlet gating in some runs",
      "reliability": "medium - The model reliably produces biologically sensible hierarchies with correct marker logic, but systematically over-elaborates functional analyses rather than using abstract groupings expected in standard gating strategies.",
      "summary": "Gemini-2.5-flash demonstrates strong immunology knowledge and consistent core structure but systematically over-enumerates cytokine gates rather than using the grouped \"Functional Analysis\" and \"Memory Subsets\" categories specified in the ground truth.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-022\n\n### Analysis\n\n**Expected Structure:** The ground truth shows a relatively compact hierarchy focused on CD4+ and CD8+ T cells with \"Memory Subsets\" and \"Functional Analysis\" as terminal groupings.\n\n**Predicted Structures:** The model produces highly detailed hierarchies that:\n1. **Correctly identify** the core gating pathway (All Events \u2192 Time/Cell Gate \u2192 Singlets \u2192 Live Cells \u2192 T cells \u2192 CD4+/CD8+ split)\n2. **Over-elaborate** by enumerating every individual cytokine gate (IFN-\u03b3+, IL-2+, TNF+, IL-17A+, IL-22+) and memory subset combination rather than grouping them as \"Functional Analysis\" or \"Memory Subsets\"\n3. **Show structural consistency** - Runs 1-2 and 9-10 share one structure (with Time Gate), Runs 3-8 share another (without explicit Time Gate, adds double singlet gate)\n\n**Key Observations:**\n- The model demonstrates strong domain knowledge by correctly identifying CCR7/CD45RO memory markers and Th1/Th17 cytokines\n- The 71 vs 45 gates difference between run groups reflects the double singlet gating in one variant\n- Both variants miss the \"Lymphocytes\" gate that should precede \"T cells\"\n- The model invents gate names not present in ground truth (e.g., detailed cytokine combinations)\n\nMEDIAN_QUALITY: 6 (correctly captures major populations and gating logic but over-expands terminal gates and misses abstract groupings)\nCONSISTENCY: 8 (only 2 unique structures across 10 runs with clear clustering; minor variation in Time Gate inclusion)\nWORST_CASE: 6 (both variants have similar quality issues - over-enumeration and missing Lymphocytes gate)\nBEST_CASE: 7 (Time Gate variant slightly better aligned with ground truth structure)\nFAILURE_MODES: over-enumeration of terminal gates instead of grouped categories, missing intermediate Lymphocytes gate, inconsistent Time Gate inclusion, double singlet gating in some runs\nRELIABILITY: medium - The model reliably produces biologically sensible hierarchies with correct marker logic, but systematically over-elaborates functional analyses rather than using abstract groupings expected in standard gating strategies.\nSUMMARY: Gemini-2.5-flash demonstrates strong immunology knowledge and consistent core structure but systematically over-enumerates cytokine gates rather than using the grouped \"Functional Analysis\" and \"Memory Subsets\" categories specified in the ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1884,
      "timestamp": "2026-01-13T04:22:22.698821",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.8,
      "worst_case": 0.0,
      "best_case": 0.1,
      "failure_modes": "format confusion (prose vs hierarchy), response truncation, missing all population gates, no JSON structure, explains gating concepts instead of predicting hierarchy",
      "reliability": "low - The model fundamentally misunderstands the task format, producing explanatory text instead of hierarchical gate definitions, making it unsuitable for this benchmark without prompt engineering fixes.",
      "summary": "Complete task failure - the model generates explanatory prose about gating concepts rather than the required hierarchical gate structure, with no population-level gates predicted across any of the 10 runs.",
      "raw_response": "Looking at these predictions, I can see a clear pattern of systematic failure across all 10 runs.\n\n**Analysis:**\n\nThe model completely fails to produce a valid gating hierarchy in the expected format. Instead of outputting structured gate definitions (like \"All Events > Time gate > Singlets > ...\"), it outputs:\n\n1. **Runs 1, 2, 4, 6, 9, 10** (6 runs): Produces markdown-formatted explanatory text with numbered sections like \"*1. Technology Identification > *2. Quality Control Gates\" - this is prose/explanation, not a gating hierarchy.\n\n2. **Runs 3, 5, 7, 8** (4 runs): Produces truncated fragments starting with \"Quality Control Gates:\" followed by partial descriptions that get cut off mid-sentence (\"**FSC\").\n\n**Key observations:**\n- **Zero valid hierarchies**: Not a single run produces the expected hierarchical gate structure\n- **Two failure modes**: Either verbose markdown explanation OR truncated fragments (explains the \"2 unique gate sets\")\n- **No cell population gates**: None of the predictions include actual population gates like \"Lymphocytes\", \"B cells\", \"NK cells\", \"Monocytes\" etc.\n- **Response truncation**: Multiple runs appear to be truncated mid-word, suggesting token limit or parsing issues\n- **Format confusion**: The model is explaining *how* to gate rather than *what* the hierarchy is\n\nThe 0.89 consistency score is misleading - the predictions are consistently *wrong* in similar ways, not consistently correct.\n\nMEDIAN_QUALITY: 0 (predictions are explanatory prose, not gating hierarchies)\nCONSISTENCY: 8 (consistently produces same type of incorrect output)\nWORST_CASE: 0 (truncated fragments with no usable information)\nBEST_CASE: 1 (at least mentions some QC concepts like singlets, debris exclusion)\nFAILURE_MODES: format confusion (prose vs hierarchy), response truncation, missing all population gates, no JSON structure, explains gating concepts instead of predicting hierarchy\nRELIABILITY: low - The model fundamentally misunderstands the task format, producing explanatory text instead of hierarchical gate definitions, making it unsuitable for this benchmark without prompt engineering fixes.\nSUMMARY: Complete task failure - the model generates explanatory prose about gating concepts rather than the required hierarchical gate structure, with no population-level gates predicted across any of the 10 runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3101,
      "timestamp": "2026-01-13T04:22:49.326907",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.7,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing Time gate, inverted Singlets/Lymphocytes order, missing RM/AM/TLM memory classification, over-elaboration with biologically incorrect IgG subclasses under naive B cells, missing IgE+ population",
      "reliability": "medium - Model demonstrates solid B cell biology knowledge but fails to match the specific OMIP-074 hierarchy and introduces immunologically incorrect classifications in half of runs",
      "summary": "The model understands B cell subclass phenotyping conceptually but produces two inconsistent structural patterns, both missing the Time gate and OMIP-specific memory classifications (RM/AM/TLM), with one pattern containing biologically incorrect IgG/IgA classification under naive B cells.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-074 (B cell IgG/IgA subclass phenotyping)\n\n### Key Observations\n\n**Two distinct prediction patterns emerge:**\n- **Pattern A (Runs 1,2,3,5,8):** Uses \"PBLs/Lymphocytes > Singlets > Live Cells\" ordering with \"Mature B cells (CD20+)\" intermediate gate, 19 total paths\n- **Pattern B (Runs 4,6,7,9,10):** Uses \"Singlets > Viable Cells > Lymphocytes\" ordering with direct B cell gating, 45 total paths\n\n**Critical structural differences from ground truth:**\n1. **Missing Time gate** - Ground truth starts with \"Time gate\" after All Events; predictions omit this entirely\n2. **Inverted Singlets/Lymphocytes order** - Ground truth: Singlets \u2192 Lymphocytes; Pattern A inverts this\n3. **Missing memory subset categorization** - Ground truth distinguishes RM/AM/TLM memory; predictions use IgD/CD27 classification instead\n4. **Over-elaboration** - Pattern B creates 45 paths vs ground truth's ~17, adding IgG/IgA subclasses under naive B cells (biologically incorrect - naive B cells are IgM+/IgD+ by definition)\n\n**Accurate elements:**\n- Core B cell populations (Naive, Memory subtypes) correctly identified\n- IgG subclasses (IgG1-4) and IgA subclasses (IgA1/IgA2) included\n- Class-switched concept understood\n- Kappa/Lambda light chain distinction present (though not in ground truth)\n\n**Major errors:**\n- IgG/IgA subclasses placed under \"Naive B cells\" in Pattern B is immunologically incorrect\n- Missing RM/AM/TLM memory classification specific to OMIP-074\n- No IgE+ B cell population captured\n\nMEDIAN_QUALITY: 5 (captures B cell subset logic but misses OMIP-specific hierarchy and makes structural errors)\nCONSISTENCY: 7 (only 2 distinct patterns across 10 runs, but these patterns differ substantially)\nWORST_CASE: 4 (Pattern B over-elaborates with immunologically incorrect IgG/IgA+ naive B cells)\nBEST_CASE: 6 (Pattern A has cleaner structure but still misses Time gate and memory classification)\nFAILURE_MODES: missing Time gate, inverted Singlets/Lymphocytes order, missing RM/AM/TLM memory classification, over-elaboration with biologically incorrect IgG subclasses under naive B cells, missing IgE+ population\nRELIABILITY: medium - Model demonstrates solid B cell biology knowledge but fails to match the specific OMIP-074 hierarchy and introduces immunologically incorrect classifications in half of runs\nSUMMARY: The model understands B cell subclass phenotyping conceptually but produces two inconsistent structural patterns, both missing the Time gate and OMIP-specific memory classifications (RM/AM/TLM), with one pattern containing biologically incorrect IgG/IgA classification under naive B cells.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2890,
      "timestamp": "2026-01-13T04:23:11.569315",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.9,
      "worst_case": 0.7,
      "best_case": 0.7,
      "failure_modes": "missing stem cell memory T cells, missing transitional memory T cells, missing T regulatory cells, missing T follicular helper cells, adds TCRgd bifurcation not in ground truth",
      "reliability": "medium The model reliably produces valid CyTOF gating hierarchies for common T-cell memory subsets but systematically omits specialized populations that require deeper panel-specific knowledge.",
      "summary": "Highly consistent predictions with correct CyTOF preprocessing and core memory subsets, but incomplete coverage of specialized populations (Tscm, Tregs, Tfh) present in the ground truth.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-087 (CyTOF T-cell Memory Panel)\n\n### Key Observations\n\n**Structural Accuracy:**\n- All 10 runs produce valid, well-structured hierarchies\n- Predictions consistently add appropriate CyTOF-specific preprocessing gates (Event Length, DNA-based singlets, viability)\n- Two distinct naming conventions emerge: \"Intact Events > Singlets\" (5 runs) vs \"Event Length Gate > Singlets (DNA-based)\" (5 runs)\n\n**Population Coverage:**\n- Core memory subsets correctly identified: Naive, Central Memory, Effector Memory, TEMRA\n- Model adds TCR\u03b1\u03b2/TCR\u03b3\u03b4 bifurcation not in ground truth (reasonable given panel markers)\n- Missing from ground truth: Stem cell memory, Transitional memory, T regulatory cells, T follicular helper cells\n\n**Ground Truth Comparison Issues:**\n- Ground truth appears simplified (starts directly at \"Leukocytes\" without preprocessing)\n- OMIP-087 is a CyTOF panel - model correctly adds Event Length gating (mass cytometry-specific)\n- Model predictions are arguably more complete than ground truth for CyTOF workflow\n\n**Hallucinations:**\n- None observed - all gates correspond to markers in the panel\n- TCR\u03b3\u03b4 gate is valid given panel includes TCR\u03b3\u03b4 marker\n\n### Scoring\n\nMEDIAN_QUALITY: 7 (predictions capture core T-cell memory hierarchy with appropriate CyTOF preprocessing, but miss specialized subsets like Tscm, Tregs, Tfh)\nCONSISTENCY: 9 (only superficial naming variation between runs; identical logical structure)\nWORST_CASE: 7 (all runs equivalent in quality)\nBEST_CASE: 7 (none capture the specialized subsets in ground truth)\nFAILURE_MODES: missing stem cell memory T cells, missing transitional memory T cells, missing T regulatory cells, missing T follicular helper cells, adds TCRgd bifurcation not in ground truth\nRELIABILITY: medium The model reliably produces valid CyTOF gating hierarchies for common T-cell memory subsets but systematically omits specialized populations that require deeper panel-specific knowledge.\nSUMMARY: Highly consistent predictions with correct CyTOF preprocessing and core memory subsets, but incomplete coverage of specialized populations (Tscm, Tregs, Tfh) present in the ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2460,
      "timestamp": "2026-01-13T04:23:36.278192",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.6,
      "failure_modes": "missing NK cells entirely, missing ILC parent gate, missing \"Other ILC subsets\", over-specification of T cell subsets not in ground truth, \"Phenotype\" placeholder nodes in some runs",
      "reliability": "medium - Model produces consistent T-cell hierarchies but systematically fails to recognize this panel's specialized NK/ILC focus, suggesting it defaults to generic gating templates rather than panel-specific reasoning.",
      "summary": "Highly consistent but systematically incomplete - the model reliably generates sensible T-cell gating but completely ignores the NK/ILC populations that define OMIP-064's purpose, indicating a failure to reason from panel composition rather than apply memorized patterns.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-064\n\n**Ground Truth Analysis:** The expected hierarchy focuses on 4 key branches: MAIT cells, \u03b3\u03b4 T cells, NK cells (with Activated NK subset), and Other ILC subsets - all under an Innate Lymphoid Cells parent.\n\n**Prediction Analysis:**\n\nThe model shows two structural variants:\n- **Variant A (Runs 1, 5, 7-10):** Uses \"Non-B/Mono/Myeloid\" intermediate gate with \"Phenotype\" terminal nodes\n- **Variant B (Runs 2-4, 6):** Uses \"Leukocytes\" intermediate gate, cleaner terminal naming\n\n**Key Observations:**\n\n1. **Correctly identified:** MAIT cells, \u03b3\u03b4 T cells (with V\u03b42+/- subdivision), conventional T cell subsets\n2. **Missing:** Innate Lymphoid Cells parent gate, NK cells entirely, \"Other ILC subsets\"\n3. **Added but not in ground truth:** CD4/CD8 conventional T cells, V\u03b42 subdivisions (legitimate detail not in simplified ground truth)\n4. **Structural deviation:** Model places all populations under CD3+ T cells rather than creating separate ILC branch\n\n**Critical Gap:** The model completely misses the NK cell and ILC lineage - a major component of OMIP-064's 27-color panel designed specifically for NK/ILC characterization. This suggests the model defaulted to a generic T-cell gating strategy rather than recognizing the panel's specialized purpose.\n\n---\n\nMEDIAN_QUALITY: 5 (captures T cell populations well but completely misses NK/ILC lineage which is central to OMIP-064)\nCONSISTENCY: 8 (only 2 structural variants across 10 runs with 89% overlap, highly reproducible)\nWORST_CASE: 5 (both variants have the same fundamental gap - missing NK/ILC branch)\nBEST_CASE: 6 (Variant B is slightly cleaner but still lacks NK/ILC populations)\nFAILURE_MODES: missing NK cells entirely, missing ILC parent gate, missing \"Other ILC subsets\", over-specification of T cell subsets not in ground truth, \"Phenotype\" placeholder nodes in some runs\nRELIABILITY: medium - Model produces consistent T-cell hierarchies but systematically fails to recognize this panel's specialized NK/ILC focus, suggesting it defaults to generic gating templates rather than panel-specific reasoning.\nSUMMARY: Highly consistent but systematically incomplete - the model reliably generates sensible T-cell gating but completely ignores the NK/ILC populations that define OMIP-064's purpose, indicating a failure to reason from panel composition rather than apply memorized patterns.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2810,
      "timestamp": "2026-01-13T04:24:00.405037",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.8,
      "worst_case": 0.6,
      "best_case": 0.7,
      "failure_modes": "over-specification of terminal gates instead of categorical groupings, verbose intermediate node naming in 40% of runs, inconsistent plus-sign notation (CD3+ vs CD3)",
      "reliability": "medium The model reliably captures the biological relationships and populations but inconsistently formats output structure and over-specifies terminal gates.",
      "summary": "Gemini-2.5-flash demonstrates solid biological understanding of T/NK immunophenotyping hierarchies with high consistency (89%), but systematically over-specifies terminal populations rather than matching the expected categorical grouping format.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-025\n\nLooking at the 10 runs, I see two structural variants:\n\n**Variant A (Runs 2-6, 9):** Compact hierarchy with direct parent relationships\n- `All Events > Singlets > Viable Cells > Lymphocytes > T Cells > CD4 T Cells > [specific subsets]`\n\n**Variant B (Runs 1, 7, 8, 10):** More verbose with intermediate grouping nodes\n- `All Events > Initial Scatter Gate (Debris Exclusion) > Singlets (Doublet Exclusion) > Viable Cells > Lymphocytes > CD3+ T Cells > CD4+ T Cells > CD4+ T Cell Subsets (Naive/Memory) > [specific subsets]`\n\n**Comparison to Ground Truth:**\n\nThe expected hierarchy uses abstract grouping nodes like \"CD4+ Memory subsets\" and \"CD4+ Functional subsets\" rather than specific terminal populations. The model:\n\n1. **Correctly identifies** all major lineages (T cells, CD4+, CD8+, NK cells)\n2. **Correctly structures** the core hierarchy (Singlets \u2192 Live \u2192 Lymphocytes \u2192 lineages)\n3. **Over-specifies** by naming individual memory populations (Naive, CM, EM, TEMRA) rather than grouping them\n4. **Includes TFH-like cells** which aligns with \"Follicular helper T cells\" in ground truth\n5. **Adds intermediate nodes** in Variant B that aren't in ground truth (debris exclusion naming, CD4+ T Cell Subsets grouping)\n\n**Key Issues:**\n- The model predicts specific terminal gates rather than the categorical groupings in the expected hierarchy\n- Variant B adds unnecessary verbosity and intermediate grouping nodes\n- Both variants capture the biological content correctly but differ structurally from the expected format\n\n---\n\nMEDIAN_QUALITY: 7 (correctly identifies all populations and relationships, but over-specifies terminal gates vs. expected categorical groupings)\nCONSISTENCY: 8 (only 2 structural variants across 10 runs, with 6/10 runs identical)\nWORST_CASE: 6 (Variant B adds verbose intermediate nodes and diverges more from expected format)\nBEST_CASE: 7 (Variant A is cleaner but still over-specifies terminal populations)\nFAILURE_MODES: over-specification of terminal gates instead of categorical groupings, verbose intermediate node naming in 40% of runs, inconsistent plus-sign notation (CD3+ vs CD3)\nRELIABILITY: medium The model reliably captures the biological relationships and populations but inconsistently formats output structure and over-specifies terminal gates.\nSUMMARY: Gemini-2.5-flash demonstrates solid biological understanding of T/NK immunophenotyping hierarchies with high consistency (89%), but systematically over-specifies terminal populations rather than matching the expected categorical grouping format.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2733,
      "timestamp": "2026-01-13T04:24:25.125459",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-083 Monocyte Gating\n\n**Key Observations:**\n\n1. **Two consistent patterns emerged:**\n   - **Pattern A (7/10 runs):** Shorter hierarchy with \"Myeloid Cells\" intermediate, includes SLAN+ Monocytes\n   - **Pattern B (3/10 runs):** Longer hierarchy with explicit CD66b-, CD42b-, HLA-DR+ gates, missing SLAN subdivision\n\n2. **Correct elements across all runs:**\n   - Classical Monocytes (CD14++ CD16-) \u2713\n   - Intermediate Monocytes (CD14++ CD16+) \u2713\n   - Non-classical Monocytes (CD14+ CD16++) \u2713\n   - Core monocyte subset logic matches immunology consensus\n\n3. **Discrepancies from ground truth:**\n   - Ground truth uses \"Cleaned Events\" \u2192 \"Non-granulocytes\" path; model uses \"Singlets\" \u2192 \"Viable Cells\" path (both valid)\n   - Ground truth has \"Other Monocyte Subsets\" as intermediate grouping; model places subsets directly under \"Monocytes\"\n   - Ground truth separates SLAN+ and SLAN- nonclassical; Pattern A has SLAN+ but no SLAN- split, Pattern B omits SLAN entirely\n   - Model adds marker annotations (CD14++, CD16-) which are informative but not in ground truth naming\n\n4. **Scientific validity:**\n   - The CD14/CD16 classification scheme is immunologically correct\n   - SLAN (6-sulfo LacNAc) subdivision of nonclassical monocytes is a valid refinement\n   - Pattern B's longer hierarchy with HLA-DR+ verification is methodologically sound\n\n**MEDIAN_QUALITY:** 7 (correctly identifies all three canonical monocyte subsets with proper CD14/CD16 phenotypes; misses SLAN- subdivision and uses different intermediate grouping than ground truth)\n\n**CONSISTENCY:** 8 (only 2 unique patterns across 10 runs with 70% favoring Pattern A; structural logic is consistent even when depth varies)\n\n**WORST_CASE:** 6 (Pattern B runs miss SLAN subdivision entirely, though they add valid QC gates)\n\n**BEST_CASE:** 8 (Pattern A runs correctly identify Classical, Intermediate, Non-classical, and SLAN+ populations with proper phenotype annotations)\n\n**FAILURE_MODES:** missing SLAN- nonclassical subdivision, inconsistent hierarchy depth, omits \"Other Monocyte Subsets\" grouping node\n\n**RELIABILITY:** medium - Model reliably identifies the three canonical monocyte subsets with correct phenotypes but inconsistently handles the SLAN subdivision that distinguishes this OMIP's more granular analysis.\n\n**SUMMARY:** gemini-2.5-flash demonstrates solid understanding of canonical CD14/CD16 monocyte classification but shows moderate variance in hierarchy depth and incomplete capture of the SLAN-based nonclassical monocyte subdivision that is central to OMIP-083's specialized panel design.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2719,
      "timestamp": "2026-01-13T04:24:50.892914",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.5,
      "failure_modes": "inverted gating hierarchy (CD56/CD16 before KIR rather than after), missing unified NK cell parent gate, over-proliferation of KIR quadrants within each CD56 subset",
      "reliability": "medium (Model reliably produces immunologically sensible NK gating strategies but consistently misses the specific hierarchical structure expected for this macaque KIR-focused panel)",
      "summary": "The model demonstrates solid NK cell biology knowledge and high output consistency, but systematically inverts the KIR/CD56 gating order compared to the OMIP-035 ground truth, producing a reasonable but structurally incorrect hierarchy.",
      "raw_response": "## Evaluation: OMIP-035 NK Cell Gating (Macaque)\n\n### Analysis\n\n**Ground Truth Structure:**\n- Simple 4-level hierarchy: All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 NK cells\n- NK cells branch into: (1) Mamu-KIR3DL01+/- subsets with KIR3DL05+/- further subdivision, and (2) CD16/CD56 combinations\n\n**Predicted Structure (both variants):**\n- Adds CD3- gating step (Runs 1,2,8,10) or skips it (Runs 3-7,9)\n- Subdivides NK cells by CD56/CD16 phenotype (CD56bright/dim) BEFORE KIR gating\n- Applies KIR subdivision to each CD56/CD16 subset separately\n\n**Key Discrepancies:**\n\n1. **Structural organization differs fundamentally**: Ground truth gates KIR subsets first, then has separate CD16/CD56 branches at NK level. Model inverts this\u2014subdivides by CD56/CD16 first, then applies KIR gating within each subset.\n\n2. **Missing explicit \"NK cells\" parent gate**: Model jumps from CD3- directly to CD56bright/dim subsets rather than having a unified NK cell gate.\n\n3. **Over-subdivision of KIR combinations**: Model creates 4 quadrant combinations (KIR3DL01+/- \u00d7 KIR3DL05+/-) within each CD56 subset, whereas ground truth has this structure only under Mamu-KIR3DL01+ and Mamu-KIR3DL01- parents specifically.\n\n4. **Correct elements**: Captures core markers (CD56, CD16, KIR3DL01, KIR3DL05), viability gating, singlet discrimination, lymphocyte gate.\n\n---\n\nMEDIAN_QUALITY: 5 (captures correct markers and biological concepts but with fundamentally different hierarchical organization)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs, high parse success, variations are minor naming differences)\nWORST_CASE: 5 (both variants have similar structural issues)\nBEST_CASE: 5 (neither variant matches ground truth organization)\nFAILURE_MODES: inverted gating hierarchy (CD56/CD16 before KIR rather than after), missing unified NK cell parent gate, over-proliferation of KIR quadrants within each CD56 subset\nRELIABILITY: medium (Model reliably produces immunologically sensible NK gating strategies but consistently misses the specific hierarchical structure expected for this macaque KIR-focused panel)\nSUMMARY: The model demonstrates solid NK cell biology knowledge and high output consistency, but systematically inverts the KIR/CD56 gating order compared to the OMIP-035 ground truth, producing a reasonable but structurally incorrect hierarchy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3654,
      "timestamp": "2026-01-13T04:25:13.005742",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-095\n\n**MEDIAN_QUALITY: 7** \nThe model correctly identifies all major cell populations (T cells, B cells, NK cells, monocytes, macrophages, dendritic cells, ILCs) with appropriate hierarchical structure. It adds scientifically valid subpopulations (naive/memory T cell subsets, Tregs) that go beyond the ground truth but are biologically appropriate for the panel markers available.\n\n**CONSISTENCY: 9**\nOnly 2 unique gate sets across 10 runs with a consistency score of 0.89. The model shows two stable \"modes\": one with \"Intact Cells > Singlets\" prefix (8/10 runs) and one with direct \"Singlets\" (2/10 runs). Core population identification is identical across all runs.\n\n**WORST_CASE: 6**\nRuns 4 and 6 add an extra \"Non-Erythroid/Platelet (Ter119- CD41-)\" gate and \"TCRb+ T cells\" intermediate that deviates further from the ground truth structure, though biologically reasonable.\n\n**BEST_CASE: 7**\nEven the best runs include intermediate gates not in the ground truth (\"Lymphoid Cells\", \"Intact Cells\") and deeper subpopulations. However, all critical gates are present with correct parent-child relationships.\n\n**FAILURE_MODES:** over-elaboration of hierarchy depth, naming verbosity with marker annotations, insertion of intermediate lymphoid gate, inconsistent debris exclusion nomenclature\n\n**RELIABILITY: high** \nThe model reliably produces biologically valid gating strategies with all critical populations correctly identified; prediction variance is primarily cosmetic (naming conventions) rather than structural.\n\n**SUMMARY:** gemini-2.5-flash demonstrates strong domain knowledge with consistent, scientifically appropriate predictions that exceed ground truth granularity\u2014suitable for generating reference hierarchies but may require post-processing to match specific lab conventions.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3566,
      "timestamp": "2026-01-13T04:25:41.038911",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.5,
      "failure_modes": "complete omission of B cell lineage (plasma cells, plasmablasts, memory B, activated B), reversed singlet/lymphocyte gate order, missing ICOS+ Treg subpopulation",
      "reliability": "medium - Model reliably produces T cell hierarchies with correct murine markers (TCR\u03b2, CD44/CD62L) but systematically ignores B cell populations despite panel containing B cell markers, making it unreliable for comprehensive immunophenotyping panels.",
      "summary": "High consistency (0.89) masks a systematic blind spot - the model confidently and repeatedly produces detailed T cell hierarchies while completely ignoring the B cell branch that comprises half of this pan-leukocyte panel's ground truth.",
      "raw_response": "## Evaluation: OMIP-076 (Murine Splenocytes) - gemini-2.5-flash\n\n**Comparing predictions to ground truth:**\n\n### Key Observations\n\n**Structural Issues:**\n1. **Gate ordering reversed** - Predictions consistently place Lymphocytes before Singlets, while ground truth has Singlets > Live cells > Lymphocytes. This is a fundamental flow cytometry convention error (doublet exclusion should precede morphological gating).\n\n2. **Missing intermediate \"Lymphocytes\" gate** - Ground truth shows explicit Lymphocytes gate between Live cells and lineage gates (T cells, B cells). Predictions go CD45+ > TCR\u03b2+ directly, which is technically valid but different hierarchy.\n\n3. **T cell lineage marker** - Predictions use TCR\u03b2+ for T cells (correct for mouse), ground truth uses generic \"T cells\" nomenclature.\n\n**Population Coverage:**\n- \u2705 T cell memory subsets (Naive, CM, EM) - correctly identified with CD44/CD62L markers\n- \u2705 Tregs with Foxp3/CD25 - present in all runs\n- \u2705 Tfh cells with CXCR5/PD-1/ICOS markers - correctly identified\n- \u274c **B cell populations completely missing** - Ground truth includes B cells, Plasma cells, Plasmablasts, Activated B cells, Memory B cells. None predicted.\n- \u274c **ICOS+ Treg subpopulation missing** - Ground truth has this as a Treg subgate\n- \u26a0\ufe0f **CD8 T cells underrepresented** in shown paths (may be in \"+X more\")\n\n**Consistency Analysis:**\n- Two structural variants: 6 runs use \"Lymphocytes (FSC-A vs SSC-A) > Singlets\" ordering, 4 runs use \"Scatter Gate > Singlets\" with intermediate \"Naive/Memory CD4 T Cells\" gate\n- Core populations (Tregs, Tfh, memory subsets) consistent across all runs\n- 0.89 consistency score reflects minor naming/structural variations, not population differences\n\n---\n\nMEDIAN_QUALITY: 5 (correctly identifies T cell subsets with appropriate markers but completely omits B cell lineage which is half the expected hierarchy)\n\nCONSISTENCY: 8 (two minor structural variants with identical population coverage; gate names differ but populations match)\n\nWORST_CASE: 5 (all runs have same fundamental issue - missing B cells)\n\nBEST_CASE: 5 (no run captures B cell populations)\n\nFAILURE_MODES: complete omission of B cell lineage (plasma cells, plasmablasts, memory B, activated B), reversed singlet/lymphocyte gate order, missing ICOS+ Treg subpopulation\n\nRELIABILITY: medium - Model reliably produces T cell hierarchies with correct murine markers (TCR\u03b2, CD44/CD62L) but systematically ignores B cell populations despite panel containing B cell markers, making it unreliable for comprehensive immunophenotyping panels.\n\nSUMMARY: High consistency (0.89) masks a systematic blind spot - the model confidently and repeatedly produces detailed T cell hierarchies while completely ignoring the B cell branch that comprises half of this pan-leukocyte panel's ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1914,
      "timestamp": "2026-01-13T04:26:06.354914",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: gemini-2.5-flash on OMIP-008\n\n**Expected hierarchy (simplified):**\n- All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+ T cells\n\n**Observed patterns across 10 runs:**\n\nThe model produces two consistent structural variants:\n1. **Runs 1, 3, 6 (30%):** Detailed variant with dual singlet gates, explicit debris exclusion, and 4 T cell subsets (CD4+, CD8+, DN, DP)\n2. **Runs 2, 4, 5, 7, 8, 9, 10 (70%):** Simpler variant with \"Cells of Interest\" gate replacing Lymphocytes, 3 T cell subsets (CD4+, CD8+, DN)\n\n**Key observations:**\n\n| Aspect | Assessment |\n|--------|------------|\n| Core hierarchy | \u2713 Correctly captures All Events \u2192 singlets \u2192 live cells \u2192 T cells \u2192 CD4+/CD8+ |\n| Missing gates | Lymphocytes gate absent in all runs (replaced by \"Cells of Interest\" or debris exclusion) |\n| Extra gates | DN (double negative) T cells added in all runs; DP (double positive) in some |\n| Gate ordering | Some runs place Live Cells before Singlets (runs 2,4,5,7-10) - technically valid but non-standard |\n| Parent structure | T cells correctly parented under live/singlet gates; CD4/CD8 correctly under T cells |\n\n**MEDIAN_QUALITY:** 7\nThe model correctly identifies the core T cell gating logic (CD3+ \u2192 CD4+/CD8+ split) and essential quality control gates. Missing the explicit \"Lymphocytes\" gate is a minor omission since morphological gating is implied.\n\n**CONSISTENCY:** 9\nOnly 2 unique structural patterns across 10 runs, both representing valid flow cytometry approaches. The 0.89 consistency score reflects high reproducibility.\n\n**WORST_CASE:** 6\nRuns with inverted Live/Singlets order and extra gates (DN, DP) deviate more from the minimal expected hierarchy.\n\n**BEST_CASE:** 8\nThe detailed variants (runs 1, 3, 6) provide technically comprehensive gating with proper quality control sequence.\n\n**FAILURE_MODES:** missing Lymphocytes gate, adds unrequested DN/DP T cell subsets, inconsistent singlet-before-live vs live-before-singlet ordering\n\n**RELIABILITY:** high - Model consistently produces valid T cell gating hierarchies with correct marker logic; minor structural variations don't affect practical utility.\n\n**SUMMARY:** Gemini-2.5-flash reliably predicts the core T cell gating strategy with correct CD3/CD4/CD8 logic, though it consistently omits the explicit Lymphocytes gate and adds unrequested double-negative/positive populations.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2614,
      "timestamp": "2026-01-13T04:26:30.526236",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.7,
      "worst_case": 0.6,
      "best_case": 0.7,
      "failure_modes": "adds extraneous preprocessing gates (Time Gate, Debris Exclusion), inserts intermediate Lymphocytes grouping not in ground truth, monocyte subgrouping differs, may omit specialized B cell subsets",
      "reliability": "medium (model demonstrates solid immunological knowledge but generates structurally different hierarchies than the specific OMIP protocol)",
      "summary": "Model reliably identifies major leukocyte populations with biologically reasonable hierarchies, but its two output variants both deviate structurally from the ground truth by adding preprocessing gates and different intermediate groupings.",
      "raw_response": "Looking at the model's predictions across 10 runs against the OMIP-077 ground truth:\n\n**Pattern Analysis:**\n- Runs 1-3, 6, 8-10 (7 runs): Use \"Time Gate > Debris Exclusion > Singlets > Viable Cells > Leukocytes (CD45+)\" structure\n- Runs 4-5, 7 (3 runs): Use simpler \"Cells > Singlets > Viable Cells > CD45+ Leukocytes\" structure\n\n**Key Observations:**\n\n1. **Core populations correctly identified:** T cells, B cells, NK cells, NKT cells, monocyte subsets (classical/intermediate/non-classical), DCs - these appear consistently across both variants\n\n2. **Structural differences from ground truth:**\n   - Model adds \"Time Gate\" and \"Debris Exclusion\" gates not in ground truth\n   - Model uses \"Lymphocytes\" as intermediate parent (ground truth goes directly from Leukocytes to T/B/NK cells)\n   - Model groups monocytes under \"CD14+ Monocytes\" parent vs direct children in ground truth\n   - Model includes granulocytes (Neutrophils, Eosinophils) in variant 2 - not shown in ground truth snippet\n\n3. **Missing from predictions:** Marginal Zone B cells, Plasma cells, CD1c+ mDCs - these specialized populations from ground truth may be missing\n\n4. **Consistency:** Two distinct but internally coherent strategies (70% vs 30% split)\n\nMEDIAN_QUALITY: 7 (correctly identifies major leukocyte populations with reasonable hierarchy, but adds extra gates and uses different intermediate groupings)\nCONSISTENCY: 7 (two distinct strategies rather than one, but each is internally consistent)\nWORST_CASE: 6 (variant 2 has simpler structure that may miss some relationship nuances)\nBEST_CASE: 7 (neither variant perfectly matches ground truth structure)\nFAILURE_MODES: adds extraneous preprocessing gates (Time Gate, Debris Exclusion), inserts intermediate Lymphocytes grouping not in ground truth, monocyte subgrouping differs, may omit specialized B cell subsets\nRELIABILITY: medium (model demonstrates solid immunological knowledge but generates structurally different hierarchies than the specific OMIP protocol)\nSUMMARY: Model reliably identifies major leukocyte populations with biologically reasonable hierarchies, but its two output variants both deviate structurally from the ground truth by adding preprocessing gates and different intermediate groupings.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 799,
      "timestamp": "2026-01-13T04:26:47.313906",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-053 Treg Gating - gemini-2.5-flash\n\n**MEDIAN_QUALITY: 7**\n\n**CONSISTENCY: 8**\n\n**WORST_CASE: 6**\n\n**BEST_CASE: 7**\n\n**FAILURE_MODES: missing FoxP3- non-Treg branch, over-specified singlet gates (FSC-A/H and FSC-A/W double gating), redundant \"CD4+\" prefix on Treg gate, extra \"Cells\" or \"Event Quality Gate\" step not in ground truth**\n\n**RELIABILITY: medium** - The model reliably identifies the core Treg gating path but consistently omits the FoxP3- non-Treg sibling population, which is critical for complete Treg analysis.\n\n**SUMMARY: Strong performance on the main Treg hierarchy with high run-to-run consistency (2 variants across 10 runs), but systematic failure to predict the bifurcating FoxP3+/FoxP3- structure at the terminal gate level, resulting in incomplete population coverage for comparative Treg studies.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3466,
      "timestamp": "2026-01-13T04:27:10.879737",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.9,
      "worst_case": 0.7,
      "best_case": 0.8,
      "failure_modes": "missing Time Gate, functional analysis nested under memory subsets instead of parallel",
      "reliability": "high - Model reliably produces scientifically valid gating strategies with consistent structure across runs",
      "summary": "Strong performance with excellent consistency; predictions are more detailed than ground truth (adding dump gates and explicit memory subset enumeration) but miss the Time Gate and place functional analysis differently in the hierarchy.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-022\n\n### Analysis\n\n**Comparing Predictions to Ground Truth:**\n\nThe ground truth shows a hierarchy of:\n- All Events > Time Gate > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ > Memory Subsets + Functional Analysis\n\nThe model predictions show two consistent patterns across runs:\n\n**Pattern A (Runs 1, 2, 5, 7):** More detailed naming\n- All Events > Singlets > Lymphocytes > Viable Cells > Dump Negative > CD3+ T cells > CD4+/CD8+ > 4 memory subsets each with functional analysis\n\n**Pattern B (Runs 3, 4, 6, 8, 9, 10):** Slightly different naming\n- All Events > Cells > Singlets > Live Cells > Non-B/Mono > CD3+ T cells > CD4+/CD8+ > 4 memory subsets with cytokine producers\n\n**Key Observations:**\n\n1. **Missing Time Gate:** All predictions omit the Time Gate present in ground truth\n2. **Correct core structure:** T cell > CD4+/CD8+ > Memory subsets hierarchy is correct\n3. **Appropriate granularity:** Model correctly identifies 4 memory subsets (Naive, Central Memory, Effector Memory, Effector) based on CCR7/CD45RO markers\n4. **Dump channel inclusion:** Model adds CD14-/CD19- exclusion gate (not explicit in ground truth but scientifically valid)\n5. **Functional analysis placement:** Model places functional analysis as children of memory subsets rather than siblings\n6. **High consistency:** Only 2 unique patterns across 10 runs (primarily naming differences, not structural)\n\n---\n\nMEDIAN_QUALITY: 7 (correctly identifies core T cell memory subset hierarchy with appropriate marker logic, minor structural differences from ground truth)\nCONSISTENCY: 9 (only 2 naming variants across 10 runs, structural logic identical)\nWORST_CASE: 7 (all runs produce valid, scientifically reasonable hierarchies)\nBEST_CASE: 8 (detailed marker annotations, proper memory subset enumeration)\nFAILURE_MODES: missing Time Gate, functional analysis nested under memory subsets instead of parallel\nRELIABILITY: high - Model reliably produces scientifically valid gating strategies with consistent structure across runs\nSUMMARY: Strong performance with excellent consistency; predictions are more detailed than ground truth (adding dump gates and explicit memory subset enumeration) but miss the Time Gate and place functional analysis differently in the hierarchy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3229,
      "timestamp": "2026-01-13T04:27:33.693136",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-101 - gemini-2.5-flash (standard_direct_none)\n\nLooking at the predictions across 10 runs compared to the ground truth:\n\n**Key Observations:**\n\n1. **Structural Pattern:** Model consistently produces a well-organized hierarchy with appropriate initial gating (Time/Scatter \u2192 Singlets \u2192 Viable \u2192 CD45+ Leukocytes \u2192 Lymphocytes), which aligns reasonably with the ground truth's structure.\n\n2. **Major Deviation - Missing Myeloid Branch:** The ground truth includes a complete myeloid lineage (Myeloid cells \u2192 HLA-DR+ myeloid \u2192 monocyte subsets + mDCs). The model predictions focus almost entirely on lymphocyte subsets with detailed T cell phenotyping, completely omitting the monocyte/mDC branch.\n\n3. **Over-detailed T Cell Populations:** Model predicts extensive T cell subpopulations (Naive, CM, EM, TEMRA, Activated, Tregs) that aren't in the ground truth hierarchy. This represents hallucination of populations not specified in the expected output.\n\n4. **Naming Variations:** Two structural variants exist:\n   - Runs 1-2, 8-10: \"Leukocyte Scatter Gate\" without Time Gate\n   - Runs 3-7: \"Time Gate > Scatter Gate\" (more aligned with ground truth)\n\n5. **Missing Key Populations:** NK cell subsets (CD56dim/bright), B cell subsets (Plasmablasts, Naive B, Memory B), and all monocyte subsets are absent or named differently.\n\n---\n\n**MEDIAN_QUALITY:** 4\n**CONSISTENCY:** 8\n**WORST_CASE:** 3\n**BEST_CASE:** 5\n**FAILURE_MODES:** missing myeloid branch entirely, missing monocyte subsets, hallucinated detailed T cell memory subsets not in ground truth, inconsistent time gate inclusion, over-specification of T cell phenotypes\n**RELIABILITY:** medium - Model produces structurally coherent hierarchies consistently but systematically omits major cell lineages (myeloid) present in the ground truth.\n**SUMMARY:** The model demonstrates high internal consistency (89% agreement) but systematically fails to capture the full breadth of OMIP-101's pan-leukocyte panel, focusing excessively on T cell subpopulations while completely missing the myeloid/monocyte branch that comprises nearly half the expected hierarchy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2050,
      "timestamp": "2026-01-13T04:27:57.528637",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.2,
      "worst_case": 0.0,
      "best_case": 0.5,
      "failure_modes": "task failure returning prose instead of JSON (60% of runs), missing memory B cell subsets (RM/AM/TLM), incorrect parent-child relationships for isotype subclasses, CoT reasoning text bleeding into output",
      "reliability": "low - Model fails to produce valid output 60% of the time, and successful outputs miss key biological hierarchy (memory phenotypes)",
      "summary": "Gemini-2.5-flash with CoT prompting is unreliable for this task, with majority of runs producing unparseable reasoning text instead of structured hierarchies, and successful runs missing critical memory B cell subset categorization.",
      "raw_response": "Looking at the predictions across 10 runs for OMIP-074 (B cell IgG/IgA subclass phenotyping):\n\n**Key Observations:**\n\n1. **Runs 3, 4, 6, 7, 9, 10 (60%)**: Complete parsing failures - the model output reasoning text instead of structured hierarchy (starts with \"## Reasoning for Gating Hierarchy > 2. **Quality Control Gates\"). These are task failures, not valid predictions.\n\n2. **Runs 1, 2, 8**: Produced detailed hierarchies with ~36 paths. These show:\n   - Correct identification of B cells (CD19+CD20+)\n   - Correct IgG/IgA subclass breakdown (IgG1-4, IgA1-2)\n   - **Structural error**: Places isotype subclasses under \"Naive B Cells\" instead of under memory subsets and class-switched B cells as in ground truth\n   - Missing: Resting Memory (RM), Activated Memory (AM), Tissue-like Memory (TLM), Class-switched intermediate parent\n   - Extra gate: Leukocytes parent (not in ground truth)\n\n3. **Run 5**: Different structure - simpler hierarchy (16 paths), places isotypes directly under B cells without memory subset categorization. Missing memory phenotypes entirely.\n\n**Ground truth requires**: Memory phenotypes (RM, AM, TLM) as parents of isotype subclasses, which the model consistently misses or misplaces.\n\nMEDIAN_QUALITY: 3 (when it works, significant structural errors in memory subset organization)\nCONSISTENCY: 2 (60% task failures, remaining runs split between two different structural approaches)\nWORST_CASE: 0 (complete task failures returning prose instead of hierarchy)\nBEST_CASE: 5 (runs 1/2/8 capture B cell and isotype structure but miss memory phenotypes)\nFAILURE_MODES: task failure returning prose instead of JSON (60% of runs), missing memory B cell subsets (RM/AM/TLM), incorrect parent-child relationships for isotype subclasses, CoT reasoning text bleeding into output\nRELIABILITY: low - Model fails to produce valid output 60% of the time, and successful outputs miss key biological hierarchy (memory phenotypes)\nSUMMARY: Gemini-2.5-flash with CoT prompting is unreliable for this task, with majority of runs producing unparseable reasoning text instead of structured hierarchies, and successful runs missing critical memory B cell subset categorization.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2569,
      "timestamp": "2026-01-13T04:28:22.410283",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.4,
      "worst_case": 0.1,
      "best_case": 0.8,
      "failure_modes": "CoT reasoning text leaking into JSON output, markdown formatting artifacts in hierarchy paths, inconsistent output structure between runs",
      "reliability": "low The 50% parse failure rate makes this model unreliable for production use despite strong biological reasoning when it works.",
      "summary": "Gemini-2.5-flash demonstrates excellent flow cytometry domain knowledge but has a critical CoT output formatting bug causing 50% of runs to fail parsing entirely.",
      "raw_response": "Looking at the 10 runs for OMIP-087 (a 32-parameter mass cytometry panel for CD4/CD8 memory subsets):\n\n**Key Observations:**\n\n1. **Successful runs (1, 2, 3, 7, 10)**: These produce detailed, biologically appropriate hierarchies with:\n   - Correct CyTOF-specific QC gates (DNA+, Event Length, Residual)\n   - Proper T cell lineage structure (TCR\u03b1\u03b2 vs TCR\u03b3\u03b4 separation)\n   - Memory subset differentiation (Naive, Tcm, Tem, TEMRA)\n   - Functional markers (CD27, CD28, CD31 for RTEs)\n   - Tregs and Tfh populations identified\n\n2. **Failed runs (4, 5, 6, 8, 9)**: 50% of runs show parsing artifacts - the model's chain-of-thought reasoning text leaked into the hierarchy output, producing malformed paths like `*Reasoning for Gating Hierarchy > 1. **Technology-Specific QC...`\n\n3. **Comparison to ground truth**: The successful predictions are actually MORE detailed than the ground truth (which shows simplified paths like \"All Events > Leukocytes > T cells\"). The model correctly adds:\n   - Mass cytometry-specific QC gates\n   - TCR\u03b3\u03b4/TCR\u03b1\u03b2 discrimination\n   - Additional phenotypic detail (CD31+ RTEs, CD27/CD28 subsets)\n\n4. **Biological accuracy**: When parsing succeeds, the hierarchies demonstrate strong domain knowledge - appropriate for a CyTOF panel targeting T cell memory compartmentalization.\n\n**Failure Mode Analysis:**\nThe 50% failure rate is a **format/parsing issue**, not a reasoning deficit. The model knows the biology but inconsistently formats CoT output, causing the reasoning section to be interpreted as hierarchy data.\n\nMEDIAN_QUALITY: 7 (when parsing succeeds, predictions are comprehensive and biologically sound)\nCONSISTENCY: 4 (high variance due to 50% CoT formatting failures)\nWORST_CASE: 1 (failed parses produce completely unusable output)\nBEST_CASE: 8 (successful runs exceed ground truth detail with appropriate CyTOF gates)\nFAILURE_MODES: CoT reasoning text leaking into JSON output, markdown formatting artifacts in hierarchy paths, inconsistent output structure between runs\nRELIABILITY: low The 50% parse failure rate makes this model unreliable for production use despite strong biological reasoning when it works.\nSUMMARY: Gemini-2.5-flash demonstrates excellent flow cytometry domain knowledge but has a critical CoT output formatting bug causing 50% of runs to fail parsing entirely.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1913,
      "timestamp": "2026-01-13T04:28:43.084656",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.9,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "response truncation, MAX_TOKENS exceeded, no JSON hierarchy output, incomplete chain-of-thought",
      "reliability": "low This model consistently fails to complete responses for this complex 27-color panel, likely due to token limits during chain-of-thought reasoning.",
      "summary": "Complete task failure across all 10 runs due to response truncation - the model begins reasoning but never produces the requested gating hierarchy JSON output, making it unusable for OMIP-064.",
      "raw_response": "Looking at these predictions, I see a significant problem: **all 10 runs show truncated/incomplete responses**. The predictions appear to contain only the beginning of the model's reasoning (chain-of-thought preamble about technology assessment and quality control gates) but no actual gating hierarchy JSON output.\n\nThe \"predictions\" shown are clearly truncated mid-response:\n- They all start with \"As an expert cytometrist, I've analyzed...\" \n- They mention \"Technology Assessment/Identification\" and \"Quality Control Gates\"\n- They cut off before any actual hierarchy structure is produced\n- No JSON output is present in any run\n\nThis appears to be a **response truncation issue** (likely MAX_TOKENS limit) rather than the model actually completing the task. The 100% \"parse success rate\" with \"2 unique gate sets\" is misleading - the parser likely extracted something from the truncated text but not the intended output.\n\n**Expected hierarchy elements completely missing from all runs:**\n- MAIT cells\n- \u03b3\u03b4 T cells  \n- NK cells / Activated NK cells\n- Innate Lymphoid Cells / Other ILC subsets\n- The entire hierarchical structure\n\nMEDIAN_QUALITY: 0 (no usable gating hierarchy produced in any run)\nCONSISTENCY: 9 (predictions are consistently truncated in the same way)\nWORST_CASE: 0 (all runs fail to produce output)\nBEST_CASE: 0 (even the \"best\" run has no hierarchy)\nFAILURE_MODES: response truncation, MAX_TOKENS exceeded, no JSON hierarchy output, incomplete chain-of-thought\nRELIABILITY: low This model consistently fails to complete responses for this complex 27-color panel, likely due to token limits during chain-of-thought reasoning.\nSUMMARY: Complete task failure across all 10 runs due to response truncation - the model begins reasoning but never produces the requested gating hierarchy JSON output, making it unusable for OMIP-064.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2339,
      "timestamp": "2026-01-13T04:29:06.399519",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.6,
      "worst_case": 0.1,
      "best_case": 0.8,
      "failure_modes": "markdown formatting corruption (30% of runs), inverted singlet/live order, NK cells potentially missing",
      "reliability": "medium - Model produces good predictions 70% of the time but has an intermittent output formatting bug that generates markdown artifacts instead of hierarchy paths",
      "summary": "gemini-2.5-flash demonstrates solid biological knowledge of T-cell gating when outputs parse correctly, but a 30% failure rate from formatting corruption makes it unreliable without retry logic or output validation.",
      "raw_response": "Looking at these 10 runs, I can identify two distinct response patterns:\n\n**Pattern A (Runs 1, 3, 7):** Parse failures - the model output markdown formatting artifacts (`## Reasoning for Gating Hierarchy > 2.  **Quality Control Gates > **All Events`) instead of proper hierarchy paths. These are malformed outputs that fail to produce usable predictions.\n\n**Pattern B (Runs 2, 4, 5, 6, 8, 9, 10):** Successful hierarchies with consistent structure. These show:\n- Correct QC gating: All Events > Live Cells > Singlets > Leukocytes > Lymphocytes\n- Appropriate T cell subsets with memory differentiation (Tn, Tcm, Tem, Temra)\n- TFH-like cells included\n- Good depth and biological accuracy\n\n**Comparing to Ground Truth:**\n- **Structural difference:** Model uses Live Cells > Singlets (inverted from expected Singlets > Live cells) - both are valid orders\n- **Missing:** NK cells and NK Functional subsets not shown in preview\n- **Added detail:** Model provides more granular memory subset naming (Tn/Tcm/Tem/Temra vs generic \"Memory subsets\")\n- **Good match:** CD4/CD8 T cells, memory subsets, functional subsets, follicular helper T cells\n\nMEDIAN_QUALITY: 7 (successful runs capture key populations with appropriate granularity, minor structural differences)\nCONSISTENCY: 6 (70% success rate with identical outputs when successful, but 30% complete formatting failures)\nWORST_CASE: 1 (runs 1, 3, 7 produced unparseable markdown artifacts instead of hierarchies)\nBEST_CASE: 8 (successful runs show biologically sound hierarchies with good detail on memory subsets)\nFAILURE_MODES: markdown formatting corruption (30% of runs), inverted singlet/live order, NK cells potentially missing\nRELIABILITY: medium - Model produces good predictions 70% of the time but has an intermittent output formatting bug that generates markdown artifacts instead of hierarchy paths\nSUMMARY: gemini-2.5-flash demonstrates solid biological knowledge of T-cell gating when outputs parse correctly, but a 30% failure rate from formatting corruption makes it unreliable without retry logic or output validation.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3723,
      "timestamp": "2026-01-13T04:29:30.438035",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.7,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing SLAN+/SLAN- nonclassical subdivision, missing intermediate grouping node, hallucinated marker expression gates (Pattern B), over-verbose upstream gating",
      "reliability": "medium - Model reliably identifies classical/intermediate/nonclassical monocyte populations but cannot capture the nuanced SLAN-based subdivision that defines OMIP-083's specific contribution.",
      "summary": "The model demonstrates solid foundational knowledge of standard monocyte gating but fails to capture OMIP-083's distinctive SLAN-based nonclassical monocyte subdivision, producing either acceptably concise or excessively detailed hierarchies depending on the run.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-083\n\nLooking at the 10 runs, I observe two distinct prediction patterns:\n\n**Pattern A (Runs 2, 3, 4, 7, 9):** Concise hierarchy with standard monocyte subsets\n- Classical Monocytes (CD14++CD16-)\n- Intermediate Monocytes (CD14+CD16+)\n- Non-classical Monocytes (CD14lowCD16++)\n- Plus Myeloid Dendritic Cells\n\n**Pattern B (Runs 1, 5, 6, 8, 10):** Verbose hierarchy with expression marker gates\n- Includes individual marker expression gates (TLR2, CCR2, CX3CR1, CXCR4, CD36, etc.)\n- 30+ paths total per run\n\n### Comparison to Ground Truth\n\nThe ground truth specifies:\n- Classical Monocytes\n- Intermediate Monocytes (under \"Other Monocyte Subsets\")\n- SLAN+ Nonclassical Monocytes (under \"Other Monocyte Subsets\")\n- SLAN- Nonclassical Monocytes (under \"Other Monocyte Subsets\")\n\n**Key discrepancies:**\n1. **Missing SLAN subdivision**: Model never separates nonclassical monocytes into SLAN+ and SLAN- subsets - a critical distinction in OMIP-083\n2. **Missing \"Other Monocyte Subsets\" grouping**: Ground truth uses an intermediate grouping node\n3. **Pattern B over-generates**: Adds individual marker expression gates not in ground truth\n4. **Upstream differences**: Model adds standard flow gates (singlets, debris exclusion) not in ground truth's \"Cleaned Events/Leukocytes/Non-granulocytes\" path\n\n---\n\nMEDIAN_QUALITY: 5 (correctly identifies major monocyte subsets but misses SLAN subdivision and structural groupings)\nCONSISTENCY: 7 (two distinct patterns at 50/50 split - Pattern A vs Pattern B - but each pattern is internally consistent)\nWORST_CASE: 4 (Pattern B with excessive marker expression gates clutters hierarchy and adds hallucinated gates)\nBEST_CASE: 6 (Pattern A captures the three standard monocyte subsets with reasonable structure)\nFAILURE_MODES: missing SLAN+/SLAN- nonclassical subdivision, missing intermediate grouping node, hallucinated marker expression gates (Pattern B), over-verbose upstream gating\nRELIABILITY: medium - Model reliably identifies classical/intermediate/nonclassical monocyte populations but cannot capture the nuanced SLAN-based subdivision that defines OMIP-083's specific contribution.\nSUMMARY: The model demonstrates solid foundational knowledge of standard monocyte gating but fails to capture OMIP-083's distinctive SLAN-based nonclassical monocyte subdivision, producing either acceptably concise or excessively detailed hierarchies depending on the run.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3259,
      "timestamp": "2026-01-13T04:29:57.363946",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.6,
      "failure_modes": "missing Live cells gate, inverted Singlets/Lymphocytes order, added Time Gate, different KIR hierarchy organization, CD56bright/dim nomenclature vs CD56+/-",
      "reliability": "medium - Model consistently produces biologically reasonable NK gating strategies but diverges from the specific OMIP-035 hierarchy structure in predictable ways",
      "summary": "The model demonstrates good biological understanding of NK cell subsets and KIR receptor combinations but systematically differs from ground truth in early gating order (missing Live cells, adding Time Gate) and organizes KIR markers under CD56/CD16 subsets rather than using Mamu-KIR3DL01 as the primary split.",
      "raw_response": "Looking at the 10 runs, I can identify two distinct prediction patterns:\n\n**Pattern A (Runs 1, 2, 5, 6, 8, 9 - 6 runs):** Shorter hierarchy with \"Lymphocyte Gate\" naming\n**Pattern B (Runs 3, 4, 7, 10 - 4 runs):** Longer hierarchy with verbose parameter annotations like \"Cellular Events (FSC-A vs SSC-A)\"\n\n**Key observations comparing to ground truth:**\n\n1. **Missing Live cells gate**: Ground truth has `Singlets > Live cells > Lymphocytes > NK cells`, but predictions skip the Live cells gate entirely\n2. **Inverted Singlets/Lymphocytes order**: Ground truth gates Singlets first, then Live cells, then Lymphocytes. Predictions reverse this in some runs\n3. **Added Time Gate**: All predictions add a \"Time Gate\" not in ground truth\n4. **Different NK subset structure**: Ground truth uses `Mamu-KIR3DL01+/- NK cells` as intermediate populations before KIR3DL05 splits. Predictions instead gate on CD56/CD16 first, then apply KIR markers\n5. **Missing explicit \"NK cells\" gate**: Ground truth has a clear `NK cells` parent, predictions use \"CD56+ Cells\" or \"NK Cell Subsets\"\n6. **KIR marker representation**: Model correctly identifies all 4 KIR combinations but organizes them differently\n7. **CD16/CD56 subsets**: Ground truth has 3 CD16/CD56 combinations (`CD16+ CD56+`, `CD16+ CD56-`, `CD16- CD56+`). Model predicts `CD56bright CD16dim/-` and `CD56dim CD16bright` - biologically equivalent but different nomenclature\n\nMEDIAN_QUALITY: 6 (captures core NK and KIR biology but misses Live cells gate, reorders early hierarchy, uses different CD56/CD16 nomenclature)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs with 0.89 consistency score; differences are formatting not biology)\nWORST_CASE: 5 (verbose Pattern B adds unnecessary parameter annotations but same biological content)\nBEST_CASE: 6 (neither pattern matches ground truth structure for early gates or NK parent organization)\nFAILURE_MODES: missing Live cells gate, inverted Singlets/Lymphocytes order, added Time Gate, different KIR hierarchy organization, CD56bright/dim nomenclature vs CD56+/-\nRELIABILITY: medium - Model consistently produces biologically reasonable NK gating strategies but diverges from the specific OMIP-035 hierarchy structure in predictable ways\nSUMMARY: The model demonstrates good biological understanding of NK cell subsets and KIR receptor combinations but systematically differs from ground truth in early gating order (missing Live cells, adding Time Gate) and organizes KIR markers under CD56/CD16 subsets rather than using Mamu-KIR3DL01 as the primary split.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2320,
      "timestamp": "2026-01-13T04:30:24.017948",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.8,
      "worst_case": 0.4,
      "best_case": 0.5,
      "failure_modes": "flattened hierarchy missing intermediate gates, marker-list output instead of population gates, missing T cell subsets (CD4+/CD8+), missing ILC/monocyte/macrophage/DC distinction",
      "reliability": "medium - Model consistently identifies correct lineages and markers but systematically misunderstands the task format; predictions are reproducible but structurally incorrect",
      "summary": "Gemini-2.5-flash demonstrates good consistency (0.89) and correct immunological knowledge but fundamentally misinterprets gating hierarchy as marker groupings rather than sequential population gates, resulting in flattened 2-level structures that miss critical intermediate gates and population-level specificity.",
      "raw_response": "Looking at the 10 runs, I can identify two distinct prediction patterns:\n\n**Pattern A (Runs 1, 2, 6, 7, 9):** Uses \"Quality Control/General\" as root with CD45 included, then branches to lineages (T Cell, B Cell, NK/NKT, Myeloid)\n\n**Pattern B (Runs 3, 4, 5, 8, 10):** Uses \"Quality Control\" as root, then has \"Pan-leukocyte: CD45\" as separate node alongside lineage branches\n\n**Key Issues vs Ground Truth:**\n\n1. **Missing hierarchical depth**: Ground truth has All Events > Singlets > Live cells > Leukocytes > [populations]. Model predictions flatten this to essentially 2 levels (QC > Lineages)\n\n2. **Missing critical intermediate gates**: \"Singlets\" and \"Live cells\" are not explicit population gates in any prediction - they're lumped into QC markers\n\n3. **Gate naming mismatch**: Model outputs marker lists (e.g., \"T Cells: CD3, TCRb...\") rather than population names (e.g., \"CD4+ T cells\", \"CD8+ T cells\")\n\n4. **Missing population-level detail**: Ground truth distinguishes CD4+ T cells, CD8+ T cells, ILCs, Monocytes, Macrophages, Dendritic cells separately. Model collapses these into broad categories\n\n5. **Structural error**: Model treats gating as \"which markers define this lineage\" rather than \"hierarchical sequential gating decisions\"\n\n6. **Correct elements**: Identifies major lineages (T, B, NK, Myeloid), uses appropriate QC markers (FSC, SSC, viability), correctly positions CD45\n\nMEDIAN_QUALITY: 4 (captures major lineages but wrong structural paradigm - outputs marker panels not gating hierarchy)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs, 50/50 split between them)\nWORST_CASE: 4 (both patterns have same fundamental issues)\nBEST_CASE: 5 (Pattern B slightly better with explicit CD45 pan-leukocyte gate)\nFAILURE_MODES: flattened hierarchy missing intermediate gates, marker-list output instead of population gates, missing T cell subsets (CD4+/CD8+), missing ILC/monocyte/macrophage/DC distinction\nRELIABILITY: medium - Model consistently identifies correct lineages and markers but systematically misunderstands the task format; predictions are reproducible but structurally incorrect\nSUMMARY: Gemini-2.5-flash demonstrates good consistency (0.89) and correct immunological knowledge but fundamentally misinterprets gating hierarchy as marker groupings rather than sequential population gates, resulting in flattened 2-level structures that miss critical intermediate gates and population-level specificity.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 4101,
      "timestamp": "2026-01-13T04:30:47.765888",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-076 (Murine Splenocytes)\n\n**MEDIAN_QUALITY: 7** \nThe model correctly identifies the core hierarchical structure (All Events \u2192 Cells \u2192 Singlets \u2192 Live Cells \u2192 Leukocytes \u2192 T/B cell lineages \u2192 subsets) and appropriately uses murine-specific markers (TCR\u03b2, B220, CD19). It captures key populations including Tregs (Foxp3+CD25+), memory/na\u00efve T cells (CD44/CD62L), and B cell subsets. However, it systematically misses specific ground truth populations (Plasma cells, Plasmablasts, Activated B cells, Memory B cells) and adds populations not in ground truth (Tfh, Activated Tfh, Follicular B cells).\n\n**CONSISTENCY: 9**\nOnly 2 unique gate sets across 10 runs with 0.89 consistency score. The model alternates between two very similar hierarchical structures - one with \"P1: Cells\" prefix and FSC-H vs FSC-W singlet gating, the other without prefix and FSC-A vs FSC-H singlet gating. Both variants contain the same biological populations.\n\n**WORST_CASE: 6**\nAll runs are functionally equivalent. The \"worst\" runs are no worse than typical - they all correctly identify major lineages but miss the specific B cell maturation stages (plasma cells, plasmablasts) specified in ground truth.\n\n**BEST_CASE: 7**\nEven the best runs fail to capture B cell differentiation stages. The model over-specifies certain populations (adding Tfh, germinal center markers) while under-specifying others (missing plasma cell lineage).\n\n**FAILURE_MODES: Missing B cell maturation stages (plasma cells, plasmablasts, memory B cells), hallucinated Tfh/follicular B cell populations not in ground truth, inconsistent singlet gating parameter naming (FSC-H/W vs FSC-A/H)**\n\n**RELIABILITY: medium** The model reliably produces a reasonable murine immunophenotyping hierarchy but systematically misses specific B cell differentiation states, making it unsuitable for experiments focused on B cell maturation.\n\n**SUMMARY:** Gemini-2.5-flash demonstrates strong consistency and captures the fundamental T cell hierarchy well for murine splenocytes, but systematically misses B cell maturation populations (plasma cells, plasmablasts) while hallucinating Tfh populations, suggesting the model defaults to a generic pan-leukocyte template rather than reasoning from the specific panel markers.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2072,
      "timestamp": "2026-01-13T04:31:11.838674",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.7,
      "worst_case": 0.4,
      "best_case": 0.5,
      "failure_modes": "missing CD3+ T cell parent gate, singlets placed after lymphocytes in dominant pattern, excessive intermediate gates",
      "reliability": "medium (Model produces structurally reasonable but incomplete hierarchies; the missing T cell gate is a consistent blind spot that would affect downstream analysis)",
      "summary": "Gemini-2.5-flash reliably identifies CD4/CD8 terminal populations but consistently omits the critical CD3+ T cell gate and shows structural confusion about singlet gate placement in the hierarchy.",
      "raw_response": "Looking at the 10 runs, I can identify two distinct prediction patterns:\n\n**Pattern A (Runs 1-5, 7-8):** 7 runs\n```\nAll Events > Time Gate > Viable Cells > Lymphocytes > Singlets (FSC) > Singlets (SSC) > CD4 vs CD8 > CD4+/CD8+ populations\n```\n\n**Pattern B (Runs 6, 9-10):** 3 runs\n```\nAll Events > Cells (Debris Excluded) > Singlets > Lymphocytes/Monocytes > CD4/CD8 Populations > CD4+/CD8+ populations\n```\n\n**Comparison to Ground Truth:**\n```\nAll Events > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ T cells\n```\n\n**Key Observations:**\n\n1. **Missing T cell gate:** Both patterns skip the explicit \"T cells\" (CD3+) gate before CD4/CD8 discrimination - a significant structural error for T cell phenotyping panels.\n\n2. **Gate order issues:** Pattern A places Singlets *after* Lymphocytes (biologically backwards - you identify singlets before morphological gating). Pattern B has more conventional order.\n\n3. **Extra gates:** Both patterns add unnecessary intermediate gates (Time Gate, \"CD4 vs CD8\" parent gate) not in ground truth.\n\n4. **Terminal populations correct:** Both correctly identify CD4+ and CD8+ as terminal populations, and reasonably add CD4+CD8+ and CD4-CD8- (biologically valid for some T cell analyses).\n\n5. **Missing Live cells explicit naming:** Pattern A uses \"Viable Cells\" (acceptable synonym), Pattern B omits viability entirely.\n\n6. **No hallucinated markers:** All gates use markers present in a typical T cell panel.\n\nMEDIAN_QUALITY: 5 (captures CD4/CD8 endpoint but misses critical T cell gate and has structural ordering issues)\nCONSISTENCY: 7 (two patterns with 70/30 split; high internal consistency within each pattern)\nWORST_CASE: 4 (Pattern B missing viability gate and T cell gate)\nBEST_CASE: 5 (Pattern A has viability but still missing T cell gate and wrong singlet order)\nFAILURE_MODES: missing CD3+ T cell parent gate, singlets placed after lymphocytes in dominant pattern, excessive intermediate gates\nRELIABILITY: medium (Model produces structurally reasonable but incomplete hierarchies; the missing T cell gate is a consistent blind spot that would affect downstream analysis)\nSUMMARY: Gemini-2.5-flash reliably identifies CD4/CD8 terminal populations but consistently omits the critical CD3+ T cell gate and shows structural confusion about singlet gate placement in the hierarchy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1964,
      "timestamp": "2026-01-13T04:31:35.189088",
      "error": null,
      "median_quality": 0.1,
      "consistency": 0.2,
      "worst_case": 0.1,
      "best_case": 0.6,
      "failure_modes": "format violation (prose instead of JSON), response truncation, missing terminal populations (NK-T, Marginal Zone B, Plasma cells, DCs)",
      "reliability": "low - Model produces valid structured output only 10% of the time; the CoT prompt appears to cause format violations in most runs",
      "summary": "Severe format reliability issue where 90% of runs output prose that fails parsing, with only 1 run producing a reasonable (but incomplete) hierarchy.",
      "raw_response": "Looking at these 10 runs, I can see a clear pattern:\n\n**Runs 1, 2, 4-10 (9/10 runs):** The model produced truncated/malformed output that appears to be markdown-formatted prose rather than a proper JSON hierarchy. The predictions show only 4 shallow gates with asterisks and numbered lists (`*Quality Control Gates...`), indicating a parsing failure from non-JSON output format.\n\n**Run 3 (1/10 runs):** The model produced a complete, well-structured hierarchy with proper gate names and parent-child relationships. This prediction includes appropriate gates like Singlets, CD45+ Leukocytes, Monocyte subsets (Classical, Intermediate, Non-classical), Granulocyte subsets (Eosinophils, Basophils, Neutrophils), and follows logical gating strategy.\n\n**Critical observation:** The 9 \"consistent\" failures are actually format/parsing failures where the model outputted prose instead of JSON structure. The consistency score of 0.89 is misleading - it reflects consistent *failure*, not consistent good predictions.\n\n**Comparison to ground truth (Run 3 only):**\n- Correctly identifies: Singlets, Leukocytes, Classical/Intermediate/Non-classical monocytes\n- Adds reasonable gates: Time Gate, Granulocyte lineage (Eosinophils, Basophils, Neutrophils)\n- Missing from ground truth comparison: NK-T cells, Marginal Zone B cells, Plasma cells, CD1c+ mDCs\n- The hierarchy depth and structure in Run 3 is reasonable but differs in specific populations\n\nMEDIAN_QUALITY: 1 (9/10 runs are parsing failures with only QC gates extracted)\nCONSISTENCY: 2 (highly consistent at failing; only 1/10 produced usable output)\nWORST_CASE: 1 (truncated prose output with 4 malformed gates)\nBEST_CASE: 6 (Run 3 shows reasonable hierarchy but misses several expected populations)\nFAILURE_MODES: format violation (prose instead of JSON), response truncation, missing terminal populations (NK-T, Marginal Zone B, Plasma cells, DCs)\nRELIABILITY: low - Model produces valid structured output only 10% of the time; the CoT prompt appears to cause format violations in most runs\nSUMMARY: Severe format reliability issue where 90% of runs output prose that fails parsing, with only 1 run producing a reasonable (but incomplete) hierarchy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 944,
      "timestamp": "2026-01-13T04:31:55.131323",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-053 Gating Predictions (gemini-2.5-flash)\n\n**MEDIAN_QUALITY: 6**\n\nThe model correctly identifies the core gating logic (All Events \u2192 early gates \u2192 lymphocytes/singlets \u2192 CD4+ \u2192 FoxP3+ Tregs) and gets the terminal Treg population right. However, it has several systematic errors: (1) omits Live cells gate entirely, (2) adds a Time Gate not in ground truth, (3) reverses the order of Lymphocytes and Singlets (should be Singlets \u2192 Live \u2192 Lymphocytes), and (4) completely misses the FoxP3- non-Treg branch.\n\n**CONSISTENCY: 9**\n\nHighly consistent - only 2 unique patterns across 10 runs, with minor naming variations (Time Gate vs Live Events, Lymphocytes vs Leukocytes). The core hierarchical structure is identical in all runs.\n\n**WORST_CASE: 6**\n\nAll runs share the same fundamental errors, so there's no degradation in the worst case - they're uniformly mediocre rather than having catastrophic outliers.\n\n**BEST_CASE: 6**\n\nEven the best runs miss the Live cells gate, have incorrect gate ordering, and omit the FoxP3- branch. No run approaches the ground truth structure.\n\n**FAILURE_MODES: missing Live cells gate, incorrect Singlets/Lymphocytes ordering, hallucinated Time Gate, missing FoxP3- non-Treg branch, redundant CD4+ in terminal gate names**\n\n**RELIABILITY: medium** - The model is highly reproducible but systematically biased toward a common but incorrect gating order and consistently omits the negative population branch.\n\n**SUMMARY: Gemini-2.5-flash produces stable, reproducible predictions that capture the main Treg identification path but systematically fail to match the exact gate ordering and completely miss the bifurcation into FoxP3+ and FoxP3- populations.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2143,
      "timestamp": "2026-01-13T04:32:19.653595",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.3,
      "worst_case": 0.0,
      "best_case": 0.8,
      "failure_modes": "response format inconsistency (prose vs JSON), truncated output, missing Time Gate, over-specification relative to ground truth",
      "reliability": "low (50% format failure rate makes this model unreliable for production use on this task without additional validation/retry logic)",
      "summary": "gemini-2.5-flash demonstrates strong immunology knowledge when it produces valid output, but a 50% format failure rate with truncated prose responses makes it unsuitable for reliable automated gating prediction.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-022\n\n### Analysis\n\n**Run Classification:**\n- **Runs 1, 4, 5, 8, 10 (5/10):** Failed to produce valid JSON hierarchy - output appears truncated/malformed prose starting with \"Quality Control Gates : >\"\n- **Runs 2, 3, 6, 7, 9 (5/10):** Produced detailed, well-structured hierarchies with 56+ gates including memory subsets (Naive, CM, EM, TEMRA) and cytokine functional analysis (IFN-\u03b3, IL-2, TNF, IL-17A, IL-22)\n\n**Successful Runs Assessment:**\nThe successful predictions demonstrate strong domain knowledge:\n- Correct core structure: All Events \u2192 Debris Exclusion \u2192 Singlets \u2192 Live Cells \u2192 Lymphocytes \u2192 T Cells\n- Appropriate dump channel (CD14- CD19-) for monocyte/B cell exclusion\n- Correct CD4/CD8 split with memory subset breakdown (Tn, Tcm, Tem, Temra)\n- Comprehensive functional analysis with cytokine gates\n- Missing \"Time Gate\" from ground truth but compensated with reasonable alternatives\n\n**Key Discrepancies:**\n- Ground truth uses \"Time Gate\" early in hierarchy; model uses \"Debris Exclusion\"\n- Ground truth has collapsed \"Memory Subsets\" and \"Functional Analysis\" nodes; model expands these into explicit gates\n- The expanded predictions are arguably MORE detailed than ground truth, not less\n\n**Failure Mode:**\n50% of runs produced malformed output that starts with descriptive prose instead of structured hierarchy, suggesting inconsistent response formatting behavior.\n\n---\n\nMEDIAN_QUALITY: 6 (when successful, predictions are detailed and scientifically reasonable; 50% failure rate significantly impacts overall quality)\nCONSISTENCY: 3 (bimodal distribution - either complete failure or detailed success, with no middle ground)\nWORST_CASE: 0 (truncated prose output is unparseable and unusable)\nBEST_CASE: 8 (successful runs show excellent domain knowledge with appropriate memory/functional subdivisions)\nFAILURE_MODES: response format inconsistency (prose vs JSON), truncated output, missing Time Gate, over-specification relative to ground truth\nRELIABILITY: low (50% format failure rate makes this model unreliable for production use on this task without additional validation/retry logic)\nSUMMARY: gemini-2.5-flash demonstrates strong immunology knowledge when it produces valid output, but a 50% format failure rate with truncated prose responses makes it unsuitable for reliable automated gating prediction.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.5-flash",
      "condition": "gemini-2.5-flash_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3456,
      "timestamp": "2026-01-13T04:32:47.135534",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.5,
      "worst_case": 0.1,
      "best_case": 0.5,
      "failure_modes": "format failures (30% prose output), missing myeloid branch, missing monocyte subsets, missing mDCs, over-specification of T memory subsets, missing intermediate exclusion gates (Non-beads, Non-aggregates, Non-granulocytes)",
      "reliability": "low - Model fails to produce valid output 30% of the time and consistently misses the myeloid compartment which represents a major branch of this whole blood panel.",
      "summary": "gemini-2.5-flash shows moderate consistency on lymphoid gating but systematically fails to predict the myeloid branch (monocytes, mDCs) that is central to OMIP-101's whole blood immunophenotyping design, combined with concerning format instability.",
      "raw_response": "## Evaluation of gemini-2.5-flash on OMIP-101\n\n### Analysis\n\n**Ground Truth Structure:** OMIP-101 expects a specific hierarchy with:\n- Quality gates: Time gate \u2192 Singlets \u2192 Non-beads \u2192 Leukocytes \u2192 Non-aggregates\n- Major branch split: Non-granulocytes \u2192 Myeloid cells OR Lymphocytes\n- Myeloid path: HLA-DR+ myeloid \u2192 monocyte subsets (classical, intermediate, non-classical) + mDCs\n- Lymphoid path: B cells, NK cells, T cells with subpopulations\n\n**Prediction Patterns Observed:**\n\n1. **Runs 2, 7, 10 (3/10):** Parse failures - model output prose/markdown reasoning instead of structured JSON hierarchy. These are format failures, not reasoning failures.\n\n2. **Runs 1, 3, 5, 8, 9 (5/10):** Consistent hierarchy with:\n   - Good QC gates (Time Gate, Singlets, Leukocytes)\n   - **Missing:** Non-beads, Non-aggregates, Non-granulocytes intermediate gates\n   - **Missing:** Myeloid branch entirely (no monocytes, no mDCs)\n   - T cell focus with memory subsets (Naive, CM, EM, TEMRA)\n   - 28 gates predicted vs 32 expected\n\n3. **Runs 4, 6 (2/10):** More verbose gate naming but same structural pattern as group 2\n\n**Key Discrepancies:**\n- Model consistently predicts a **T-cell-centric** hierarchy, missing the parallel myeloid branch\n- Ground truth has explicit \"Non-granulocytes\" bifurcation into Myeloid and Lymphocytes - model skips this\n- Missing all monocyte subsets (Classical, Intermediate, Non-classical) which are critical populations\n- Missing mDCs entirely\n- Over-predicts T cell memory subsets that may not be in the panel's intended targets\n\n---\n\nMEDIAN_QUALITY: 4 (captures lymphoid populations but completely misses myeloid branch and intermediate exclusion gates)\nCONSISTENCY: 5 (70% of runs produce similar hierarchies, but 30% are format failures)\nWORST_CASE: 1 (format failures produce unparseable prose instead of hierarchies)\nBEST_CASE: 5 (best runs capture T/B/NK lymphoid populations correctly but miss monocytes/mDCs)\nFAILURE_MODES: format failures (30% prose output), missing myeloid branch, missing monocyte subsets, missing mDCs, over-specification of T memory subsets, missing intermediate exclusion gates (Non-beads, Non-aggregates, Non-granulocytes)\nRELIABILITY: low - Model fails to produce valid output 30% of the time and consistently misses the myeloid compartment which represents a major branch of this whole blood panel.\nSUMMARY: gemini-2.5-flash shows moderate consistency on lymphoid gating but systematically fails to predict the myeloid branch (monocytes, mDCs) that is central to OMIP-101's whole blood immunophenotyping design, combined with concerning format instability.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2331,
      "timestamp": "2026-01-13T04:33:12.303994",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.6,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing Time gate, wrong memory B cell terminology (RM/AM/TLM not predicted), missing IgE+ B cells, IgM+ incorrectly placed under switched memory, inconsistent Lymphocytes gate inclusion",
      "reliability": "medium The model reliably produces B cell hierarchies with correct Ig subclass structure but consistently uses alternative nomenclature that doesn't match OMIP-074's specific memory subset definitions.",
      "summary": "Gemini-2.5-pro demonstrates solid understanding of B cell immunology and Ig subclass organization but systematically uses generic memory B cell taxonomy instead of the paper-specific RM/AM/TLM categories, resulting in moderate scores despite technically reasonable immunological structure.",
      "raw_response": "Looking at the 10 runs, I'll evaluate the model's performance against the ground truth.\n\n**Key Observations:**\n\n1. **Missing critical gates**: The ground truth has \"Time gate\" and \"Lymphocytes\" gates that most predictions omit. Only runs 4 and 8 include \"Lymphocytes\".\n\n2. **Memory B cell nomenclature mismatch**: Ground truth uses specific terms (Resting Memory, Activated Memory, Tissue-like Memory) while the model consistently uses different taxonomy (Unswitched Memory, Class Switched Memory, Double Negative).\n\n3. **IgG subclass structure is correct**: The model correctly identifies IgG1+, IgG2+, IgG3+, IgG4+ as children of IgG+ populations.\n\n4. **IgA subclasses partially captured**: Ground truth has IgA1+ and IgA2+ under IgA+; the model captures these in most runs.\n\n5. **Run-to-run variation**: \n   - Runs 2, 3, 5, 7, 10 are nearly identical (Memory B cells > Class Switched Memory pattern)\n   - Runs 4, 8 add Lymphocytes gate\n   - Runs 1, 6, 9 have different structures (Double Negative B cells, different memory organization)\n   - Run 1 uniquely has \"Stable Events\" instead of \"Singlets\"\n\n6. **Missing from predictions**: IgE+ B cells are absent from all predictions shown. The specific memory subtypes (RM, AM, TLM) are never predicted.\n\n7. **Hallucinations**: \"IgM+ Switched Memory\" is technically incorrect (IgM+ are unswitched), appearing in several runs.\n\nMEDIAN_QUALITY: 5 (captures B cell subsets and Ig subclasses but uses wrong memory nomenclature and misses Time gate)\nCONSISTENCY: 6 (core structure is stable but early gates and memory organization vary)\nWORST_CASE: 4 (Run 1 with \"Stable Events\" and atypical hierarchy)\nBEST_CASE: 6 (Runs 4/8 with Lymphocytes gate included)\nFAILURE_MODES: missing Time gate, wrong memory B cell terminology (RM/AM/TLM not predicted), missing IgE+ B cells, IgM+ incorrectly placed under switched memory, inconsistent Lymphocytes gate inclusion\nRELIABILITY: medium The model reliably produces B cell hierarchies with correct Ig subclass structure but consistently uses alternative nomenclature that doesn't match OMIP-074's specific memory subset definitions.\nSUMMARY: Gemini-2.5-pro demonstrates solid understanding of B cell immunology and Ig subclass organization but systematically uses generic memory B cell taxonomy instead of the paper-specific RM/AM/TLM categories, resulting in moderate scores despite technically reasonable immunological structure.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2949,
      "timestamp": "2026-01-13T04:33:39.607706",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "Looking at the 10 runs for OMIP-087 (a CyTOF panel for CD4/CD8 memory T cell subsets), I'll evaluate gemini-2.5-pro's performance.\n\n**Key Observations:**\n\n1. **Structural Additions**: All predictions add gates not in ground truth: \"Intact Cells\", \"Singlets\", \"Viable/Live Cells\" - these are standard flow cytometry cleanup gates but notably OMIP-087 is CyTOF where scatter-based singlet gating is handled differently. The ground truth starts directly at \"Leukocytes\".\n\n2. **Alpha-Beta/Gamma-Delta Split**: All runs add a gamma-delta T cell branch and alpha-beta distinction not present in the ground truth. This is immunologically valid but not in the reference hierarchy.\n\n3. **Memory Subset Coverage**: The model correctly identifies memory subsets (Naive, Central Memory, Effector Memory) but places them in slightly different hierarchical positions. Ground truth has \"Stem cell memory\" and \"Transitional memory\" which most runs miss or label differently.\n\n4. **Consistent Patterns**: Runs 1/4/5 are identical, runs 2/3/6/7/8 are identical, and runs 9/10 are identical - showing 3 distinct prediction clusters.\n\n5. **Tfh Placement**: Ground truth places Tfh as direct child of CD4+ T cells; predictions place it under Central Memory (runs 1-8) or Effector Memory (runs 9-10) - both are defensible biologically but differ from ground truth.\n\n6. **Missing from predictions**: \"Stem cell memory CD4 T cells\" and \"Transitional memory CD4 T cells\" are consistently absent - these are specific OMIP-087 categories the model doesn't reproduce.\n\n**MEDIAN_QUALITY: 6** (captures major T cell subsets and memory populations correctly, but adds unnecessary gates and misses specific OMIP categories)\n\n**CONSISTENCY: 8** (only 3 unique variants across 10 runs, with 8/10 runs falling into just 2 patterns)\n\n**WORST_CASE: 5** (runs 9-10 have Tfh under Effector Memory which is less conventional, and include \"Time\" gate which is unusual)\n\n**BEST_CASE: 7** (runs 2-3/6-8 have cleaner nomenclature with explicit CD45+ and proper memory subset organization)\n\n**FAILURE_MODES: adds_scatter_gates_inappropriate_for_CyTOF, missing_stem_cell_memory_subset, missing_transitional_memory_subset, inconsistent_Tfh_placement, adds_gamma_delta_branch_not_in_ground_truth**\n\n**RELIABILITY: medium** The model produces immunologically reasonable hierarchies with good internal consistency, but systematically diverges from OMIP-087's specific categorization scheme.\n\n**SUMMARY: Gemini-2.5-pro generates biologically plausible T cell hierarchies with high run-to-run consistency but fails to reproduce OMIP-087's specific memory subset nomenclature (missing stem cell and transitional memory) and inappropriately adds flow cytometry cleanup gates to this CyTOF panel.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.4,
      "consistency_score": 0.33333333333333337,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1530,
      "timestamp": "2026-01-13T04:34:03.805131",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.2,
      "worst_case": 0.0,
      "best_case": 0.6,
      "failure_modes": "MAX_TOKENS truncation, missing ILC/NK branch, inconsistent intermediate gate naming, Lymphocytes/Leukocytes confusion",
      "reliability": "low - Model fails 60% of attempts on this complex panel due to token exhaustion, making it unsuitable for production use on high-parameter panels without increased token limits.",
      "summary": "Gemini-2.5-pro shows reasoning capability when it completes (identifying key populations from markers) but is fundamentally unreliable on complex panels due to token limits consuming output budget during extended reasoning.",
      "raw_response": "Looking at the 10 runs for OMIP-064 (a complex 27-color NK/ILC panel) with gemini-2.5-pro:\n\n**Key Observations:**\n\n1. **60% failure rate due to MAX_TOKENS** - Runs 1, 5, 6, 7, 8, 10 all failed with token exhaustion. This is a known issue documented in the project's CLAUDE.md for reasoning models on complex panels.\n\n2. **Successful runs (2, 3, 4, 9)** produced reasonable hierarchies that capture the major populations (T cells, \u03b3\u03b4 T cells, MAIT cells) but with notable differences:\n   - All include Time Gate/Singlets/Live gating (appropriate)\n   - All identify \u03b3\u03b4 T cells and MAIT cells (key targets in ground truth)\n   - None correctly identify \"Innate Lymphoid Cells\" as a parent of NK cells - they place NK/ILC incorrectly or omit them\n   - The ground truth expects \"Lymphocytes\" but predictions use \"Leukocytes\"\n\n3. **Missing from all successful runs**: The ILC branch (Innate Lymphoid Cells > NK cells > Activated NK cells, Other ILC subsets) is either absent or misstructured.\n\n4. **Structural variance**: Runs differ in intermediate gates (Time Gate vs Time/Stable Flow, Viable vs Live, etc.)\n\n**Evaluation:**\n\nMEDIAN_QUALITY: 4 (successful runs capture T cell lineages but miss ILC branch structure; 60% parse failures drag down median)\nCONSISTENCY: 2 (only 40% parse success, 3 unique gate sets among successes, structural variations between runs)\nWORST_CASE: 0 (6 runs produced no usable output due to token limits)\nBEST_CASE: 6 (Run 3 has cleanest structure with \u03b3\u03b4 T, MAIT, and conventional T properly organized, though still missing ILC branch)\nFAILURE_MODES: MAX_TOKENS truncation, missing ILC/NK branch, inconsistent intermediate gate naming, Lymphocytes/Leukocytes confusion\nRELIABILITY: low - Model fails 60% of attempts on this complex panel due to token exhaustion, making it unsuitable for production use on high-parameter panels without increased token limits.\nSUMMARY: Gemini-2.5-pro shows reasoning capability when it completes (identifying key populations from markers) but is fundamentally unreliable on complex panels due to token limits consuming output budget during extended reasoning.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2249,
      "timestamp": "2026-01-13T04:34:28.930171",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.6,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "over-granular cytokine expansion instead of grouped subsets, missing Tfh gate, inconsistent Time gate insertion, occasional B cell hallucination",
      "reliability": "medium The model reliably captures T/NK cell structure but produces overly detailed cytokine hierarchies and occasionally adds gates not in the panel context.",
      "summary": "Gemini-2.5-pro demonstrates solid understanding of T/NK immunophenotyping structure but systematically over-expands functional subsets into individual cytokine gates, mismatching the expected abstraction level and missing the Tfh population.",
      "raw_response": "Looking at these predictions against the ground truth, I'll evaluate the model's performance.\n\n**Analysis:**\n\nThe ground truth shows a relatively abstract hierarchy with grouped categories like \"CD4+ Memory subsets\", \"CD4+ Functional subsets\", \"Follicular helper T cells\", etc. The model instead produces highly granular hierarchies that enumerate specific cytokine gates (IFN-\u03b3+, IL-2+, TNF-\u03b1+, IL-4+, IL-17A+) under specific memory compartments (Naive, Central Memory, Effector Memory).\n\n**Key observations:**\n\n1. **Core structure captured**: All runs correctly identify the backbone: All Events > Singlets > Live > Lymphocytes > T cells > CD4/CD8 branching > NK cells\n\n2. **Granularity mismatch**: The model expands functional subsets into individual cytokine gates rather than grouping them. This is technically more detailed than the ground truth but represents a different abstraction level.\n\n3. **Structural variations across runs**:\n   - Runs 4, 6, 7, 10 insert a \"Time\" gate after All Events (valid but not in ground truth)\n   - Runs 7, 10 add \"Leukocytes\" and include B cells (not in ground truth)\n   - Runs 1, 5 use slightly different naming (T_N vs Tcm notation)\n\n4. **Missing elements**: \"Follicular helper T cells\" (Tfh) appears to be missing from most predictions - this is a specific gate expected in OMIP-025.\n\n5. **Consistency**: 4 unique gate sets across 10 runs with score 0.67 shows moderate consistency. The variations are primarily in early gating (Time gate presence) and naming conventions.\n\nMEDIAN_QUALITY: 6 (captures major populations and structure, but wrong abstraction level and missing Tfh)\nCONSISTENCY: 6 (4 variants across 10 runs; core structure stable, variations in early gates and naming)\nWORST_CASE: 5 (runs with Time gate and B cells add structure not in ground truth)\nBEST_CASE: 7 (runs 2,3,8,9 have cleanest structure closest to expected)\nFAILURE_MODES: over-granular cytokine expansion instead of grouped subsets, missing Tfh gate, inconsistent Time gate insertion, occasional B cell hallucination\nRELIABILITY: medium The model reliably captures T/NK cell structure but produces overly detailed cytokine hierarchies and occasionally adds gates not in the panel context.\nSUMMARY: Gemini-2.5-pro demonstrates solid understanding of T/NK immunophenotyping structure but systematically over-expands functional subsets into individual cytokine gates, mismatching the expected abstraction level and missing the Tfh population.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.4,
      "consistency_score": 0.33333333333333337,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1477,
      "timestamp": "2026-01-13T04:34:52.010134",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.2,
      "worst_case": 0.0,
      "best_case": 0.4,
      "failure_modes": "MAX_TOKENS truncation, JSON formatting errors, missing target populations (monocyte subsets), overly generic gating strategy",
      "reliability": "low This model fails 60% of the time on this panel and even successful predictions miss the specific monocyte subset gating that defines OMIP-083.",
      "summary": "Gemini-2.5-pro is unreliable for OMIP-083 due to frequent token limit failures on this complex panel, and successful predictions generate generic immunophenotyping rather than the specific monocyte subset hierarchy required.",
      "raw_response": "Looking at the 10 runs for OMIP-083 with gemini-2.5-pro:\n\n**Parse Failures (6/10 runs):**\n- Runs 3, 4, 6: MAX_TOKENS failures (model ran out of tokens during reasoning)\n- Runs 1, 9, 10: Malformed JSON (started with ```json but didn't complete properly)\n\n**Successful Parses (4/10 runs):**\n- Runs 2, 5, 7, 8 produced valid hierarchies\n\n**Quality of Successful Predictions:**\nThe successful predictions show reasonable immunophenotyping structure but **completely miss the monocyte subpopulations** that are the focus of the expected hierarchy:\n- Expected: Classical Monocytes, Intermediate Monocytes, SLAN+ Nonclassical, SLAN- Nonclassical\n- Predicted: Generic populations (T cells, B cells, NK cells, Basophils, etc.) with no monocyte subtyping\n\nThe predictions identify broad leukocyte populations but fail to capture the specific monocyte subset gating that OMIP-083 is designed for. The hierarchies are structurally valid (singlets \u2192 viable \u2192 CD45+ \u2192 subsets) but miss the biological specificity.\n\n**Consistency Among Successful Runs:**\nRuns 2 and 7 are nearly identical. Run 5 and 8 have similar structure but different intermediate gates (Time vs Singlets, different naming conventions).\n\n---\n\nMEDIAN_QUALITY: 3 (structurally valid but misses the core monocyte subset gating entirely)\nCONSISTENCY: 2 (60% failure rate, and successful runs vary in structure and naming)\nWORST_CASE: 0 (MAX_TOKENS failures produce no usable output)\nBEST_CASE: 4 (valid immunophenotyping hierarchy but wrong focus - generic populations instead of monocyte subsets)\nFAILURE_MODES: MAX_TOKENS truncation, JSON formatting errors, missing target populations (monocyte subsets), overly generic gating strategy\nRELIABILITY: low This model fails 60% of the time on this panel and even successful predictions miss the specific monocyte subset gating that defines OMIP-083.\nSUMMARY: Gemini-2.5-pro is unreliable for OMIP-083 due to frequent token limit failures on this complex panel, and successful predictions generate generic immunophenotyping rather than the specific monocyte subset hierarchy required.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2316,
      "timestamp": "2026-01-13T04:35:14.613375",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.7,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "wrong branching logic (CD56 before KIR instead of Mamu-KIR3DL01 before KIR3DL05), missing CD16/CD56 combination gates, hallucinated intermediate gates (Time, Cells, KIR Subsets), dropped species-specific nomenclature (Mamu- prefix)",
      "reliability": "medium The model reliably produces valid NK gating hierarchies but consistently misinterprets the branching order and omits key population subsets.",
      "summary": "Gemini-2.5-pro demonstrates good consistency in producing syntactically valid hierarchies with correct core gates, but systematically imposes a canonical human NK paradigm (CD56dim/bright split) rather than following the macaque-specific Mamu-KIR-first structure specified in OMIP-035.",
      "raw_response": "## Evaluation: OMIP-035 Gating Hierarchy Predictions\n\n### Analysis\n\n**Ground Truth Structure:**\n- Simple hierarchy: All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 NK cells\n- NK cells split by Mamu-KIR3DL01 +/- then KIR3DL05 +/-\n- Additional CD16/CD56 combinations at NK level\n\n**Predicted Structure (across runs):**\n- Core gates preserved (All Events, Singlets, Live Cells, Lymphocytes)\n- Added gates not in ground truth: Time/Stable Time, Cells gate, dual FSC/SSC singlets\n- **Critical deviation**: Model splits NK cells by CD56dim/CD56bright FIRST, then applies KIR markers\n- Ground truth splits NK by Mamu-KIR3DL01 FIRST, then KIR3DL05\n- Missing: The CD16+/- CD56+/- terminal gates entirely\n- Missing: \"Mamu-\" prefix on KIR3DL01 (species-specific nomenclature lost)\n\n**Pattern Clusters:**\n1. Runs 1,5,6,9: Time \u2192 Singlets (FSC) \u2192 Singlets (SSC) structure\n2. Runs 2,3,4,10: Stable Time \u2192 Cells \u2192 Singlets structure  \n3. Runs 7,8: Simpler structure with \"KIR Subsets\" intermediate node, fewer terminal gates\n\n### Scores\n\nMEDIAN_QUALITY: 5\nCONSISTENCY: 7\nWORST_CASE: 4\nBEST_CASE: 6\nFAILURE_MODES: wrong branching logic (CD56 before KIR instead of Mamu-KIR3DL01 before KIR3DL05), missing CD16/CD56 combination gates, hallucinated intermediate gates (Time, Cells, KIR Subsets), dropped species-specific nomenclature (Mamu- prefix)\nRELIABILITY: medium The model reliably produces valid NK gating hierarchies but consistently misinterprets the branching order and omits key population subsets.\nSUMMARY: Gemini-2.5-pro demonstrates good consistency in producing syntactically valid hierarchies with correct core gates, but systematically imposes a canonical human NK paradigm (CD56dim/bright split) rather than following the macaque-specific Mamu-KIR-first structure specified in OMIP-035.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.8,
      "consistency_score": 0.5714285714285714,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2353,
      "timestamp": "2026-01-13T04:35:41.001708",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.4,
      "worst_case": 0.0,
      "best_case": 0.6,
      "failure_modes": "MAX_TOKENS truncation, over-elaboration of T cell subsets, missing innate populations (DCs/Macrophages/ILCs), inconsistent root gate naming (Time vs Cells), variable singlet gate structure",
      "reliability": "low This model fails 20% of runs on complex panels and produces inconsistent hierarchies when it succeeds.",
      "summary": "Gemini-2.5-pro demonstrates domain knowledge by identifying relevant populations but is unreliable for this task due to token exhaustion on complex panels and inconsistent structural output across runs.",
      "raw_response": "Looking at the 10 runs for OMIP-095 with gemini-2.5-pro:\n\n**Parse Failures:** 2/10 runs (20%) failed due to MAX_TOKENS, indicating the model's reasoning process exhausts token limits on this complex 40-color panel.\n\n**Successful Predictions Analysis:**\n\nThe 8 successful runs show significant structural variation:\n- **Runs 1, 3, 7:** Nearly identical - include Time gate, gamma-delta T cells, MAIT cells, detailed Treg hierarchy (21 paths) - very detailed but includes populations not in ground truth\n- **Runs 4, 9, 10:** Nearly identical - double singlet gates (FSC then SSC), monocyte subtypes, limited T cell detail (8 paths)\n- **Run 5:** Time gate, Lymphocytes parent, memory T cell subsets (12 paths)\n- **Run 8:** Simplest structure, closest to ground truth format (5 paths shown)\n\n**Comparison to Ground Truth:**\n- Ground truth expects: Singlets > Live cells > Leukocytes > major populations (T, B, NK, ILC, Monocytes, Macrophages, DCs)\n- Model correctly identifies core populations (CD4+/CD8+ T cells, B cells, NK cells, Monocytes)\n- Model adds gates not in ground truth: Time gate, gamma-delta T cells, MAIT cells, Tregs, memory subsets\n- Model misses: ILCs, Macrophages, Dendritic cells (in most runs)\n- Structure differs: Model adds intermediate \"Lymphocytes\" parent not in ground truth\n\n**Key Issues:**\n1. Over-elaboration of T cell subsets beyond ground truth requirements\n2. Missing innate populations (DCs, Macrophages, ILCs)\n3. Inconsistent root structure (Time vs Cells)\n4. Token exhaustion on complex panels\n\nMEDIAN_QUALITY: 5 (correctly identifies major populations but over-elaborates T cells, misses some innate populations)\nCONSISTENCY: 4 (4 distinct structural patterns across 8 successful runs, variable depth and gate naming)\nWORST_CASE: 0 (complete parse failures due to MAX_TOKENS in 2 runs)\nBEST_CASE: 6 (Run 8 is closest to ground truth simplicity, captures core hierarchy)\nFAILURE_MODES: MAX_TOKENS truncation, over-elaboration of T cell subsets, missing innate populations (DCs/Macrophages/ILCs), inconsistent root gate naming (Time vs Cells), variable singlet gate structure\nRELIABILITY: low This model fails 20% of runs on complex panels and produces inconsistent hierarchies when it succeeds.\nSUMMARY: Gemini-2.5-pro demonstrates domain knowledge by identifying relevant populations but is unreliable for this task due to token exhaustion on complex panels and inconsistent structural output across runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2521,
      "timestamp": "2026-01-13T04:36:07.571700",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.5,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "missing B cell branch (40% of runs), spurious \"Cells\" gate, incorrect parent structure (Lymphocytes vs Leukocytes), missing specific populations (Plasmablasts/Activated B/Memory B), ICOS+ on wrong subset",
      "reliability": "medium The model produces biologically reasonable hierarchies but inconsistently captures both major lineages, and specific populations vary between runs.",
      "summary": "Gemini-2.5-pro demonstrates competent immunology knowledge with reasonable gating structures, but shows concerning inconsistency across runs with 40% missing the B cell branch entirely and variable population naming that doesn't match the specific ground truth designations.",
      "raw_response": "Looking at the 10 runs, I can identify distinct prediction patterns and evaluate against the ground truth.\n\n## Analysis\n\n**Ground Truth Structure:**\n- All Events > Singlets > Live cells > Lymphocytes > B cells/T cells branches\n- Key populations: Plasma cells, Plasmablasts, Activated B cells, Memory B cells, Naive T, Effector memory T, Central memory T, Regulatory T cells > ICOS+ Treg\n\n**Prediction Patterns (4 unique):**\n\n1. **Runs 1, 2, 7, 9** (4/10): Add spurious \"Cells\" gate, include CD4/CD8 split with memory subsets, Tfh, Tregs. Miss B cell lineage entirely or truncated.\n\n2. **Runs 3, 5, 10** (3/10): Best alignment - includes B cells (Plasma cells, Follicular, Marginal Zone) and T cells (Tregs, Tfh, memory). Structure closer to ground truth.\n\n3. **Runs 4, 6** (2/10): Missing B cell detail, focus on CD4 T cells with memory subsets and ICOS+ Tfh.\n\n4. **Run 8** (1/10): Includes Tconv hierarchy with memory subsets, Tregs, Tfh. Better structure but still misses B cells.\n\n**Key Issues:**\n- Ground truth has \"Lymphocytes\" gate; predictions use \"CD45+ Leukocytes\" (reasonable but different)\n- Ground truth specifies Plasmablasts, Activated B cells, Memory B cells; predictions give Follicular/Marginal Zone B cells instead (different but biologically valid murine B cell subsets)\n- 40% of runs omit B cell branch entirely\n- Ground truth has ICOS+ Treg; only 2 predictions include ICOS+ (on Tfh, not Tregs)\n- Spurious \"Cells\" gate in 40% of runs\n- No prediction captures the exact ground truth memory T cell structure under generic \"T cells\" - all nest under CD4+ or CD8+\n\nMEDIAN_QUALITY: 6 (captures major lineages and many populations but structural deviations and missing specific populations)\nCONSISTENCY: 5 (4 distinct patterns across 10 runs; some clustering but notable variation)\nWORST_CASE: 4 (runs omitting B cells entirely miss half the expected hierarchy)\nBEST_CASE: 7 (runs 3/5/10 capture both B and T branches with reasonable depth)\nFAILURE_MODES: missing B cell branch (40% of runs), spurious \"Cells\" gate, incorrect parent structure (Lymphocytes vs Leukocytes), missing specific populations (Plasmablasts/Activated B/Memory B), ICOS+ on wrong subset\nRELIABILITY: medium The model produces biologically reasonable hierarchies but inconsistently captures both major lineages, and specific populations vary between runs.\nSUMMARY: Gemini-2.5-pro demonstrates competent immunology knowledge with reasonable gating structures, but shows concerning inconsistency across runs with 40% missing the B cell branch entirely and variable population naming that doesn't match the specific ground truth designations.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1617,
      "timestamp": "2026-01-13T04:36:31.879504",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.7,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing intermediate T cells gate, hallucinated DN/DP populations, added Time gate, inconsistent gate naming",
      "reliability": "medium The model reliably predicts a sensible T cell hierarchy but consistently omits the intermediate T cells gate and adds populations not specified in ground truth.",
      "summary": "Model demonstrates solid domain knowledge of T cell flow cytometry but systematically deviates from ground truth by flattening the hierarchy (skipping T cells gate) and adding extra populations (DN/DP), making it useful for general guidance but not precise hierarchy replication.",
      "raw_response": "Looking at the 10 runs, I'll evaluate the model's performance against the ground truth.\n\n**Key Observations:**\n\n1. **Structural additions:** All 10 runs add a \"Time\" gate between \"All Events\" and \"Singlets\" that isn't in ground truth. This is actually a reasonable practice (time gating removes acquisition artifacts) but represents a systematic deviation.\n\n2. **Missing T cells gate:** Ground truth has `Lymphocytes > T cells > CD4+/CD8+`, but the model skips the intermediate \"T cells\" gate and goes directly `Lymphocytes > CD4/CD8 T Cells`. This is a consistent structural error across all runs.\n\n3. **Extra gates:** All runs add \"Double Negative\" and \"Double Positive\" populations not in ground truth. While these are real populations in a CD4/CD8 plot, they aren't part of the specified hierarchy.\n\n4. **Naming variations:** Minor inconsistencies like \"Live\" vs \"Live Cells\", \"CD4+\" vs \"CD4\", \"Lymphocytes\" vs \"Cells\" (runs 7-8).\n\n5. **Core gates present:** All runs correctly identify Singlets, Live, Lymphocytes (mostly), CD4+ T cells, CD8+ T cells.\n\n**Analysis:**\n\n- The model demonstrates strong understanding of T cell flow cytometry conventions\n- The Time gate addition is defensible (good practice)\n- Missing the intermediate \"T cells\" gate is a real structural error - it collapses two gating steps into one\n- Adding DN/DP populations shows domain knowledge but deviates from ground truth\n- Runs 7-8 use generic \"Cells\" instead of \"Lymphocytes\" - worse quality\n\nMEDIAN_QUALITY: 6 (captures core populations but misses T cell intermediate gate and adds extra populations)\nCONSISTENCY: 7 (same structural pattern in all runs, minor naming variations)\nWORST_CASE: 5 (runs 7-8 use \"Cells\" instead of \"Lymphocytes\", losing specificity)\nBEST_CASE: 7 (runs with \"Lymphocytes\" and proper naming get core hierarchy mostly right)\nFAILURE_MODES: missing intermediate T cells gate, hallucinated DN/DP populations, added Time gate, inconsistent gate naming\nRELIABILITY: medium The model reliably predicts a sensible T cell hierarchy but consistently omits the intermediate T cells gate and adds populations not specified in ground truth.\nSUMMARY: Model demonstrates solid domain knowledge of T cell flow cytometry but systematically deviates from ground truth by flattening the hierarchy (skipping T cells gate) and adding extra populations (DN/DP), making it useful for general guidance but not precise hierarchy replication.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.4,
      "consistency_score": 0.33333333333333337,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1630,
      "timestamp": "2026-01-13T04:36:55.452400",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.2,
      "worst_case": 0.0,
      "best_case": 0.5,
      "failure_modes": "MAX_TOKENS truncation, HSPC hallucination, missing NKT cells, missing Marginal Zone B cells, inconsistent intermediate gates",
      "reliability": "low - Model fails 60% of the time due to token limits and hallucinates stem cell populations when it does respond.",
      "summary": "Gemini-2.5-pro is unreliable for this panel due to frequent MAX_TOKENS failures and systematic hallucination of HSPC populations not present in the ground truth.",
      "raw_response": "Looking at the 10 runs for OMIP-077 with gemini-2.5-pro:\n\n**Key Observations:**\n\n1. **60% failure rate** - 6/10 runs hit MAX_TOKENS and returned empty responses. This is a critical reliability issue.\n\n2. **Successful predictions (Runs 3, 6, 9, 10)** show reasonable structure but diverge significantly from ground truth:\n   - Ground truth focuses on mature leukocyte subsets (T cells, NK cells, B cells, monocytes, DCs)\n   - Model predictions add HSPC/stem cell populations (HSCs, MPPs, progenitors) not in ground truth\n   - Model uses different intermediate gates (\"CD34- Mature Cells\", \"Lineage Negative\")\n\n3. **Structural consistency among successful runs is moderate** - all use Singlets > Live > CD45+ pattern, but branch differently after that. Runs 3 and 6 are identical, but Runs 9 and 10 differ from each other and from 3/6.\n\n4. **Hallucination issue** - HSPCs, HSCs, and progenitor populations appear in all successful predictions but are NOT in the ground truth hierarchy for this OMIP (which is a mature leukocyte phenotyping panel, not a stem cell panel).\n\n5. **Critical gates partially captured** - T cells, B cells, NK cells, monocytes, and DCs are present in successful predictions, but the specific subsets differ (e.g., model outputs \"Classical Monocytes\" which matches ground truth, but also adds cell types not expected).\n\n**Evaluation:**\n\nMEDIAN_QUALITY: 3 (when it works, captures major lineages but adds spurious HSPC populations and misses specific subsets like NKT cells, Marginal Zone B cells)\nCONSISTENCY: 2 (60% complete failures; successful runs show 3 distinct hierarchies)\nWORST_CASE: 0 (MAX_TOKENS failures produce no usable output)\nBEST_CASE: 5 (Run 10 has reasonable mature cell structure but still includes HSPCs incorrectly)\nFAILURE_MODES: MAX_TOKENS truncation, HSPC hallucination, missing NKT cells, missing Marginal Zone B cells, inconsistent intermediate gates\nRELIABILITY: low - Model fails 60% of the time due to token limits and hallucinates stem cell populations when it does respond.\nSUMMARY: Gemini-2.5-pro is unreliable for this panel due to frequent MAX_TOKENS failures and systematic hallucination of HSPC populations not present in the ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 886,
      "timestamp": "2026-01-13T04:37:15.895912",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.5-pro on OMIP-053 (Treg Identification)\n\n**MEDIAN_QUALITY: 7** \nThe model correctly identifies the core gating path (Singlets \u2192 Live \u2192 Lymphocytes \u2192 CD4+ \u2192 FoxP3+ Tregs) but consistently adds an extraneous \"Time\" gate and omits the FoxP3- non-Treg branch entirely.\n\n**CONSISTENCY: 9**\nHighly consistent - 9/10 runs produced nearly identical hierarchies with only minor capitalization differences. Run 8 substituted \"Cells\" for \"Time\" but maintained the same structure.\n\n**WORST_CASE: 6**\nRun 8 is marginally worse with the ambiguous \"Cells\" gate and dropping the \"(FoxP3+)\" qualifier from \"Tregs\", making the terminal gate less specific.\n\n**BEST_CASE: 7**\nAll other runs (1-7, 9-10) achieve the same quality - correct core path but with systematic errors that prevent a higher score.\n\n**FAILURE_MODES: hallucinated Time gate, missing FoxP3- non-Treg branch, incomplete hierarchy depth**\n\n**RELIABILITY: medium** The model reliably produces a reasonable approximation of Treg gating but systematically omits the negative control population (FoxP3- non-Treg), which is scientifically important for proper Treg analysis.\n\n**SUMMARY: gemini-2.5-pro demonstrates excellent consistency but exhibits a systematic bias toward predicting only the \"positive\" terminal population while hallucinating a Time gate that isn't in the ground truth, suggesting memorization of common flow cytometry patterns rather than precise panel-specific reasoning.**",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2301,
      "timestamp": "2026-01-13T04:37:40.277168",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.6,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing Time Gate, over-enumeration of cytokine gates instead of functional grouping, inconsistent lymphocyte gate inclusion, variable nomenclature for flow stability gate",
      "reliability": "medium The model reliably captures the core T cell hierarchy but inconsistently applies early quality gates and tends toward over-detailed cytokine enumeration rather than conceptual groupings.",
      "summary": "Gemini-2.5-pro demonstrates solid understanding of T cell immunophenotyping structure but lacks consistency in early gating steps and consistently over-enumerates functional readouts rather than matching the expected abstract groupings.",
      "raw_response": "Looking at the predictions across 10 runs against the expected hierarchy, let me evaluate:\n\n**Expected Structure:**\n- All Events > Time Gate > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ > Memory Subsets/Functional Analysis\n\n**Key Observations:**\n\n1. **Missing gates**: All predictions miss the \"Time Gate\" that should come after \"All Events\" (some runs have \"Stable Flow\" which is conceptually similar but not consistent)\n\n2. **Missing Lymphocytes gate**: Runs 1-3, 6-7 skip directly from \"Live Cells\" to \"T Cells\", omitting \"Lymphocytes\"\n\n3. **Overly granular cytokine gates**: All runs enumerate individual cytokine gates (IFN-\u03b3+, IL-2+, TNF+, etc.) as separate terminal nodes rather than grouping as \"Functional Analysis\"\n\n4. **Missing abstraction**: Instead of \"Memory Subsets\" as a grouping, predictions enumerate specific memory phenotypes (Naive, Central Memory, Effector Memory, TEMRA) with cytokines under each\n\n5. **Structural variations**: \n   - Runs 1-3, 6-7: Simpler structure (missing Lymphocytes)\n   - Runs 4, 8, 10: More complete with \"Stable Flow\", \"Lymphocytes\", marker definitions\n   - Run 5: Has \"Viable > Cells > Lymphocytes\" (unusual intermediate \"Cells\" gate)\n   - Run 9: Has \"Lin-\" as a separate gate\n\n6. **CD8+ coverage**: All runs include both CD4 and CD8 branches appropriately\n\n7. **Core hierarchy preserved**: Despite variations, the essential flow from singlets \u2192 live \u2192 T cells \u2192 CD4/CD8 \u2192 memory/function is present\n\nMEDIAN_QUALITY: 6 (correctly identifies major populations and functional readouts but misses Time Gate, over-enumerates cytokines instead of grouping)\nCONSISTENCY: 6 (4 unique structures across 10 runs; major elements stable but early gating and nomenclature vary)\nWORST_CASE: 5 (Run 5 with unusual \"Viable > Cells\" intermediate gate adds confusion)\nBEST_CASE: 7 (Runs 4, 8, 10 include lymphocyte gate and marker definitions, closest to expected structure)\nFAILURE_MODES: missing Time Gate, over-enumeration of cytokine gates instead of functional grouping, inconsistent lymphocyte gate inclusion, variable nomenclature for flow stability gate\nRELIABILITY: medium The model reliably captures the core T cell hierarchy but inconsistently applies early quality gates and tends toward over-detailed cytokine enumeration rather than conceptual groupings.\nSUMMARY: Gemini-2.5-pro demonstrates solid understanding of T cell immunophenotyping structure but lacks consistency in early gating steps and consistently over-enumerates functional readouts rather than matching the expected abstract groupings.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.3,
      "consistency_score": 0.0,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1648,
      "timestamp": "2026-01-13T04:38:03.496441",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.1,
      "worst_case": 0.0,
      "best_case": 0.6,
      "failure_modes": "MAX_TOKENS truncation (70%), inconsistent gate naming across runs, simplified early hierarchy",
      "reliability": "low - Model fails to complete output 70% of the time on this complex panel due to token limits",
      "summary": "gemini-2.5-pro is unreliable for OMIP-101 due to reasoning token consumption causing MAX_TOKENS failures in 7/10 runs; increase max_tokens or use a less reasoning-intensive model.",
      "raw_response": "Looking at this evaluation across 10 runs:\n\n**Parse Success Rate: 30% (3/10 runs)**\n- 7 runs failed with MAX_TOKENS (the model ran out of output tokens before completing)\n- Only runs 2, 4, and 8 produced parseable hierarchies\n\n**Successful Predictions Analysis:**\n\nThe 3 successful runs show reasonable structural understanding:\n- All capture the basic flow: Events \u2192 Singlets \u2192 Live/Viable \u2192 CD45+ Leukocytes \u2192 major lineages\n- They correctly identify T cell subsets (CD4/CD8, naive/memory/effector), \u03b3\u03b4 T cells, NK cells\n- Run 8 is most comprehensive (39 gates), Run 2 and 4 have ~22-25 gates\n\n**Comparison to Ground Truth:**\n- Ground truth has a deeper initial hierarchy (Time gate > Singlets > Non-beads > Leukocytes > Non-aggregates > Non-granulocytes)\n- Predictions simplify early gating but capture similar endpoint populations\n- Missing: explicit \"Non-beads\", \"Non-aggregates\" gates; mDC/pDC nomenclature differs\n- Present: T cell memory subsets, NK subsets, B cell subsets match reasonably\n\n**Key Issues:**\n1. **MAX_TOKENS failures (70%)**: Model's reasoning consumes too many tokens for this complex 27-color panel\n2. **Structural variation**: Each successful run uses different parent hierarchy naming\n3. **Inconsistent depth**: Runs vary from 22 to 39 gates\n\nMEDIAN_QUALITY: 5 (successful predictions show decent biological understanding but differ structurally from ground truth)\nCONSISTENCY: 1 (70% parse failures, and the 3 successful runs have completely different gate naming conventions)\nWORST_CASE: 0 (7 runs produced no usable output due to MAX_TOKENS)\nBEST_CASE: 6 (Run 8 captures most major populations with reasonable structure)\nFAILURE_MODES: MAX_TOKENS truncation (70%), inconsistent gate naming across runs, simplified early hierarchy\nRELIABILITY: low - Model fails to complete output 70% of the time on this complex panel due to token limits\nSUMMARY: gemini-2.5-pro is unreliable for OMIP-101 due to reasoning token consumption causing MAX_TOKENS failures in 7/10 runs; increase max_tokens or use a less reasoning-intensive model.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2439,
      "timestamp": "2026-01-13T04:38:28.143162",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.7,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing RM/AM/TLM memory classification, alternative root gate naming, occasional hallucinated populations (Plasmablasts), inconsistent singlet gate depth",
      "reliability": "medium - Model reliably captures IgG/IgA subclass structure but misses the specific CD21/CD27-defined memory subset nomenclature central to OMIP-074.",
      "summary": "Gemini-2.5-pro demonstrates solid understanding of B cell class-switching and IgG/IgA subclass gating but systematically misses the OMIP-074-specific memory B cell classifications (RM/AM/TLM), suggesting retrieval of general B cell immunology rather than paper-specific gating strategy.",
      "raw_response": "Looking at the predictions across 10 runs against the expected hierarchy for OMIP-074 (B cell IgG/IgA subclass phenotyping):\n\n**Key Observations:**\n\n1. **Root gates diverge from ground truth**: Model consistently uses \"Stable Flow > Cells > Singlets\" instead of \"Time gate > Singlets > Lymphocytes\". This is a reasonable alternative gating strategy but doesn't match the expected hierarchy.\n\n2. **Core B cell populations captured well**: All runs correctly identify Naive B cells, memory subsets, and IgG/IgA subclass hierarchy (IgG1-4, IgA1-2).\n\n3. **Nomenclature differences**: \n   - \"Switched Memory\" vs expected \"Class-switched B cells\"\n   - \"Non-switched Memory\" vs expected \"Resting Memory (RM)\", \"Activated Memory (AM)\", \"Tissue-like Memory (TLM)\"\n   - The model's terminology is immunologically valid but doesn't match OMIP-074's specific naming\n\n4. **Missing ground truth gates**: The model misses the specific memory classifications (RM, AM, TLM) which are defined by CD21/CD27 expression - a key feature of this OMIP.\n\n5. **Consistency clusters**: Runs 1,2,4,6,7 are nearly identical. Runs 5,9 share a \"Singlets 1 > Singlets 2\" pattern. Runs 3,10 add \"Plasmablasts\" and \"Atypical Memory\" - reasonable populations but not in ground truth.\n\n6. **Hallucinations in some runs**: Runs 3,10 add populations (Plasmablasts, Atypical Memory, IgKappa/Lambda subdivision of naive) not present in the expected hierarchy.\n\nMEDIAN_QUALITY: 6 (captures IgG/IgA subclass structure correctly but misses specific memory subset nomenclature)\nCONSISTENCY: 7 (6/10 runs nearly identical, remaining 4 show meaningful variation)\nWORST_CASE: 5 (runs 3,10 add hallucinated populations like Plasmablasts not in panel markers)\nBEST_CASE: 7 (runs 1,2,4,6,7 have correct IgG/IgA subclass structure, reasonable gating hierarchy)\nFAILURE_MODES: missing RM/AM/TLM memory classification, alternative root gate naming, occasional hallucinated populations (Plasmablasts), inconsistent singlet gate depth\nRELIABILITY: medium - Model reliably captures IgG/IgA subclass structure but misses the specific CD21/CD27-defined memory subset nomenclature central to OMIP-074.\nSUMMARY: Gemini-2.5-pro demonstrates solid understanding of B cell class-switching and IgG/IgA subclass gating but systematically misses the OMIP-074-specific memory B cell classifications (RM/AM/TLM), suggesting retrieval of general B cell immunology rather than paper-specific gating strategy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.7,
      "consistency_score": 0.33333333333333337,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2418,
      "timestamp": "2026-01-13T04:38:53.804697",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.4,
      "worst_case": 0.0,
      "best_case": 0.7,
      "failure_modes": "parse failure (prose instead of JSON), missing stem cell memory/transitional memory subsets, inconsistent gate naming, excessive QC gate insertion, Th-polarization hallucinations",
      "reliability": "low - 30% parse failure rate and high structural variance make this model unreliable for production use on complex CyTOF panels",
      "summary": "Gemini-2.5-pro demonstrates good domain knowledge of T-cell immunology but fails to reliably produce parseable output and shows significant run-to-run variance in both structure and completeness.",
      "raw_response": "Looking at the 10 runs for OMIP-087 (a 32-parameter CyTOF T-cell memory panel):\n\n**Parse Failures (3/10 runs):** Runs 1, 6, and 8 failed to produce parseable hierarchies - the model generated prose analysis instead of structured output. Run 9 produced malformed output with markdown headers mixed into the hierarchy.\n\n**Successful Predictions (6/10 runs):** Runs 2-5, 7, and 10 produced valid hierarchies that capture the core T-cell memory structure. These show:\n- Correct identification of CD4/CD8 T cell branches\n- Memory subset differentiation (Naive, Tcm, Tem, Temra)\n- Tregs and Tfh populations\n- Gamma-delta T cells as a parallel branch\n\n**Comparison to Ground Truth:**\n- Ground truth uses simple hierarchy: All Events > Leukocytes > T cells > CD4+/CD8+ > memory subsets\n- Predictions add extra QC gates (Time, Singlets, Live) not in ground truth but scientifically reasonable for CyTOF\n- Predictions correctly identify most expected populations but organize them differently (e.g., Th1/Th2/Th17 subsets nested under memory, Tconv as intermediate node)\n- Missing: \"Stem cell memory\" and \"Transitional memory\" populations consistently absent\n- Added: Th polarization states (Th1, Th2, Th17) and chemokine receptor-based subsets not in ground truth\n\n**Consistency Issues:** Even successful runs vary in nomenclature (Tcm vs Central Memory), hierarchy depth, and which subsets are included.\n\nMEDIAN_QUALITY: 6 (captures major populations but misses specific memory subsets and adds non-ground-truth intermediate nodes)\nCONSISTENCY: 4 (30% parse failure rate; successful runs use inconsistent naming and structure)\nWORST_CASE: 0 (complete parse failures producing no usable hierarchy)\nBEST_CASE: 7 (Run 4/5 capture most expected populations with reasonable structure)\nFAILURE_MODES: parse failure (prose instead of JSON), missing stem cell memory/transitional memory subsets, inconsistent gate naming, excessive QC gate insertion, Th-polarization hallucinations\nRELIABILITY: low - 30% parse failure rate and high structural variance make this model unreliable for production use on complex CyTOF panels\nSUMMARY: Gemini-2.5-pro demonstrates good domain knowledge of T-cell immunology but fails to reliably produce parseable output and shows significant run-to-run variance in both structure and completeness.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.9,
      "consistency_score": 0.5,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2366,
      "timestamp": "2026-01-13T04:39:19.210876",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.5-pro on OMIP-064\n\n**Ground Truth Analysis:**\nThe expected hierarchy focuses on:\n- MAIT cells (under T cells)\n- \u03b3\u03b4 T cells (under T cells)  \n- NK cells with Activated NK subset (under Innate Lymphoid Cells)\n- Other ILC subsets\n\n**Prediction Analysis:**\n\n**Strengths across runs:**\n- All successful runs correctly identify the core gating path: All Events \u2192 Singlets \u2192 Live Cells \u2192 Lymphocytes \u2192 T cells\n- MAIT cells consistently identified (9/9 successful runs)\n- \u03b3\u03b4 T cells (Gamma Delta) consistently identified with appropriate Vd2+/Vd2- subsets (9/9 runs)\n- Model appropriately expands beyond ground truth with additional T cell subsets (CD4, CD8)\n\n**Critical failures:**\n1. **Missing ILC/NK branch entirely** - None of the 10 runs identify the Innate Lymphoid Cells branch, NK cells, or Activated NK cells. This is a fundamental miss of 50% of the ground truth hierarchy.\n2. **Run 5 token limit failure** - MAX_TOKENS truncation on this complex 27-color panel\n3. **Hallucinated populations** - Monocytes, B cells, Th2 subsets not in ground truth (though potentially valid for the panel)\n\n**Structural variations:**\n- Runs 1-2, 10: Include Time Gate inconsistently\n- Runs 3, 9: Add dual singlet gates (FSC and SSC)\n- Runs 6, 8: MAIT incorrectly placed under CD8 T cells (should be separate from conventional \u03b1\u03b2 T cells)\n\n**MEDIAN_QUALITY: 5** (identifies T cell populations well but completely misses ILC/NK lineage)\n\n**CONSISTENCY: 4** (5 unique gate sets across 10 runs; structural variations in early gating and T cell organization)\n\n**WORST_CASE: 0** (Run 5 - complete parse failure due to token limit)\n\n**BEST_CASE: 6** (Runs 1-2, 4 show reasonable T cell gating but still miss ILC branch entirely)\n\n**FAILURE_MODES:** Missing ILC/NK branch, token limit truncation, variable singlet gating structure, MAIT misplacement under CD8, hallucinated monocyte/B cell branches\n\n**RELIABILITY: low** This model cannot be relied upon for this task - it systematically fails to identify the ILC/NK populations which represent half the ground truth hierarchy, and has a 10% token limit failure rate on this complex panel.\n\n**SUMMARY:** The model demonstrates competent T cell subset identification but exhibits a critical blind spot for Innate Lymphoid Cells and NK populations, making it unreliable for comprehensive immunophenotyping panels despite reasonable consistency within its limited scope.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2448,
      "timestamp": "2026-01-13T04:39:41.938265",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.5-pro on OMIP-025 (10 runs)\n\n**MEDIAN_QUALITY: 7** \nThe model correctly identifies the core hierarchy (All Events \u2192 Singlets \u2192 Live Cells \u2192 Lymphocytes \u2192 T Cells \u2192 CD4+/CD8+/NK branches) and appropriately subdivides into memory subsets and functional populations. The predictions are scientifically reasonable gating strategies for OMIP-025's T/NK panel.\n\n**CONSISTENCY: 8**\nHigh consistency with 7/10 runs producing nearly identical hierarchies (the \"Stable Flow\" variant). Only 3 unique gate sets across 10 runs, with variations being minor (Run 5 uses slightly different naming, Run 8 adds a Lin- gate). The 0.78 consistency score reflects this.\n\n**WORST_CASE: 6**\nRun 8 introduces an unusual \"Lin- (CD14- CD19-)\" intermediate gate between Lymphocytes and T Cells that deviates from standard practice and the ground truth. While not wrong per se (lineage exclusion is valid), it's inconsistent with the expected hierarchy structure.\n\n**BEST_CASE: 8**\nRuns 1-4, 6-7, 9-10 provide detailed, well-structured hierarchies that capture memory subset stratification (Naive/Tcm/Tem) and Tfh identification. They go beyond the ground truth's abstraction level with appropriate marker-based subdivisions.\n\n**FAILURE_MODES:** Added \"Stable Flow\" gate not in ground truth, inconsistent Tfh placement (nested under memory vs parallel), missing explicit \"Functional subsets\" abstraction layer, occasional Lin- intermediate gate insertion\n\n**RELIABILITY: medium** The model produces scientifically valid gating strategies but introduces structural variations (Stable Flow gate, Tfh nesting) that don't match the ground truth's abstraction level.\n\n**SUMMARY:** gemini-2.5-pro demonstrates strong domain knowledge and high run-to-run consistency for OMIP-025, but its predictions are more granular than the ground truth expects, leading to structural mismatches despite being immunologically sound.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2946,
      "timestamp": "2026-01-13T04:40:07.927805",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-083 Monocyte Subset Gating\n\n### Ground Truth Analysis\nThe expected hierarchy focuses specifically on **monocyte subset identification**:\n- Classical Monocytes (CD14++ CD16-)\n- Intermediate Monocytes (CD14++ CD16+)\n- SLAN+ Nonclassical Monocytes (CD14+ CD16++)\n- SLAN- Nonclassical Monocytes (CD14+ CD16++)\n\nKey structural feature: Uses \"Other Monocyte Subsets\" as intermediate grouping for non-classical populations.\n\n### Prediction Analysis\n\n**Consistent elements across all runs:**\n- All correctly identify monocyte subsets as terminal gates\n- All include Classical, Intermediate, and Non-classical monocytes\n- All place monocytes under a lineage-negative myeloid parent\n\n**Key discrepancies:**\n1. **Missing SLAN distinction**: No run differentiates SLAN+ vs SLAN- nonclassical monocytes (critical marker in this panel)\n2. **Missing \"Other Monocyte Subsets\" grouping**: All runs place Intermediate and Non-classical monocytes as direct children of Monocytes rather than under an intermediate node\n3. **Over-elaboration of upstream gates**: Predictions include many gates not in ground truth (Neutrophils, T cells, B cells, NK cells, Basophils)\n4. **Variable pre-gating depth**: Runs show 3 distinct patterns for upstream gating (4-run, 2-run, 4-run clusters)\n\n**Run pattern clusters:**\n- **Runs 1,5,7,9**: Deep hierarchy with Time Gate > Intact Cells > Singlets 1 > Singlets 2 > CD45+ > CD42b- > CD66b- > Lin- > HLA-DR+ > Monocytes\n- **Runs 2,8**: Simpler with Cells > Singlets > CD42b- > CD45+ > Non-Neutrophils > Lin- Myeloid > Monocytes\n- **Runs 3,4,6,10**: Time Gate > Cells > Singlets > Live Cells > CD45+ > CD66b- > Lin- > Monocytes\n\n---\n\n**MEDIAN_QUALITY: 5** (correctly identifies 3/4 monocyte subsets but misses SLAN distinction and structural grouping)\n\n**CONSISTENCY: 7** (monocyte subset identification is stable; upstream gating varies but terminal gates are consistent)\n\n**WORST_CASE: 5** (all runs have same core deficiency - missing SLAN marker usage)\n\n**BEST_CASE: 5** (no run achieves SLAN distinction or correct intermediate grouping)\n\n**FAILURE_MODES: missing SLAN+/SLAN- nonclassical distinction, missing \"Other Monocyte Subsets\" intermediate node, over-predicts non-monocyte populations beyond scope\n\n**RELIABILITY: medium** The model reliably identifies standard monocyte subsets but cannot infer specialized marker usage (SLAN) that requires paper-specific knowledge not deducible from panel markers alone.\n\n**SUMMARY: Gemini-2.5-pro consistently predicts conventional CD14/CD16 monocyte subsets but fails to capture the SLAN-based nonclassical subdivision that distinguishes this particular OMIP protocol.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.5555555555555556,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2173,
      "timestamp": "2026-01-13T04:40:33.908433",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.4,
      "worst_case": 0.2,
      "best_case": 0.5,
      "failure_modes": "substitutes CD56dim/bright for Mamu-KIR3DL01\u00b1 gating, misses CD16/CD56 combination gates, inconsistent pre-gating nomenclature, collapses KIR detail in 40% of runs",
      "reliability": "low The model applies generic NK immunology conventions rather than reading the specific OMIP-035 macaque KIR gating strategy, producing biologically reasonable but structurally incorrect hierarchies.",
      "summary": "The model demonstrates NK cell biology knowledge but fails to reproduce the macaque-specific Mamu-KIR receptor hierarchy, defaulting to human CD56dim/bright conventions and showing significant run-to-run variability in both structure and detail level.",
      "raw_response": "Looking at these predictions across 10 runs, I'll evaluate against the ground truth hierarchy.\n\n**Key observations:**\n\n1. **Ground truth structure**: The expected hierarchy gates on Mamu-KIR3DL01+/- first, then KIR3DL05+/- underneath, plus separate CD16/CD56 combination gates (CD16+ CD56+, CD16+ CD56-, CD16- CD56+) all as siblings under NK cells.\n\n2. **Model predictions**: The model consistently:\n   - Uses CD56dim/CD56bright as the primary NK subdivision instead of Mamu-KIR3DL01+/-\n   - Places KIR gates underneath CD56 subsets rather than using the Mamu-KIR nomenclature\n   - Adds extra gates not in ground truth (Time Gate, Cells, double singlet gates)\n   - Misses the specific CD16/CD56 combination gates entirely\n\n3. **Structural differences**:\n   - Ground truth: NK > Mamu-KIR3DL01\u00b1 > KIR3DL05\u00b1\n   - Predictions: NK > CD56dim/bright > KIR3DL01\u00b1 KIR3DL05\u00b1\n\n4. **Variability issues**:\n   - Runs 4, 5, 9, 10 collapse KIR to generic \"KIR Expression\" placeholder\n   - Runs 1, 2, 3, 6, 7, 8 expand KIR combinations but under wrong parent structure\n   - Initial gating varies: \"Cells\", \"Time Gate\", \"Stable Flow\", \"Intact Cells\"\n\n5. **What's correct**:\n   - All runs identify NK cells\n   - KIR receptor combinations (when expanded) match the biological markers\n   - Basic quality control gates (singlets, live) are present\n\nMEDIAN_QUALITY: 4 (captures NK biology but wrong hierarchical organization, misses Mamu-KIR primary split and CD16/CD56 combo gates)\nCONSISTENCY: 4 (5 unique gate sets across 10 runs, varying initial gates, some runs collapse KIR detail)\nWORST_CASE: 2 (runs 4,5,9,10 with generic \"KIR Expression\" placeholder lose all specific gate information)\nBEST_CASE: 5 (runs 6,7,8 with expanded KIR gates, though still wrong parent structure)\nFAILURE_MODES: substitutes CD56dim/bright for Mamu-KIR3DL01\u00b1 gating, misses CD16/CD56 combination gates, inconsistent pre-gating nomenclature, collapses KIR detail in 40% of runs\nRELIABILITY: low The model applies generic NK immunology conventions rather than reading the specific OMIP-035 macaque KIR gating strategy, producing biologically reasonable but structurally incorrect hierarchies.\nSUMMARY: The model demonstrates NK cell biology knowledge but fails to reproduce the macaque-specific Mamu-KIR receptor hierarchy, defaulting to human CD56dim/bright conventions and showing significant run-to-run variability in both structure and detail level.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.5555555555555556,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2707,
      "timestamp": "2026-01-13T04:40:59.207007",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.5,
      "worst_case": 0.2,
      "best_case": 0.7,
      "failure_modes": "species-inappropriate markers (CD45RA in mouse), missing ILC/DC/macrophage populations, format failure (Run 7), inconsistent gate naming conventions",
      "reliability": "medium - Model produces usable hierarchies 90% of the time but applies human immunology conventions to mouse samples, which would cause problems in actual analysis",
      "summary": "Gemini-2.5-pro reliably generates structurally sound gating hierarchies but conflates human and mouse immunophenotyping conventions, missing species-specific marker logic despite the context specifying mouse tissues.",
      "raw_response": "Looking at these 10 predictions for OMIP-095 (a 40-color mouse panel), I'll evaluate the model's performance.\n\n**Key Observations:**\n\n1. **Core hierarchy structure is consistently correct**: All valid runs capture the essential flow: All Events \u2192 quality control gates \u2192 Live Cells \u2192 CD45+ Leukocytes \u2192 major lineages (T cells, B cells, NK cells, Monocytes)\n\n2. **Appropriate depth**: The model correctly identifies T cell subsets (CD4/CD8) and memory phenotypes (Naive, CM, EM, TEMRA) which are appropriate for this panel's markers\n\n3. **Run 7 is an outlier**: This run failed to produce proper hierarchical JSON, instead outputting prose descriptions with malformed paths\n\n4. **Species confusion**: The ground truth says \"mouse\" but predictions include human-specific conventions (TEMRA phenotyping with CD45RA, classical/intermediate/non-classical monocytes). Mouse T cells don't express CD45RA - they use CD44/CD62L for memory phenotyping. This is a significant biological error.\n\n5. **Missing populations**: ILCs, Macrophages, and Dendritic cells from the ground truth are largely absent or inconsistently predicted\n\n6. **Extra QC gates**: Model adds Time Gate and dual singlet gates (Singlets 1, Singlets 2) which are reasonable additions but differ from ground truth\n\n7. **Naming variation**: \"Singlets 1/Singlets 2\" vs \"Singlets I/Singlets II\" vs \"Scatter Gate\" shows surface-level inconsistency, though semantically equivalent\n\nMEDIAN_QUALITY: 6 (captures major lineages correctly but applies human conventions to mouse samples)\nCONSISTENCY: 5 (8/10 runs structurally similar, but naming varies and 1 run completely failed format)\nWORST_CASE: 2 (Run 7 produced malformed prose instead of hierarchy)\nBEST_CASE: 7 (Runs 3-4 include broader lineage coverage including myeloid subsets)\nFAILURE_MODES: species-inappropriate markers (CD45RA in mouse), missing ILC/DC/macrophage populations, format failure (Run 7), inconsistent gate naming conventions\nRELIABILITY: medium - Model produces usable hierarchies 90% of the time but applies human immunology conventions to mouse samples, which would cause problems in actual analysis\nSUMMARY: Gemini-2.5-pro reliably generates structurally sound gating hierarchies but conflates human and mouse immunophenotyping conventions, missing species-specific marker logic despite the context specifying mouse tissues.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2614,
      "timestamp": "2026-01-13T04:41:21.997832",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.6,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "B cell lineage omission, missing Plasmablasts/Memory B cells, missing ICOS+ Treg subset, hallucinated Tfh/GC-Tfh populations, inconsistent gate naming",
      "reliability": "medium The model reliably produces valid T cell hierarchies but inconsistently handles B cell populations, making it unreliable for complete panel coverage.",
      "summary": "Gemini-2.5-pro demonstrates partial competence on murine immunophenotyping, consistently capturing T cell memory subsets while systematically neglecting B cell lineages present in the ground truth.",
      "raw_response": "Looking at the 10 predictions against the ground truth for OMIP-076 (murine splenocyte panel):\n\n**Key Observations:**\n\n1. **Structural divergence from ground truth**: The expected hierarchy uses a simple \"Lymphocytes\" parent for both B and T cells, but the model consistently adds \"CD45+ Leukocytes\" as an intermediate gate (scientifically valid but structurally different).\n\n2. **B cell lineage largely missing**: The ground truth emphasizes B cell subsets (Plasma cells, Plasmablasts, Activated B cells, Memory B cells), but only Run 2 includes B cell populations. Runs 1, 3, 6-9 completely omit B cells.\n\n3. **T cell subset alignment**: The model correctly identifies Naive, Central Memory, Effector Memory T cells, and Tregs - matching the ground truth's T cell branch. However, it adds Tfh/GC-Tfh which aren't in the expected hierarchy.\n\n4. **Missing ICOS+ Treg**: The ground truth specifically calls out \"ICOS+ Treg\" as a Treg subset, which no prediction captures.\n\n5. **Naming variation**: Gate names vary across runs (e.g., \"Intact Cells\" vs \"Cells\" vs \"Time Gate\"; \"Tregs\" vs \"Regulatory T cells\"). This creates 4 unique gate sets despite similar structure.\n\n6. **Consistent omissions**: No run captures the full B cell branch or the specific Treg subset from ground truth.\n\nMEDIAN_QUALITY: 5 (captures T cell hierarchy reasonably well but systematically omits B cell lineage in most runs)\nCONSISTENCY: 6 (4 unique patterns from 10 runs; structural consistency is moderate but nomenclature varies)\nWORST_CASE: 4 (runs completely missing B cells fail to capture half the expected hierarchy)\nBEST_CASE: 6 (Run 2 includes B cells but still misses specific subsets like Memory B cells, Plasmablasts)\nFAILURE_MODES: B cell lineage omission, missing Plasmablasts/Memory B cells, missing ICOS+ Treg subset, hallucinated Tfh/GC-Tfh populations, inconsistent gate naming\nRELIABILITY: medium The model reliably produces valid T cell hierarchies but inconsistently handles B cell populations, making it unreliable for complete panel coverage.\nSUMMARY: Gemini-2.5-pro demonstrates partial competence on murine immunophenotyping, consistently capturing T cell memory subsets while systematically neglecting B cell lineages present in the ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1575,
      "timestamp": "2026-01-13T04:41:43.462007",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.6,
      "worst_case": 0.3,
      "best_case": 0.6,
      "failure_modes": "missing Live cells gate, missing T cells parent gate, hallucinated Double Negative/Double Positive populations, aberrant gate ordering in runs 4/9 (Lymphocytes before Singlets), inconsistent gate naming conventions",
      "reliability": "medium - The model captures the terminal CD4+/CD8+ split correctly but consistently misses intermediate gating steps and adds populations not specified in the panel.",
      "summary": "Model reliably identifies final T cell subsets but systematically omits the Live cells and T cells intermediate gates while hallucinating Double Positive/Negative populations not present in the ground truth hierarchy.",
      "raw_response": "Looking at the 10 runs, I'll evaluate gemini-2.5-pro's performance on OMIP-008:\n\n**Key Observations:**\n\n1. **Critical Missing Gates**: All 10 runs are missing \"Live cells\" and \"T cells\" gates that appear in the ground truth. The model consistently jumps from Lymphocytes directly to CD4+/CD8+ without the intermediate T cell gate.\n\n2. **Hallucinated Gates**: All runs add gates not in ground truth:\n   - Time/Time Gate (reasonable addition, common practice)\n   - Cells gate (reasonable)\n   - Double singlet gates (FSC + SSC variants - reasonable)\n   - Double Negative/Double Positive populations (not in ground truth)\n\n3. **Structural Variations**:\n   - Runs 1-3, 5-6, 10: Standard order (Time > Cells > Singlets > Lymphocytes > CD4/CD8)\n   - Runs 4, 9: Aberrant order (Lymphocytes BEFORE Singlets - biologically incorrect)\n   - Runs 7-8: Missing Lymphocytes gate entirely\n\n4. **Naming Inconsistency**: \"Time Gate\" vs \"Time\", \"Singlets (FSC)\" vs \"Singlets I\" vs \"Singlets 1\"\n\n**Scoring:**\n\nMEDIAN_QUALITY: 5\nCONSISTENCY: 6\nWORST_CASE: 3\nBEST_CASE: 6\nFAILURE_MODES: missing Live cells gate, missing T cells parent gate, hallucinated Double Negative/Double Positive populations, aberrant gate ordering in runs 4/9 (Lymphocytes before Singlets), inconsistent gate naming conventions\nRELIABILITY: medium - The model captures the terminal CD4+/CD8+ split correctly but consistently misses intermediate gating steps and adds populations not specified in the panel.\nSUMMARY: Model reliably identifies final T cell subsets but systematically omits the Live cells and T cells intermediate gates while hallucinating Double Positive/Negative populations not present in the ground truth hierarchy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.9,
      "consistency_score": 0.625,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2255,
      "timestamp": "2026-01-13T04:42:07.681639",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.7,
      "worst_case": 0.0,
      "best_case": 0.6,
      "failure_modes": "MAX_TOKENS truncation, HSPC/HSC hallucination, missing NK-T cells, missing Marginal Zone B cells, missing Plasma cells, over-complicated singlet gating",
      "reliability": "medium - Model produces structurally coherent hierarchies but consistently hallucates HSPCs and misses specific populations from ground truth; token exhaustion causes occasional complete failures.",
      "summary": "Gemini-2.5-pro shows moderate consistency in predicting pan-leukocyte hierarchies but systematically hallucates stem cell populations not in the target panel and misses several specialized populations, with occasional token-limit failures on this complex panel.",
      "raw_response": "Looking at the model's predictions across 10 runs compared to the ground truth for OMIP-077:\n\n**Key Observations:**\n\n1. **Structural Consistency**: Runs 1, 2, 4, 6, 7, 9 show nearly identical hierarchies (6/10 runs). Runs 3, 8, and 10 show variations in early gating steps.\n\n2. **Major Divergences from Ground Truth**:\n   - Ground truth uses simple \"Singlets > Live cells > Leukocytes\" while model predicts \"Intact Cells > Singlets 1 > Singlets 2 > CD45+ Leukocytes\" (reasonable alternative approach)\n   - Model predicts CD34+ HSPCs/HSCs which are NOT in ground truth - this appears to be hallucination of populations not typically gated in this OMIP\n   - Model predicts Lin- HLA-DR+ DC hierarchy (pDCs, cDC1, cDC2) which partially matches ground truth's CD1c+ mDCs and CD141+ mDCs\n   - Model correctly identifies monocyte subsets (Classical, Intermediate, Non-classical)\n   - Model MISSES: NK-T cells, Marginal Zone B cells, Plasma cells from ground truth\n\n3. **Critical Issues**:\n   - Run 5 failed with MAX_TOKENS (token budget exhaustion)\n   - Hallucination of HSPC/HSC populations not in the panel's target populations\n   - Consistent omission of several ground truth populations (NK-T, MZ B cells, Plasma cells)\n\n4. **Partial Matches**: DC subsets, monocyte subsets, and granulocytes show reasonable overlap with ground truth structure.\n\nMEDIAN_QUALITY: 5 (correctly identifies major lineages and some DC/monocyte subsets but hallucates HSPCs and misses several ground truth populations)\nCONSISTENCY: 7 (6/10 runs nearly identical, structural variations in remaining runs are reasonable alternatives)\nWORST_CASE: 0 (Run 5 complete failure due to token exhaustion)\nBEST_CASE: 6 (Run 8 has cleaner structure closer to ground truth style, captures main populations)\nFAILURE_MODES: MAX_TOKENS truncation, HSPC/HSC hallucination, missing NK-T cells, missing Marginal Zone B cells, missing Plasma cells, over-complicated singlet gating\nRELIABILITY: medium - Model produces structurally coherent hierarchies but consistently hallucates HSPCs and misses specific populations from ground truth; token exhaustion causes occasional complete failures.\nSUMMARY: Gemini-2.5-pro shows moderate consistency in predicting pan-leukocyte hierarchies but systematically hallucates stem cell populations not in the target panel and misses several specialized populations, with occasional token-limit failures on this complex panel.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1455,
      "timestamp": "2026-01-13T04:42:35.936293",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.8,
      "failure_modes": "missing FoxP3- negative population in 2/10 runs, omits Lymphocytes gate in 8/10 runs, adds unrequested QC gates (Stable Time/Flow, Cells, double singlets), uses functional nomenclature (Tconv) instead of marker-based (FoxP3-)",
      "reliability": "medium - Model reliably identifies the correct biological endpoint and structure but inconsistently captures the negative population branch and uses domain-conventional rather than marker-explicit nomenclature",
      "summary": "gemini-2.5-pro demonstrates solid understanding of Treg gating logic with consistent identification of CD4+ T cell \u2192 Treg/Tconv hierarchy, but adds extra QC gates not in the ground truth and occasionally omits the FoxP3-negative branch, making it suitable for exploratory gating suggestions but requiring human verification for complete hierarchies.",
      "raw_response": "## Evaluation of gemini-2.5-pro on OMIP-053 (Treg Gating)\n\n### Analysis\n\n**Ground Truth Structure:**\n- 6 gates deep: All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 CD4+ T cells \u2192 FoxP3+ Treg / FoxP3- non-Treg\n- Key terminal gates: FoxP3+ Treg and FoxP3- non-Treg (marker-based nomenclature)\n\n**Predicted Structure (typical):**\n- 8 gates deep with added QC gates: All Events \u2192 Stable Time/Flow \u2192 Cells \u2192 Singlets 1 \u2192 Singlets 2 \u2192 Live \u2192 CD4+ T cells \u2192 Tregs/Tconv\n- Terminal gates: Tregs and Tconv (functional nomenclature)\n\n**Key Observations:**\n\n1. **Correct elements:** All predictions correctly identify the core pathway ending in CD4+ T cells splitting into Treg vs non-Treg populations. The logical flow is sound.\n\n2. **Added gates (not in ground truth):** \n   - \"Stable Time\" or \"Stable Flow\" (time/flow stability QC gate)\n   - \"Cells\" gate (scatter-based cell identification)\n   - Double singlet gating (Singlets 1, Singlets 2)\n   \n3. **Missing gates:**\n   - \"Lymphocytes\" gate appears in only 2/10 runs (Runs 1 and 5)\n   - FoxP3 marker reference is absent from all terminal gate names\n\n4. **Nomenclature drift:**\n   - Ground truth uses marker-based names: \"FoxP3+ Treg\" and \"FoxP3- non-Treg\"\n   - Model uses functional names: \"Tregs\" and \"Tconv\" (conventional T cells)\n   - This is scientifically equivalent but not exact match\n\n5. **Structural consistency:**\n   - 8/10 runs include both Treg and non-Treg branches\n   - 2/10 runs (1, 5) only predict the Treg branch (missing the negative population)\n\n---\n\nMEDIAN_QUALITY: 7 (correctly identifies core pathway and terminal populations, adds reasonable QC gates, uses equivalent but different nomenclature)\n\nCONSISTENCY: 8 (highly consistent structure across runs; minor variation in \"Stable Time\" vs \"Stable Flow\" naming and occasional missing Lymphocytes gate)\n\nWORST_CASE: 5 (Runs 1 and 5 miss the FoxP3- non-Treg/Tconv branch entirely, providing only half the required terminal gating)\n\nBEST_CASE: 8 (Runs 2-4, 6-10 capture both branches correctly with reasonable structure; slight penalty for missing Lymphocytes gate and FoxP3 nomenclature)\n\nFAILURE_MODES: missing FoxP3- negative population in 2/10 runs, omits Lymphocytes gate in 8/10 runs, adds unrequested QC gates (Stable Time/Flow, Cells, double singlets), uses functional nomenclature (Tconv) instead of marker-based (FoxP3-)\n\nRELIABILITY: medium - Model reliably identifies the correct biological endpoint and structure but inconsistently captures the negative population branch and uses domain-conventional rather than marker-explicit nomenclature\n\nSUMMARY: gemini-2.5-pro demonstrates solid understanding of Treg gating logic with consistent identification of CD4+ T cell \u2192 Treg/Tconv hierarchy, but adds extra QC gates not in the ground truth and occasionally omits the FoxP3-negative branch, making it suitable for exploratory gating suggestions but requiring human verification for complete hierarchies.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.9,
      "consistency_score": 0.5,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2638,
      "timestamp": "2026-01-13T04:43:02.510352",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.5,
      "worst_case": 0.0,
      "best_case": 0.8,
      "failure_modes": "MAX_TOKENS truncation, markdown contamination in output, inconsistent singlet gate naming, variable intermediate gates (Leukocytes vs Lymphocytes)",
      "reliability": "medium - The model produces scientifically sound hierarchies when it succeeds, but 20% of runs have catastrophic failures (token limits or malformed output), making it unsuitable for production without retry logic.",
      "summary": "gemini-2.5-pro demonstrates strong biological understanding of T cell immunophenotyping but suffers from token limit issues and output format instability that undermine reliability.",
      "raw_response": "## Evaluation of gemini-2.5-pro on OMIP-022\n\nLooking at the 10 runs, I'll analyze the model's performance against the expected hierarchy.\n\n### Key Observations\n\n**Structural Accuracy:**\n- The model correctly identifies the core gating path: All Events \u2192 Time Gate \u2192 Singlets \u2192 Live Cells \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+ T cells\n- It appropriately adds memory subset differentiation (Naive, Tcm, Tem, TEMRA) which aligns with the expected \"Memory Subsets\" branch\n- Functional analysis markers (IFN-\u03b3, IL-2, TNF, IL-17A, CD154) are correctly placed as children of memory subsets\n\n**Variations Across Runs:**\n- Runs 4, 5, 8: Most detailed and consistent - dual singlet gates (FSC/SSC), 40 branches\n- Runs 7, 9, 10: Similar structure but use \"Singlets (1/2), Singlets (2/2)\" notation\n- Run 1: Uses \"Stable Flow\" instead of \"Time Gate\", omits Lymphocytes gate\n- Run 3: Uses \"Leukocytes\" intermediate gate (reasonable but differs from ground truth)\n- Run 6: **Parse failure** - output includes markdown headers mixed with hierarchy (malformed)\n- Run 2: **Complete failure** - MAX_TOKENS truncation\n\n**Alignment with Ground Truth:**\n- The expected hierarchy shows abstract groupings (\"Memory Subsets\", \"Functional Analysis\")\n- The model correctly expands these into specific populations (Naive, Tcm, Tem, TEMRA) and functional markers\n- This is actually more detailed than ground truth, which is scientifically appropriate\n\n**Problems:**\n1. Run 2: Token limit failure (10% failure rate)\n2. Run 6: Malformed output with markdown contamination\n3. Minor naming inconsistencies (Stable Flow vs Time Gate, Cells vs Singlets intermediate)\n\n---\n\nMEDIAN_QUALITY: 7 (correctly captures T cell memory subsets and functional analysis with appropriate hierarchy depth)\nCONSISTENCY: 5 (5 unique gate sets across 10 runs with significant structural variations in singlet gating and naming)\nWORST_CASE: 0 (Run 2 MAX_TOKENS failure and Run 6 parse failure produce no usable output)\nBEST_CASE: 8 (Runs 4/5/8 provide comprehensive, biologically accurate hierarchies exceeding ground truth detail)\nFAILURE_MODES: MAX_TOKENS truncation, markdown contamination in output, inconsistent singlet gate naming, variable intermediate gates (Leukocytes vs Lymphocytes)\nRELIABILITY: medium - The model produces scientifically sound hierarchies when it succeeds, but 20% of runs have catastrophic failures (token limits or malformed output), making it unsuitable for production without retry logic.\nSUMMARY: gemini-2.5-pro demonstrates strong biological understanding of T cell immunophenotyping but suffers from token limit issues and output format instability that undermine reliability.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.4,
      "consistency_score": 0.33333333333333337,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1908,
      "timestamp": "2026-01-13T04:43:27.930983",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.2,
      "worst_case": 0.0,
      "best_case": 0.5,
      "failure_modes": "MAX_TOKENS truncation (60%), missing exclusion gates (Non-beads/Non-aggregates/Non-T-B-NK), flattened hierarchy structure, inconsistent intermediate gate naming",
      "reliability": "low This model fails to complete 60% of predictions due to token limits on this complex panel, making it unsuitable for production use on high-parameter panels.",
      "summary": "Gemini-2.5-pro's extended reasoning causes token exhaustion on complex panels, with only 40% completion rate and moderate quality when successful\u2014the model understands immunophenotyping concepts but cannot reliably deliver complete, structurally accurate hierarchies for 27-color panels.",
      "raw_response": "Looking at this evaluation task, I need to analyze the model's performance across 10 runs for OMIP-101, a complex 27-color whole blood leukocyte immunophenotyping panel.\n\n**Key Observations:**\n\n1. **Parse Failures (60%)**: Runs 1-4, 6-7 all failed with `MAX_TOKENS` - the model ran out of tokens before completing its response. This is a critical reliability issue.\n\n2. **Successful Predictions (40%)**: Runs 5, 8, 9, 10 produced valid hierarchies.\n\n3. **Comparing successful predictions to ground truth**:\n   - Ground truth uses a specific path: `Non-granulocytes > Myeloid cells > Non-T/B/NK contamination > HLA-DR+ myeloid > monocyte subsets`\n   - Predictions use simpler paths: `Leukocytes > Monocytes > Classical Monocytes` (runs 8, 10) or `CD45+ Leukocytes > T Cells...` (run 5)\n   - The ground truth has explicit exclusion gates (Non-beads, Non-aggregates, Non-granulocytes, Non-T/B/NK contamination) that predictions largely omit\n   - Predictions do capture major populations (monocyte subsets, T cell subsets, B cells, NK cells) but with different hierarchical organization\n\n4. **Structural differences**:\n   - Ground truth: Deep nesting with exclusion gates (8+ levels)\n   - Predictions: Shallower hierarchy (5-7 levels), more direct lineage-based gating\n   - Predictions include populations not in ground truth snippet (Neutrophils, \u03b3\u03b4 T cells, MAIT cells)\n\n5. **Consistency among successful runs**: Runs 8 and 10 are nearly identical; runs 5 and 9 share similar structure but differ from 8/10.\n\nMEDIAN_QUALITY: 4 (successful predictions capture major populations but miss the specific hierarchical structure with exclusion gates; structural accuracy is low)\nCONSISTENCY: 2 (60% complete failures, and successful predictions diverge into 2-3 distinct structural patterns)\nWORST_CASE: 0 (6 runs produced no usable output due to token exhaustion)\nBEST_CASE: 5 (runs 8/10 capture monocyte subsets, T/B/NK populations with reasonable organization, but miss exclusion gate logic)\nFAILURE_MODES: MAX_TOKENS truncation (60%), missing exclusion gates (Non-beads/Non-aggregates/Non-T-B-NK), flattened hierarchy structure, inconsistent intermediate gate naming\nRELIABILITY: low This model fails to complete 60% of predictions due to token limits on this complex panel, making it unsuitable for production use on high-parameter panels.\nSUMMARY: Gemini-2.5-pro's extended reasoning causes token exhaustion on complex panels, with only 40% completion rate and moderate quality when successful\u2014the model understands immunophenotyping concepts but cannot reliably deliver complete, structurally accurate hierarchies for 27-color panels.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3063,
      "timestamp": "2026-01-13T04:43:52.937053",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.8,
      "worst_case": 0.6,
      "best_case": 0.8,
      "failure_modes": "missing IgE+ B cells, alternative memory classification (phenotypic vs activation-based), inconsistent Time gate inclusion, variable intermediate node naming",
      "reliability": "medium Model produces scientifically valid B cell gating strategies but uses a different memory B cell classification framework than the ground truth, making direct comparison difficult.",
      "summary": "Gemini-2.5-pro demonstrates strong domain knowledge of B cell isotype subclasses with consistent IgG1-4/IgA1-2 hierarchies, but systematically uses IgD/CD27-based memory classification rather than the activation-based (RM/AM/TLM) scheme in the ground truth, and consistently omits IgE+ B cells.",
      "raw_response": "Looking at the 10 runs, I'll evaluate gemini-2.5-pro's performance on OMIP-074 (B cell IgG/IgA subclass phenotyping).\n\n**Key Observations:**\n\n1. **Core B cell hierarchy consistently correct**: All runs correctly identify the fundamental B cell subsets (Naive, Memory types) and IgG/IgA subclass breakdown (IgG1-4, IgA1-2).\n\n2. **Structural variations across runs**:\n   - Runs 2,3,6,7,10: Skip Time gate, go directly to Singlets\n   - Runs 4,5,8: Include Time Gate but skip Lymphocytes gate\n   - Runs 1,9: Use \"Stable Flow\" terminology, include extra nesting (\"Isotypes\", \"IgA Subclasses\")\n   \n3. **Memory B cell naming discrepancies**:\n   - Ground truth uses: \"Resting Memory (RM)\", \"Activated Memory (AM)\", \"Tissue-like Memory (TLM)\"\n   - Model uses: \"Switched Memory\", \"Unswitched Memory\", \"Non-switched Memory\", \"Double Negative\"\n   - These are different classification systems - ground truth uses activation status, model uses IgD/CD27 phenotype\n\n4. **Missing from predictions**:\n   - IgE+ B cells (present in ground truth, absent from all runs)\n   - The specific AM/RM/TLM memory classification\n\n5. **Consistent strengths**:\n   - IgG subclass hierarchy (IgG1, IgG2, IgG3, IgG4) present in all runs\n   - IgA subclass hierarchy (IgA1, IgA2) present in all runs\n   - Proper nesting of isotypes under class-switched/switched memory\n\nMEDIAN_QUALITY: 7 (correctly captures isotype subclass hierarchy but uses alternative memory B cell classification, misses IgE)\nCONSISTENCY: 8 (three structural variants but terminal populations highly consistent across all runs)\nWORST_CASE: 6 (Run 1/9 add unnecessary intermediate nodes like \"Isotypes\" and \"IgA Subclasses\")\nBEST_CASE: 8 (Runs 4,5,8 include Time gate and have clean structure matching ground truth better)\nFAILURE_MODES: missing IgE+ B cells, alternative memory classification (phenotypic vs activation-based), inconsistent Time gate inclusion, variable intermediate node naming\nRELIABILITY: medium Model produces scientifically valid B cell gating strategies but uses a different memory B cell classification framework than the ground truth, making direct comparison difficult.\nSUMMARY: Gemini-2.5-pro demonstrates strong domain knowledge of B cell isotype subclasses with consistent IgG1-4/IgA1-2 hierarchies, but systematically uses IgD/CD27-based memory classification rather than the activation-based (RM/AM/TLM) scheme in the ground truth, and consistently omits IgE+ B cells.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.6,
      "consistency_score": 0.6,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1938,
      "timestamp": "2026-01-13T04:44:17.439059",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.4,
      "worst_case": 0.0,
      "best_case": 0.7,
      "failure_modes": "MAX_TOKENS truncation (40%), missing Tscm/Treg/Tfh subsets, over-generation of non-T-cell populations",
      "reliability": "low - 40% failure rate from token limits makes this model unreliable for complex CyTOF panels without increasing max_tokens",
      "summary": "Gemini-2.5-pro understands T cell memory differentiation structure but fails 40% of runs due to token exhaustion on this 32-parameter panel, and consistently misses specialized regulatory/helper subsets even when successful.",
      "raw_response": "Looking at OMIP-087 (CyTOF mass cytometry for CD4/CD8 memory subsets), I'll evaluate gemini-2.5-pro's performance across the 10 runs.\n\n**Key Observations:**\n\n1. **40% complete failures** - Runs 3, 6, 8, 10 all failed with `MAX_TOKENS` errors. This is a known issue with reasoning models on complex panels (documented in CLAUDE.md - OMIP-087 is a 32-parameter mass cytometry panel).\n\n2. **Successful runs show reasonable structure** - When the model completes, it correctly identifies:\n   - Core T cell hierarchy (CD3+ \u2192 \u03b1\u03b2/\u03b3\u03b4 split \u2192 CD4/CD8)\n   - Memory subsets (Naive, Tcm, Tem, TEMRA)\n   - QC gates (Intact, Singlets, Live, CD45+)\n\n3. **Structural differences from ground truth:**\n   - Ground truth has shallow hierarchy: `All Events > Leukocytes > T cells > CD4+ T cells > [subsets]`\n   - Predictions add appropriate QC gates the ground truth omits (expected for CyTOF: singlets not from scatter)\n   - Model adds \u03b1\u03b2/\u03b3\u03b4 T cell split not in ground truth\n   - Model includes B cells, monocytes, NK cells beyond the ground truth scope\n\n4. **Missing from predictions vs ground truth:**\n   - \"Stem cell memory\" T cells (Tscm)\n   - \"Transitional memory\" T cells\n   - T regulatory cells (Tregs)\n   - T follicular helper cells (Tfh)\n\n5. **Consistency among successful runs:** Runs 1,2,7 are nearly identical; Runs 4,9 are identical to each other but differ from 1,2,7 in gate ordering and naming conventions.\n\n**Evaluation:**\n\nMEDIAN_QUALITY: 6 (captures main T cell memory hierarchy but misses specialized subsets like Tscm, Tregs, Tfh)\nCONSISTENCY: 4 (40% token failures + 2 distinct prediction patterns among successes)\nWORST_CASE: 0 (complete parse failures from MAX_TOKENS - no usable output)\nBEST_CASE: 7 (correct T cell lineage and memory differentiation structure, appropriate QC gates)\nFAILURE_MODES: MAX_TOKENS truncation (40%), missing Tscm/Treg/Tfh subsets, over-generation of non-T-cell populations\nRELIABILITY: low - 40% failure rate from token limits makes this model unreliable for complex CyTOF panels without increasing max_tokens\nSUMMARY: Gemini-2.5-pro understands T cell memory differentiation structure but fails 40% of runs due to token exhaustion on this 32-parameter panel, and consistently misses specialized regulatory/helper subsets even when successful.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.5,
      "consistency_score": 0.5,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1705,
      "timestamp": "2026-01-13T04:44:42.359526",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.2,
      "worst_case": 0.0,
      "best_case": 0.6,
      "failure_modes": "MAX_TOKENS truncation on complex panels, incomplete population coverage (T-cell OR ILC/NK but not both), structural deviation from ground truth (CD3+/CD3- split vs Lymphocyte umbrella)",
      "reliability": "low - Model fails to complete 50% of predictions on this complex panel and shows inconsistent focus when successful.",
      "summary": "Gemini-2.5-pro struggles with this 27-color panel due to token limits and produces inconsistent, partial hierarchies that alternate between T-cell and ILC/NK subsets rather than capturing the full panel scope.",
      "raw_response": "Looking at these predictions across 10 runs for OMIP-064 (a complex 27-color NK/ILC panel):\n\n**Parse Failures:** 5/10 runs failed with MAX_TOKENS errors. This is consistent with the documented limitation that gemini-2.5-pro struggles with complex panels due to reasoning token overhead.\n\n**Successful Predictions Analysis:**\n- Runs 1, 7: Focus on ILC/NK pathway (CD3- > Lineage- > ILCs/NK). These capture ILC subsets (ILC1, ILC2, ILC3) and NK cells but miss the T cell branch entirely.\n- Runs 2, 10: Focus on T cell pathway (CD3+ > \u03b3\u03b4 T cells, MAIT cells). These capture MAIT and \u03b3\u03b4 T cells well but miss NK/ILC populations.\n- Run 5: Similar T cell focus with slightly different structure (extra \"Cells\" parent node).\n\n**Comparison to Ground Truth:**\n- Ground truth expects: T cells (MAIT, \u03b3\u03b4), NK cells (Activated NK), and ILC subsets - all under a unified Lymphocyte gate\n- Model predictions bifurcate into either T-cell-focused OR ILC/NK-focused hierarchies, never both\n- The model generates more detailed subpopulations than ground truth (e.g., V\u03b42+/V\u03b42- splits, ILC1/2/3 subtypes) showing domain knowledge\n- Critical gates present in successful runs: Singlets \u2713, Live Cells \u2713, MAIT \u2713 (some runs), \u03b3\u03b4 T \u2713 (some runs), NK \u2713 (some runs), ILCs \u2713 (some runs)\n- Structure differs: Ground truth uses \"Lymphocytes\" as parent; model uses CD3+/CD3- split\n\nMEDIAN_QUALITY: 5 (when successful, captures relevant populations with good detail but incomplete coverage of full panel scope)\nCONSISTENCY: 2 (predictions split between T-cell and ILC/NK focus; 50% parse failure rate)\nWORST_CASE: 0 (MAX_TOKENS failures produce no usable output)\nBEST_CASE: 6 (detailed subpopulation hierarchies with correct marker logic, but missing half the panel)\nFAILURE_MODES: MAX_TOKENS truncation on complex panels, incomplete population coverage (T-cell OR ILC/NK but not both), structural deviation from ground truth (CD3+/CD3- split vs Lymphocyte umbrella)\nRELIABILITY: low - Model fails to complete 50% of predictions on this complex panel and shows inconsistent focus when successful.\nSUMMARY: Gemini-2.5-pro struggles with this 27-color panel due to token limits and produces inconsistent, partial hierarchies that alternate between T-cell and ILC/NK subsets rather than capturing the full panel scope.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.9,
      "consistency_score": 0.75,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2228,
      "timestamp": "2026-01-13T04:45:05.568688",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.5,
      "worst_case": 0.0,
      "best_case": 0.8,
      "failure_modes": "token_limit_truncation, spurious_intermediate_gates, over_enumeration, naming_inconsistency",
      "reliability": "medium - Model understands the biology well but produces structurally inconsistent outputs and has token limit vulnerability on complex panels",
      "summary": "Gemini-2.5-pro demonstrates strong immunological knowledge but suffers from output instability, with 3 distinct structural variants and one complete failure across 10 runs.",
      "raw_response": "Looking at the 10 runs for OMIP-025 with gemini-2.5-pro:\n\n**Structural Analysis:**\n\nThe ground truth has a relatively abstract hierarchy with grouped categories (e.g., \"CD4+ Memory subsets\", \"CD4+ Functional subsets\"). The model predictions are more granular, enumerating specific populations (Naive, Central Memory, Effector Memory, TEMRA, cytokine+ subsets).\n\n**Pattern Analysis Across Runs:**\n\n- **Runs 1, 2, 7, 9** (4 runs): Identical structure with \"Cells\" inserted after \"All Events\", ~26 gates total\n- **Runs 4, 6, 8** (3 runs): Identical structure with \"Lin-\" gate inserted, ~24 gates total  \n- **Runs 5, 10** (2 runs): Much deeper hierarchy with cytokine subsets under each memory subset (~49 gates)\n- **Run 3**: Token limit failure (MAX_TOKENS)\n\n**Quality Assessment:**\n\nThe model correctly identifies:\n- Core gating sequence (Singlets \u2192 Live \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+ subsets)\n- Memory subset breakdown (Naive, CM, EM, TEMRA) - appropriate for the panel\n- TFH/cTFH populations - matches ground truth's \"Follicular helper T cells\"\n- NK cells (though details vary)\n\nIssues:\n- Adds spurious gates (\"Cells\", \"Lin-\") not in ground truth\n- Over-enumerates in some runs (cytokines under every memory subset)\n- One token limit failure\n- Inconsistent nomenclature across runs\n\nMEDIAN_QUALITY: 7 (captures correct populations and relationships, but over-specifies compared to abstract ground truth)\nCONSISTENCY: 5 (3 distinct structural variants, inconsistent naming conventions)\nWORST_CASE: 0 (Run 3 failed to produce output due to MAX_TOKENS)\nBEST_CASE: 8 (Runs 4/6/8 have clean structure closest to expected granularity)\nFAILURE_MODES: token_limit_truncation, spurious_intermediate_gates, over_enumeration, naming_inconsistency\nRELIABILITY: medium - Model understands the biology well but produces structurally inconsistent outputs and has token limit vulnerability on complex panels\nSUMMARY: Gemini-2.5-pro demonstrates strong immunological knowledge but suffers from output instability, with 3 distinct structural variants and one complete failure across 10 runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3207,
      "timestamp": "2026-01-13T04:45:33.825058",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.6,
      "worst_case": 0.5,
      "best_case": 0.8,
      "failure_modes": "hierarchy over-specification, missing intermediate grouping node (Other Monocyte Subsets), occasional truncation (missing SLAN- in 2/10 runs), inconsistent upstream gate naming",
      "reliability": "medium The model reliably identifies terminal monocyte populations but generates inconsistent upstream hierarchies and occasionally truncates output.",
      "summary": "gemini-2.5-pro demonstrates strong domain knowledge of monocyte biology (correct CD14/CD16/SLAN logic) but lacks consistency in hierarchy structure and occasionally produces incomplete predictions.",
      "raw_response": "## Evaluation of gemini-2.5-pro on OMIP-083 Monocyte Gating\n\n### Analysis\n\n**Ground Truth Structure:**\n- Simple 4-level hierarchy: All Events \u2192 Cleaned Events \u2192 Leukocytes \u2192 Non-granulocytes \u2192 Monocytes \u2192 terminal populations\n- 4 terminal monocyte subsets: Classical, Intermediate, SLAN+ Nonclassical, SLAN- Nonclassical\n\n**Model Predictions:**\n\nAll 10 runs correctly identify the **terminal monocyte populations**:\n- Classical Monocytes (10/10)\n- Intermediate Monocytes (10/10)\n- SLAN+ Nonclassical Monocytes (9/10 - Run 6 and 10 missing SLAN-)\n- SLAN- Nonclassical Monocytes (8/10)\n\n**Key Observations:**\n\n1. **Hierarchy Depth Inflation**: All predictions add 4-6 additional upstream gates not in ground truth (Time, Singlets I/II, Live Cells, CD66b-, Lineage-, etc.). These are technically valid flow cytometry QC gates but weren't specified in the ground truth.\n\n2. **Structural Variation**: Three distinct gating \"styles\" emerge:\n   - Style A (Runs 1,2,4,7,9): Detailed with explicit markers (CD66b-, CD42b-, FITC Dump-)\n   - Style B (Runs 3,8): Abstract naming (Stable Flow, Singlets I/II, Lin- Gran-)\n   - Style C (Runs 5,6,10): Simplified intermediate approach\n\n3. **Missing Gate**: Run 6 and 10 are incomplete - missing SLAN- Nonclassical Monocytes entirely.\n\n4. **Marker Logic Correct**: All runs correctly use CD14/CD16 expression patterns for monocyte subsets and SLAN for nonclassical subdivision.\n\n5. **Ground Truth Mismatch**: The \"Other Monocyte Subsets\" intermediate node in ground truth is never predicted - models gate nonclassical monocytes directly to SLAN+/-.\n\n---\n\nMEDIAN_QUALITY: 7 (correctly identifies all key populations with appropriate marker logic, but over-specifies upstream hierarchy)\nCONSISTENCY: 6 (3-4 distinct structural patterns across runs; terminal populations stable but upstream gates vary significantly)\nWORST_CASE: 5 (Runs 6, 10 missing SLAN- population entirely - incomplete monocyte subset coverage)\nBEST_CASE: 8 (Runs 1,2,4,7,9 capture all 4 monocyte subsets with detailed, defensible gating logic)\nFAILURE_MODES: hierarchy over-specification, missing intermediate grouping node (Other Monocyte Subsets), occasional truncation (missing SLAN- in 2/10 runs), inconsistent upstream gate naming\nRELIABILITY: medium The model reliably identifies terminal monocyte populations but generates inconsistent upstream hierarchies and occasionally truncates output.\nSUMMARY: gemini-2.5-pro demonstrates strong domain knowledge of monocyte biology (correct CD14/CD16/SLAN logic) but lacks consistency in hierarchy structure and occasionally produces incomplete predictions.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.5555555555555556,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2517,
      "timestamp": "2026-01-13T04:46:02.135248",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.5,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "wrong hierarchy organization (nests KIR under CD56 instead of separate branch), missing Mamu- species prefix, missing CD16/CD56 combination gates, inconsistent Time/Cells preprocessing gates",
      "reliability": "medium Model understands the biological markers but imposes a different (arguably reasonable but incorrect) hierarchical structure than the ground truth specifies.",
      "summary": "The model correctly identifies the key NK cell subsets (CD56dim/bright, KIR combinations) but organizes them in a different hierarchy than the ground truth, nesting KIR subsets under CD56 subsets rather than treating them as parallel gating strategies.",
      "raw_response": "## Evaluation of gemini-2.5-pro on OMIP-035 (Macaque NK Panel)\n\n### Key Observations\n\n**Structural Differences from Ground Truth:**\n\n1. **Missing NK cell gate before KIR subsets**: Ground truth gates on `NK cells` first, then subdivides by `Mamu-KIR3DL01+/-` before `KIR3DL05+/-`. Predictions skip the explicit NK gate and jump directly to CD56dim/CD56bright subsets.\n\n2. **Different hierarchy organization**: Ground truth uses:\n   - `NK cells > Mamu-KIR3DL01+ NK cells > KIR3DL05+/-`\n   - `NK cells > CD16+/- CD56+/-` (flat)\n   \n   Predictions use:\n   - `NK Cells > CD56dim/bright > KIR3DL01+/- KIR3DL05+/-`\n\n3. **Added intermediate gates**: Runs 4, 7, 10 add `Time` gate; Runs 1, 5, 8, 9 add `Cells` gate before singlets.\n\n4. **KIR naming inconsistency**: Ground truth uses `Mamu-KIR3DL01` (species-specific nomenclature); predictions use `KIR3DL01` (dropping the Mamu- prefix).\n\n5. **Missing CD16/CD56 combination gates**: Ground truth includes `CD16+ CD56+`, `CD16+ CD56-`, `CD16- CD56+` as flat children of NK cells. Predictions instead nest KIR gates under CD56dim/bright, conflating two different phenotyping schemes.\n\n**Consistency Analysis:**\n- 5 unique gate sets across 10 runs (moderate variability)\n- Runs cluster into ~3 patterns: with/without Time gate, with/without Cells gate, different naming conventions\n- Core biological logic is consistent: all runs correctly identify CD56dim vs CD56bright and enumerate KIR3DL01/KIR3DL05 combinations\n\n**What the model gets RIGHT:**\n- All four KIR combinations (++, +-, -+, --)\n- CD56dim vs CD56bright distinction\n- Basic hierarchy: Events > Singlets > Live > Lymphocytes > NK\n\n**What the model gets WRONG:**\n- Omits species-specific `Mamu-` prefix on KIR markers\n- Nests KIR subsets under CD56 subsets (not how ground truth organizes it)\n- Missing the CD16+/- CD56+/- subset definitions\n- Inconsistent addition of Time/Cells gates\n\n---\n\nMEDIAN_QUALITY: 5 (captures major NK subsets and KIR combinations but wrong hierarchical organization)\nCONSISTENCY: 5 (5 unique gate sets, but core biological concepts stable across runs)\nWORST_CASE: 4 (Run 6 has minimal hierarchy, missing many KIR subsets under CD56bright)\nBEST_CASE: 6 (Runs 2-3 have most complete enumeration of subsets)\nFAILURE_MODES: wrong hierarchy organization (nests KIR under CD56 instead of separate branch), missing Mamu- species prefix, missing CD16/CD56 combination gates, inconsistent Time/Cells preprocessing gates\nRELIABILITY: medium Model understands the biological markers but imposes a different (arguably reasonable but incorrect) hierarchical structure than the ground truth specifies.\nSUMMARY: The model correctly identifies the key NK cell subsets (CD56dim/bright, KIR combinations) but organizes them in a different hierarchy than the ground truth, nesting KIR subsets under CD56 subsets rather than treating them as parallel gating strategies.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.1,
      "consistency_score": 1.0,
      "unique_gate_sets": 1,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1160,
      "timestamp": "2026-01-13T04:46:23.659183",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.7,
      "failure_modes": "MAX_TOKENS truncation, token budget exhausted by reasoning before output generation",
      "reliability": "low - This model is unreliable for complex panels (40+ colors) due to systematic token limit failures; only 10% completion rate makes it unsuitable for production use on this task type.",
      "summary": "Gemini-2.5-pro demonstrates competent immunological reasoning when it completes (Run 10), but catastrophic 90% failure rate from token exhaustion on this complex 40-color panel renders it unusable without increased token limits.",
      "raw_response": "Looking at this evaluation:\n\n**Key Observations:**\n- 9 out of 10 runs (90%) failed with `MAX_TOKENS` - the model ran out of tokens before producing output\n- Only 1 run successfully produced a hierarchy\n- The single successful prediction (Run 10) shows reasonable structure with appropriate gates (T cells, CD4+, CD8+, gamma-delta T cells, etc.)\n\n**Analysis of Run 10 (the only successful prediction):**\n- Correctly identifies core hierarchy: All Events > Singlets > Viable > CD45+ Leukocytes\n- Properly separates T cell subsets including alpha-beta and gamma-delta distinction\n- Uses slightly different naming (\"Viable\" vs \"Live cells\", \"CD45+ Leukocytes\" vs \"Leukocytes\")\n- Shows good domain knowledge with double-positive/double-negative T cells (appropriate for thymus samples)\n\n**The Critical Issue:**\nThis is a **token limit failure**, not a reasoning failure. OMIP-095 is a 40-color spectral panel - one of the most complex panels in the benchmark. As documented in the project's CLAUDE.md under \"Known Model Limitations,\" gemini-2.5-pro's reasoning tokens consume the token budget before generating output on complex panels.\n\n---\n\nMEDIAN_QUALITY: 0 (90% of runs produced no output)\nCONSISTENCY: 0 (cannot assess consistency when only 1/10 runs succeeded)\nWORST_CASE: 0 (empty response due to token exhaustion)\nBEST_CASE: 7 (Run 10 shows good hierarchical reasoning with appropriate immunological distinctions)\nFAILURE_MODES: MAX_TOKENS truncation, token budget exhausted by reasoning before output generation\nRELIABILITY: low - This model is unreliable for complex panels (40+ colors) due to systematic token limit failures; only 10% completion rate makes it unsuitable for production use on this task type.\nSUMMARY: Gemini-2.5-pro demonstrates competent immunological reasoning when it completes (Run 10), but catastrophic 90% failure rate from token exhaustion on this complex 40-color panel renders it unusable without increased token limits.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.5555555555555556,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2927,
      "timestamp": "2026-01-13T04:46:48.998515",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.4,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing B cell subsets (plasma cells, plasmablasts, memory B), Tfh hallucinated instead of expected populations, ICOS+ Treg predicted as ICOS+ Tfh, inconsistent early gating structure, missing Lymphocytes intermediate gate",
      "reliability": "medium Model reliably predicts T cell compartment with correct marker logic but systematically underperforms on B cell subsets for this murine panel.",
      "summary": "Gemini-2.5-pro demonstrates strong T cell immunology knowledge but fails to predict the B cell subsets central to OMIP-076, showing a systematic blind spot for murine B cell phenotyping despite otherwise reasonable hierarchical structure.",
      "raw_response": "Looking at the 10 runs for OMIP-076 (murine splenocyte immunophenotyping), I need to evaluate against the expected hierarchy which focuses on B cell subsets (Plasma cells, Plasmablasts, Activated B cells, Memory B cells) and T cell subsets (Naive, Effector memory, Central memory, Regulatory T cells with ICOS+ Treg).\n\n**Key Observations:**\n\n1. **T cell predictions are strong and consistent**: All runs correctly identify T cell memory subsets (Naive, Central Memory, Effector Memory) and Tregs. The marker logic (CD44/CD62L combinations) is correct.\n\n2. **B cell predictions are inconsistent and often missing**: Only Run 10 attempts detailed B cell subsets. Runs 1-9 either omit B cells entirely or provide minimal coverage. The ground truth expects Plasma cells, Plasmablasts, Activated B cells, and Memory B cells - these are largely absent.\n\n3. **Structural variations**: \n   - Runs 1, 3, 7 add Time Gate and dual singlet gates (FSC/SSC) - valid but not in ground truth\n   - Some runs add intermediate nodes like \"Conventional CD4+ T-cells\" or \"Non-Tfh\" - reasonable hierarchy choices but diverge from expected structure\n   - Run 10 uniquely adds murine-specific B cell subsets (Follicular, Marginal Zone, Germinal Center) - better aligned with murine immunology\n\n4. **Hallucinations**: Tfh cells appear in most predictions but aren't in the expected hierarchy. ICOS+ Tfh is predicted instead of ICOS+ Treg (ground truth).\n\n5. **Missing from ground truth**: Lymphocytes gate is expected but predictions use CD45+ Leukocytes directly to T/B cells.\n\nMEDIAN_QUALITY: 5 (T cells well-covered but B cell arm largely missing, structural differences from expected hierarchy)\nCONSISTENCY: 4 (5 unique gate sets across 10 runs; structural variations in early gates; B cell coverage highly variable)\nWORST_CASE: 4 (Runs 1-9 missing most B cell subsets entirely)\nBEST_CASE: 6 (Run 10 attempts B cells but with different subset definitions than ground truth)\nFAILURE_MODES: missing B cell subsets (plasma cells, plasmablasts, memory B), Tfh hallucinated instead of expected populations, ICOS+ Treg predicted as ICOS+ Tfh, inconsistent early gating structure, missing Lymphocytes intermediate gate\nRELIABILITY: medium Model reliably predicts T cell compartment with correct marker logic but systematically underperforms on B cell subsets for this murine panel.\nSUMMARY: Gemini-2.5-pro demonstrates strong T cell immunology knowledge but fails to predict the B cell subsets central to OMIP-076, showing a systematic blind spot for murine B cell phenotyping despite otherwise reasonable hierarchical structure.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2031,
      "timestamp": "2026-01-13T04:47:15.853268",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.5,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "hallucinated time/quality gates (Stable Flow, Cells), over-extension into functional cytokine gates not in ground truth, inconsistent inclusion of Lymphocytes gate",
      "reliability": "medium Model reliably identifies CD4/CD8 T cell endpoints but inconsistently hallucinates upstream gates and extends beyond the requested hierarchy depth.",
      "summary": "gemini-2.5-pro demonstrates solid domain knowledge of flow cytometry gating logic but exhibits systematic hallucination of quality-control gates and over-generates functional subpopulations beyond the specified ground truth.",
      "raw_response": "## Evaluation of gemini-2.5-pro on OMIP-008\n\n### Analysis\n\n**Expected hierarchy structure:**\n- All Events > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ T cells\n- 6 levels deep, terminal gates are CD4+ and CD8+ T cells\n\n**Predicted structures across runs:**\n\n| Runs | Structure Pattern | Key Differences |\n|------|-------------------|-----------------|\n| 1,2,3,8,10 | All Events > Stable Flow > Singlets > Live Cells > Lymphocytes > T Cells > CD4/CD8 > cytokines | Extra \"Stable Flow\" gate, extra \"T Cells\" parent, extends into functional cytokine gates |\n| 4,7 | All Events > Cells > Singlets > Live Cells > T Cells > CD4+/CD8+ > cytokines | Extra \"Cells\" gate, missing \"Lymphocytes\", extends into cytokines |\n| 5,6 | All Events > Cells > Singlets > Live Cells > Lymphocytes > CD4/CD8 T Cells | Extra \"Cells\" gate, missing intermediate \"T Cells\" |\n| 9 | All Events > Cells > Singlets > Live Cells > Lymphocytes > T Cells > CD4/CD8 > cytokines | Extra \"Cells\" gate, extends into cytokines |\n\n**Core backbone accuracy:**\n- All 10 runs correctly identify: Singlets > Live Cells > ... > CD4/CD8 T cells\n- All 10 runs capture the terminal CD4+ and CD8+ T cell populations\n\n**Systematic issues identified:**\n1. **Hallucinated initial gates**: \"Stable Flow\" (5 runs) or \"Cells\" (5 runs) inserted before Singlets - neither exists in ground truth\n2. **Inconsistent intermediate structure**: Some include \"Lymphocytes\", some don't; some include \"T Cells\" as separate gate, some don't\n3. **Over-extension beyond ground truth**: 8/10 runs extend into functional gates (IFNg+, TNFa+, IL2+, Polyfunctional) that aren't in the expected hierarchy\n4. **Minor naming variations**: \"CD4 T Cells\" vs \"CD4+ T Cells\" (cosmetic, normalizable)\n\n---\n\nMEDIAN_QUALITY: 6 (correctly identifies core populations and general flow, but adds hallucinated gates and over-extends)\nCONSISTENCY: 5 (two major structural variants with different hallucinated gates; functional extension varies)\nWORST_CASE: 5 (runs 5,6 miss \"T Cells\" intermediate gate and have structural deviations)\nBEST_CASE: 7 (runs 5,6 ironically closest to expected depth, but have wrong intermediates; runs 1-3,8,10 have correct lymphocyte>T cell logic but hallucinate \"Stable Flow\")\nFAILURE_MODES: hallucinated time/quality gates (Stable Flow, Cells), over-extension into functional cytokine gates not in ground truth, inconsistent inclusion of Lymphocytes gate\nRELIABILITY: medium Model reliably identifies CD4/CD8 T cell endpoints but inconsistently hallucinates upstream gates and extends beyond the requested hierarchy depth.\nSUMMARY: gemini-2.5-pro demonstrates solid domain knowledge of flow cytometry gating logic but exhibits systematic hallucination of quality-control gates and over-generates functional subpopulations beyond the specified ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.5,
      "consistency_score": 0.5,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1827,
      "timestamp": "2026-01-13T04:47:40.220971",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.0,
      "best_case": 0.6,
      "failure_modes": "MAX_TOKENS truncation (50%), hallucinated progenitor populations, excessive intermediate QC gates, missing NKT/MZ B/plasma cells",
      "reliability": "low This model fails to produce output in half of attempts and shows structural inconsistency when it does succeed.",
      "summary": "Gemini-2.5-pro demonstrates reasonable biological knowledge when it completes but is unreliable for this task due to 50% MAX_TOKENS failures and inconsistent hierarchical structure across runs.",
      "raw_response": "Looking at the model's performance across 10 runs on OMIP-077:\n\n**Parse Failures:** 5/10 runs (50%) failed with MAX_TOKENS errors, indicating the model's reasoning process exceeded token limits before generating output.\n\n**Successful Predictions Analysis:**\n- Runs 1, 9: Similar structure with \"Stable Flow > Singlets > Intact Cells > Leukocytes (CD45+)\" prefix\n- Runs 2, 8: Identical structure with \"Time Gate (Stable Flow) > Singlets I > Singlets II > Live/Intact Cells > CD45+ Leukocytes\"\n- Run 10: Variant with additional \"SSC-low/int Gate\" intermediate\n\n**Comparison to Ground Truth:**\n- **Correct populations identified:** Classical/Intermediate/Non-classical monocytes, T-cells, B-cells, NK cells, Neutrophils, Eosinophils, mDCs (CD1c+)\n- **Missing from ground truth:** NK-T cells, Marginal Zone B cells, Plasma cells, pDCs, basophils explicitly named\n- **Hallucinations/additions:** CD34+ Progenitors, HSCs, HSPCs (not in expected hierarchy), extra intermediate gates (Singlets I/II, Time Gate, SSC-low/int Gate)\n- **Structural differences:** Ground truth uses 4-level prefix (All Events > Singlets > Live cells > Leukocytes), predictions use 5-6 levels with additional QC gates\n\n**Quality Assessment of Successful Runs:**\n- Correctly identifies the major leukocyte lineages and monocyte subsets\n- Adds scientifically plausible but not-in-ground-truth populations (progenitors)\n- Over-complicated gating prefix with unnecessary intermediate gates\n- Misses some specific populations (NKT cells, MZ B cells, plasma cells)\n\nMEDIAN_QUALITY: 5 (correctly identifies major populations but adds hallucinated gates and misses some targets)\nCONSISTENCY: 3 (50% parse failure rate, 3 unique gate sets among 5 successful runs)\nWORST_CASE: 0 (5 runs produced no usable output due to MAX_TOKENS)\nBEST_CASE: 6 (runs 2/8 capture monocyte subsets and major lineages with reasonable structure)\nFAILURE_MODES: MAX_TOKENS truncation (50%), hallucinated progenitor populations, excessive intermediate QC gates, missing NKT/MZ B/plasma cells\nRELIABILITY: low This model fails to produce output in half of attempts and shows structural inconsistency when it does succeed.\nSUMMARY: Gemini-2.5-pro demonstrates reasonable biological knowledge when it completes but is unreliable for this task due to 50% MAX_TOKENS failures and inconsistent hierarchical structure across runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1136,
      "timestamp": "2026-01-13T04:48:05.656872",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.7,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing FoxP3- non-Treg branch (10/10), spurious Cells gate (9/10), inconsistent QC gates, variable singlet strategy",
      "reliability": "medium - Model reliably identifies the positive Treg population but systematically fails to predict complementary negative gates, which limits utility for complete gating strategy design.",
      "summary": "Gemini-2.5-pro consistently identifies the core Treg gating path but has a systematic blind spot for negative/complementary populations (FoxP3-), suggesting it may be pattern-matching to \"identify Tregs\" rather than reasoning about complete gating strategies for all populations of interest.",
      "raw_response": "Looking at these predictions against the ground truth, I'll evaluate systematically.\n\n**Ground Truth Analysis:**\n- Expected: 6 gates in a simple linear hierarchy to Tregs, plus a branch for FoxP3- non-Tregs\n- Key gates: Singlets, Live cells, Lymphocytes, CD4+ T cells, FoxP3+ Treg, FoxP3- non-Treg\n\n**Prediction Analysis:**\n\n*Consistent strengths across all runs:*\n- All correctly identify the core path: All Events \u2192 Singlets \u2192 Live \u2192 CD4+ \u2192 Tregs\n- All correctly use FoxP3 for Treg identification\n- Parse success 100%\n\n*Consistent weaknesses:*\n1. **Missing FoxP3- non-Treg branch** - ALL 10 runs miss this complementary population, which is half the biological point of the panel\n2. **Extra \"Cells\" gate** - 9/10 runs add an unnecessary \"Cells\" gate between All Events and Singlets\n3. **Variable QC gates** - Runs 5, 8, 9, 10 add \"Time Gate / Stable Flow\" which isn't in ground truth\n4. **Double singlet gating** - Runs 2, 5, 6, 8, 9, 10 split singlets into FSC and SSC versions\n\n*Variability:*\n- Runs 1, 3, 7: Simplest (6 gates)\n- Runs 5, 8, 9, 10: Most complex (10 gates with time gate and dual singlets)\n- Lymphocytes gate present in 7/10 runs (missing in 1, 3, 7)\n\n**Scores:**\n\nMEDIAN_QUALITY: 6 (captures main Treg path correctly but consistently misses the FoxP3- branch which is critical for Treg classification)\nCONSISTENCY: 7 (core structure stable, variation mainly in QC/preprocessing gates which is reasonable technical variation)\nWORST_CASE: 5 (runs 1, 3, 7 miss both Lymphocytes gate AND FoxP3- branch)\nBEST_CASE: 7 (runs with Lymphocytes gate still miss FoxP3- population)\nFAILURE_MODES: missing FoxP3- non-Treg branch (10/10), spurious Cells gate (9/10), inconsistent QC gates, variable singlet strategy\nRELIABILITY: medium - Model reliably identifies the positive Treg population but systematically fails to predict complementary negative gates, which limits utility for complete gating strategy design.\nSUMMARY: Gemini-2.5-pro consistently identifies the core Treg gating path but has a systematic blind spot for negative/complementary populations (FoxP3-), suggesting it may be pattern-matching to \"identify Tregs\" rather than reasoning about complete gating strategies for all populations of interest.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3005,
      "timestamp": "2026-01-13T04:48:34.959174",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.5,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "Lymphocytes-before-Live-cells ordering error, Time Gate omission, over-expansion of cytokine gates as leaves instead of grouped under Functional Analysis, naming inconsistency (Tn vs Naive vs Na\u00efve)",
      "reliability": "medium (model demonstrates correct immunological reasoning but inconsistent gate ordering and structure across runs makes it unreliable for production use without human review)",
      "summary": "Gemini-2.5-pro shows solid immunological knowledge and captures the key T-cell memory/functional analysis structure, but exhibits systematic gate-ordering errors and high run-to-run variability that would require manual correction.",
      "raw_response": "Looking at the 10 runs, I can identify distinct prediction patterns and evaluate against the ground truth.\n\n## Analysis\n\n**Ground Truth Structure:**\n- All Events \u2192 Time Gate \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+ \u2192 Memory Subsets / Functional Analysis\n\n**Observed Prediction Patterns:**\n\n1. **Runs 1, 7, 9, 10** (4 runs): Lymphocytes BEFORE Live Cells (inverted order), includes dump gate, expands functional markers as individual gates\n2. **Runs 2, 4** (2 runs): Similar to above but slightly different naming\n3. **Runs 3, 6, 8** (3 runs): Missing Time Gate, has intermediate \"Cells\" gate, but correct Live\u2192Dump\u2192T cell flow with Memory Subsets and Functional Analysis as proper parent nodes\n4. **Run 5** (1 run): Similar to runs 3/6/8 but with \"Viable\" instead of \"Live Cells\"\n\n**Key Issues Identified:**\n\n1. **Gate ordering inconsistency**: 6/10 runs place Lymphocytes before Live Cells (incorrect - should be Live \u2192 Lymphocytes)\n2. **Missing Time Gate**: 4/10 runs omit Time Gate entirely\n3. **Over-granular functional analysis**: Most runs expand cytokines (IFN-\u03b3+, IL-2+, TNF+, etc.) as individual leaf gates rather than grouping under \"Functional Analysis\"\n4. **Dump gate insertion**: All runs correctly include CD14-CD19- exclusion but this isn't in ground truth (reasonable addition)\n5. **CD8+ parallel structure**: All runs correctly include CD8+ branch parallel to CD4+\n6. **Memory subsets**: Runs 3, 6, 8 correctly structure Memory Subsets as a parent with Naive/TCM/TEM/TEMRA children\n\n**Best predictions** (Runs 3, 6, 8): Capture the hierarchical structure with Memory Subsets and Functional Analysis as organizing nodes, though missing Time Gate.\n\n**Worst predictions** (Runs 1, 7, 9, 10): Invert Lymphocytes/Live order and over-expand functional markers.\n\n---\n\nMEDIAN_QUALITY: 6 (captures major populations and reasonable structure but consistent ordering errors)\nCONSISTENCY: 5 (4 unique patterns across 10 runs with 0.67 consistency score; two dominant modes)\nWORST_CASE: 5 (inverted gate order and over-granular expansion lose structural fidelity)\nBEST_CASE: 7 (runs 3/6/8 capture Memory Subsets and Functional Analysis structure correctly)\nFAILURE_MODES: Lymphocytes-before-Live-cells ordering error, Time Gate omission, over-expansion of cytokine gates as leaves instead of grouped under Functional Analysis, naming inconsistency (Tn vs Naive vs Na\u00efve)\nRELIABILITY: medium (model demonstrates correct immunological reasoning but inconsistent gate ordering and structure across runs makes it unreliable for production use without human review)\nSUMMARY: Gemini-2.5-pro shows solid immunological knowledge and captures the key T-cell memory/functional analysis structure, but exhibits systematic gate-ordering errors and high run-to-run variability that would require manual correction.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2731,
      "timestamp": "2026-01-13T04:49:03.774078",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.7,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing intermediate QC gates (Non-beads, Non-aggregates, Non-granulocytes), missing HLA-DR+ myeloid hierarchy, simplified conventional structure instead of paper-specific hierarchy",
      "reliability": "medium - Model reliably produces biologically valid hierarchies with correct terminal populations, but consistently fails to reproduce the specific quality-control gate sequence from OMIP-101.",
      "summary": "Gemini-2.5-Pro demonstrates strong immunology knowledge by correctly identifying monocyte subsets, T/NK/B cell populations, and memory subsets, but substitutes a generic conventional gating structure for the paper's specific multi-step quality control hierarchy.",
      "raw_response": "Looking at these 10 predictions against the ground truth for OMIP-101 (27-color whole blood leukocyte immunophenotyping), I'll evaluate the model's performance.\n\n**Key Observations:**\n\n1. **Structural Differences from Ground Truth:**\n   - Ground truth has a unique deep hierarchy: All Events > Time gate > Singlets > Non-beads > Leukocytes > Non-aggregates > Non-granulocytes > then branches\n   - Model predictions consistently use a simpler, more conventional structure: All Events > Time Gate > Singlets > Live Cells > Leukocytes > then branches\n   - The model skips intermediate quality control gates (Non-beads, Non-aggregates, Non-granulocytes)\n   - Model adds \"Live Cells\" gate not explicitly in ground truth hierarchy\n\n2. **Population Coverage:**\n   - Model correctly identifies monocyte subsets (Classical, Intermediate, Non-classical)\n   - Model correctly identifies major lymphocyte populations (T cells, B cells, NK cells)\n   - Model includes gamma-delta T cells (V\u03b42+/V\u03b42-) which are in ground truth\n   - Model includes CD4/CD8 T cell memory subsets\n   - Missing: mDCs under HLA-DR+ myeloid, the specific \"Non-T/B/NK contamination\" gate\n\n3. **Run-to-Run Variability:**\n   - Runs 2-6 and 9 are nearly identical\n   - Runs 1 and 10 add more detail (Neutrophils, FSC vs SSC annotations)\n   - Runs 7-8 use \"Stable Flow\" instead of \"Time Gate\" and different structure\n   - 4 unique gate sets out of 10 runs\n\n4. **Quality Issues:**\n   - Model uses conventional immunology hierarchy rather than the paper's specific QC gates\n   - Hallucinations are minimal - populations are biologically valid\n   - Missing the specific OMIP-101 \"Non-beads\", \"Non-aggregates\" cleaning gates\n\nMEDIAN_QUALITY: 6 (captures major populations correctly but misses specific QC gate structure)\nCONSISTENCY: 7 (4 unique patterns, but core populations stable across runs)\nWORST_CASE: 5 (some runs use non-standard naming like \"Stable Flow\" > \"Cells\")\nBEST_CASE: 7 (runs with detailed annotations capture more populations)\nFAILURE_MODES: missing intermediate QC gates (Non-beads, Non-aggregates, Non-granulocytes), missing HLA-DR+ myeloid hierarchy, simplified conventional structure instead of paper-specific hierarchy\nRELIABILITY: medium - Model reliably produces biologically valid hierarchies with correct terminal populations, but consistently fails to reproduce the specific quality-control gate sequence from OMIP-101.\nSUMMARY: Gemini-2.5-Pro demonstrates strong immunology knowledge by correctly identifying monocyte subsets, T/NK/B cell populations, and memory subsets, but substitutes a generic conventional gating structure for the paper's specific multi-step quality control hierarchy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.4444444444444444,
      "unique_gate_sets": 6,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2776,
      "timestamp": "2026-01-13T04:49:33.861124",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.4,
      "worst_case": 0.0,
      "best_case": 0.7,
      "failure_modes": "reversed lymphocyte/live cell order, missing IgE gate, memory subset terminology mismatch, light chain hallucinations (IgKappa/IgLambda), occasional truncation failures, inconsistent singlet gate naming",
      "reliability": "medium - Model understands B cell biology and Ig subclass logic but produces structurally variable outputs and occasionally fails completely; not suitable for automated pipelines without validation",
      "summary": "Gemini-2.5-pro demonstrates solid domain knowledge of B cell immunophenotyping with correct Ig subclass hierarchy, but inconsistent structural choices, terminology mismatches with ground truth memory subsets, and a 10% complete failure rate limit its reliability.",
      "raw_response": "Looking at these 10 predictions for OMIP-074 (B cell IgG/IgA subclass phenotyping panel), I'll evaluate the model's performance systematically.\n\n**Key Observations:**\n\n1. **Core structure is mostly correct**: Nearly all runs correctly identify the upstream path (Time Gate \u2192 Singlets \u2192 Live Cells \u2192 Lymphocytes \u2192 B cells) and downstream IgG/IgA subclass gates (IgG1-4, IgA1-2).\n\n2. **Critical discrepancy - gate ordering**: The ground truth places **Lymphocytes before Live cells**, while predictions consistently show **Live Cells before Lymphocytes**. This is a consistent structural error, though the reversed order is arguably more common in standard gating practice.\n\n3. **Memory subset terminology varies**: Ground truth uses \"Resting Memory (RM)\", \"Activated Memory (AM)\", \"Tissue-like Memory (TLM)\". Predictions use more conventional terms like \"Naive\", \"Non-switched Memory\", \"Switched Memory\", \"Double Negative\" - which are valid but different classification schemes.\n\n4. **Class-switched terminology**: Ground truth uses \"Class-switched B cells\" as an intermediate node; predictions use \"Switched B cells (IgM- IgD-)\" or \"Switched Memory B cells\" - functionally equivalent.\n\n5. **Run 6 is a complete failure**: The response was truncated prose, not a valid hierarchy.\n\n6. **IgE gate missing**: Ground truth includes IgE+ B cells; no prediction captures this (likely because IgE is rare and often omitted in practice).\n\n7. **Light chain gates (IgKappa/IgLambda)**: Present in several predictions (Runs 1, 8, 9, 10) but absent from ground truth - these are hallucinations relative to expected output.\n\n**Quality Assessment:**\n- Best runs (2, 5, 7): Capture IgG/IgA subclasses correctly with proper nesting\n- Medium runs (1, 3, 4, 8, 9, 10): Various structural variants, some hallucinations\n- Worst run (6): Complete parse failure\n\nMEDIAN_QUALITY: 6 (captures major B cell subsets and Ig subclasses, but uses different memory classification scheme than ground truth)\nCONSISTENCY: 4 (6 unique gate sets, structural variations in singlet naming, memory subset placement varies)\nWORST_CASE: 0 (Run 6 failed to produce valid hierarchy)\nBEST_CASE: 7 (Runs 2/5/7 correctly capture class-switching logic with IgG/IgA subclasses)\nFAILURE_MODES: reversed lymphocyte/live cell order, missing IgE gate, memory subset terminology mismatch, light chain hallucinations (IgKappa/IgLambda), occasional truncation failures, inconsistent singlet gate naming\nRELIABILITY: medium - Model understands B cell biology and Ig subclass logic but produces structurally variable outputs and occasionally fails completely; not suitable for automated pipelines without validation\nSUMMARY: Gemini-2.5-pro demonstrates solid domain knowledge of B cell immunophenotyping with correct Ig subclass hierarchy, but inconsistent structural choices, terminology mismatches with ground truth memory subsets, and a 10% complete failure rate limit its reliability.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2644,
      "timestamp": "2026-01-13T04:50:03.368334",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.6,
      "failure_modes": "missing Tscm/Ttm/Tfh/Treg populations, hallucinated activation substates, QC gate inflation",
      "reliability": "medium The model reliably predicts conventional memory subsets but systematically misses specialized populations defined in this specific OMIP protocol.",
      "summary": "Gemini-2.5-pro demonstrates high consistency (78%) and correct core T-cell biology but fails to capture protocol-specific populations (Tscm, Ttm, Tfh, Tregs), suggesting retrieval of generic T-cell panels rather than reasoning from the specific marker panel provided.",
      "raw_response": "## Evaluation of gemini-2.5-pro on OMIP-087 (CyTOF T-cell memory panel)\n\nLooking at the 10 runs, I can identify **3 distinct prediction patterns**:\n\n### Pattern Analysis\n\n**Pattern A (Runs 1,2,3,5,6,7,8):** 7/10 runs\n- Adds QC gates: `Quality Events > Singlets > Live`\n- Uses abbreviated memory nomenclature: `Tn`, `Tcm`, `Tem`\n- Adds activation/exhaustion substates: `Activated (HLA-DR+)`, `Exhausted (PD-1+)`\n- **Missing:** Stem cell memory, Transitional memory, Tfh, Tregs\n\n**Pattern B (Run 4):** 1/10 runs\n- Different QC naming: `Good Signal Events`\n- Includes `Gamma-Delta T Cells` branch and `Alpha-Beta T Cells` intermediate\n- Uses TEMRA terminology\n- Fewer total gates (15 vs 24)\n\n**Pattern C (Runs 9,10):** 2/10 runs\n- Minimal QC: `Singlets > Live`\n- Includes `TCRgd- (TCRab)` gate\n- Adds Th1/Th2/Th17 functional subsets under Tem\n- **Missing:** Same core populations as Pattern A\n\n### Key Observations\n\n1. **Consistent core structure:** All runs correctly identify CD4/CD8 T-cell lineages with Naive/Tcm/Tem differentiation\n2. **Missing ground truth populations:** No run captures Stem cell memory, Transitional memory, Tfh, or Tregs - these are OMIP-087-specific populations the model doesn't predict\n3. **Hallucinated substates:** Activation/exhaustion markers and Th subsets are reasonable extensions but not in ground truth\n4. **QC gate inflation:** Model adds 3-4 upstream QC gates not present in simplified ground truth (appropriate for CyTOF where scatter-based singlets don't apply, but still divergent)\n\n---\n\nMEDIAN_QUALITY: 6 (captures major T-cell subsets and memory differentiation but misses specialized populations like Tscm, Ttm, Tfh, Tregs)\nCONSISTENCY: 8 (70% of runs produce identical output; 3 variants total with same conceptual framework)\nWORST_CASE: 5 (Run 4 has fewer gates and unusual Alpha-Beta intermediate node)\nBEST_CASE: 6 (no run captures Tfh, Tregs, or Tscm - ceiling is limited)\nFAILURE_MODES: missing Tscm/Ttm/Tfh/Treg populations, hallucinated activation substates, QC gate inflation\nRELIABILITY: medium The model reliably predicts conventional memory subsets but systematically misses specialized populations defined in this specific OMIP protocol.\nSUMMARY: Gemini-2.5-pro demonstrates high consistency (78%) and correct core T-cell biology but fails to capture protocol-specific populations (Tscm, Ttm, Tfh, Tregs), suggesting retrieval of generic T-cell panels rather than reasoning from the specific marker panel provided.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2407,
      "timestamp": "2026-01-13T04:50:35.372846",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.8,
      "worst_case": 0.4,
      "best_case": 0.4,
      "failure_modes": "missing NK cell lineage, missing ILC populations, incorrect omission of CD3-negative populations, over-focus on T cell subsets",
      "reliability": "low - The model systematically ignores half the expected hierarchy (NK/ILC populations), making it unreliable for panels with mixed lineage targets",
      "summary": "High structural consistency but systematically omits NK and ILC populations despite this being a specialized NK/ILC panel, capturing only the T cell branch of what should be a dual-lineage hierarchy.",
      "raw_response": "Looking at these 10 predictions against the ground truth for OMIP-064 (a 27-color NK/ILC panel), I'll evaluate the model's performance.\n\n**Key Observations:**\n\n1. **Critical structural issue**: The ground truth shows ILCs and NK cells as separate from T cells (under Lymphocytes), but the model consistently places ALL populations under CD3+ T cells. This is a fundamental biological error - NK cells and ILCs are CD3-negative by definition.\n\n2. **Missing entire branches**: \n   - No predictions include \"Innate Lymphoid Cells\" as a gate\n   - No predictions include \"NK cells\" or \"Activated NK cells\"\n   - \"Other ILC subsets\" completely absent\n\n3. **What the model gets right**:\n   - MAIT cells correctly placed under T cells\n   - \u03b3\u03b4 T cells correctly placed under T cells\n   - General preprocessing gates (singlets, live cells) are reasonable\n   - V\u03b42+/- subdivision is sensible (though not in ground truth)\n\n4. **Consistency patterns**:\n   - Runs 3-7 and 9 are nearly identical\n   - Runs 1 and 8 share a variant structure (dual singlet gates)\n   - Runs 2 and 10 share another variant\n\n5. **Hallucinations that are scientifically valid**: The model adds biologically reasonable gates not in ground truth (CD4+/CD8+ subsets, V\u03b42 subtyping), suggesting it's applying domain knowledge rather than blindly guessing.\n\n**The core failure**: Despite this being a panel specifically designed for NK/ILC characterization (per the ground truth), the model completely omits the NK and ILC lineages, focusing exclusively on T cell subsets. This represents a major miss of the panel's primary purpose.\n\nMEDIAN_QUALITY: 4 (correctly handles T cell branch but completely misses NK/ILC branch which is the panel's main focus)\nCONSISTENCY: 8 (3 structural variants across 10 runs, with 70% sharing identical structure)\nWORST_CASE: 4 (all runs have the same fundamental flaw - missing NK/ILC populations)\nBEST_CASE: 4 (even the best runs omit the NK/ILC branch entirely)\nFAILURE_MODES: missing NK cell lineage, missing ILC populations, incorrect omission of CD3-negative populations, over-focus on T cell subsets\nRELIABILITY: low - The model systematically ignores half the expected hierarchy (NK/ILC populations), making it unreliable for panels with mixed lineage targets\nSUMMARY: High structural consistency but systematically omits NK and ILC populations despite this being a specialized NK/ILC panel, capturing only the T cell branch of what should be a dual-lineage hierarchy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2781,
      "timestamp": "2026-01-13T04:51:06.261902",
      "error": null,
      "median_quality": 0.8,
      "consistency": 0.7,
      "worst_case": 0.7,
      "best_case": 0.8,
      "failure_modes": "over-specification of marker phenotypes instead of population names, inconsistent QC gate naming, missing explicit Lymphocytes gate in some runs",
      "reliability": "high - Model reliably captures the biological intent of OMIP-025 across all runs; variations are in QC strategy not population identification",
      "summary": "Gemini-2.5-pro produces consistently accurate and detailed gating hierarchies for this T/NK panel, with minor variation in upstream quality control gates but stable biological population structure across all 10 runs.",
      "raw_response": "Looking at the 10 predictions against the ground truth for OMIP-025 (T/NK cell responses including memory and Tfh):\n\n**Ground Truth Structure:**\n- Simple 4-level hierarchy: All Events > Singlets > Live cells > Lymphocytes > [T cells/NK cells branches]\n- Abstract grouping nodes (e.g., \"CD4+ Memory subsets\", \"CD4+ Functional subsets\")\n\n**Model Predictions Analysis:**\n\n**Strengths across runs:**\n1. All runs correctly identify the core populations: CD4+ T cells, CD8+ T cells, NK cells\n2. Memory subset stratification (Naive/TCM/TEM/TEMRA) is consistently predicted and biologically accurate\n3. TFH-like cells correctly identified with CXCR5+/PD1+ markers\n4. Functional readouts (cytokines: IFN-\u03b3, IL-2, TNF-\u03b1, etc.) appropriately placed under T cell subsets\n\n**Consistent Deviations (not errors, reasonable choices):**\n1. **Added Dump channel gate (CD14- CD19-)**: Model adds lineage exclusion gate before T cells - this is standard practice and arguably more complete than ground truth\n2. **Time Gate**: Some runs (3, 5, 6, 9) include time gate - valid quality control step\n3. **Deeper hierarchy**: Model expands abstract nodes (\"CD4+ Memory subsets\") into explicit populations (Naive, TCM, TEM, TEMRA)\n\n**Structural Variations:**\n- Runs 1, 2, 4, 7, 8, 10: \"Cells > Singlets\" pattern (6/10)\n- Runs 3, 5: \"Time Gate > Cells > Singlets I > Singlets II\" pattern (2/10)  \n- Runs 6, 9: \"Time Gate > Singlets\" pattern (2/10)\n\n**Notable Issues:**\n1. **Missing explicit Lymphocytes gate** in some runs (absorbed into Dump Negative)\n2. **Over-specification**: Model provides marker-level detail (CXCR5+ > PD1+) rather than population names\n3. **Minor inconsistency**: 4 unique gate set patterns across 10 runs, but differences are in early QC gates, not biological populations\n\nMEDIAN_QUALITY: 8 (correctly captures all major populations with appropriate detail, adds reasonable QC gates)\nCONSISTENCY: 7 (core biological hierarchy stable; variation limited to upstream QC gating strategy)\nWORST_CASE: 7 (runs with double singlet gates are verbose but not wrong)\nBEST_CASE: 8 (comprehensive hierarchy matching OMIP intent with practical additions)\nFAILURE_MODES: over-specification of marker phenotypes instead of population names, inconsistent QC gate naming, missing explicit Lymphocytes gate in some runs\nRELIABILITY: high - Model reliably captures the biological intent of OMIP-025 across all runs; variations are in QC strategy not population identification\nSUMMARY: Gemini-2.5-pro produces consistently accurate and detailed gating hierarchies for this T/NK panel, with minor variation in upstream quality control gates but stable biological population structure across all 10 runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2472,
      "timestamp": "2026-01-13T04:51:36.241864",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of Gemini-2.5-Pro on OMIP-083 Monocyte Gating\n\n### Ground Truth Analysis\nThe expected hierarchy uses a simplified structure:\n- `All Events > Cleaned Events > Leukocytes > Non-granulocytes > Monocytes`\n- Terminal gates: Classical, Intermediate, SLAN+ Nonclassical, SLAN- Nonclassical\n\n### Prediction Patterns Observed\n\n**Consistent strengths across all 10 runs:**\n1. All runs correctly identify the three canonical monocyte subsets (Classical, Intermediate, Non-classical)\n2. All include appropriate upstream gating (singlets, CD45+, platelet exclusion)\n3. Hierarchy structure is biologically valid in all cases\n\n**Key variations:**\n- **Runs 1-2, 8-9** (4 runs): Include Myeloid DCs as sister population to Monocytes; use \"Lin- CD66b-\" and \"HLA-DR+\" intermediate gates\n- **Runs 3-4, 7, 10** (4 runs): Simpler path; only capture SLAN+ (missing SLAN-)\n- **Run 5** (1 run): Most complete - captures both SLAN+ and SLAN- non-classical subsets; uses \"Non-Granulocytes\" matching ground truth terminology\n- **Run 6** (1 run): Adds terminal \"Phenotyping\" nodes (unusual)\n\n**Critical discrepancy:** Only Run 5 captures the SLAN- Nonclassical Monocytes that appear in ground truth. 9/10 runs miss this population entirely.\n\n### Scoring\n\n**MEDIAN_QUALITY: 7**\nTypical predictions correctly identify core monocyte subsets with valid gating logic, but miss SLAN- subdivision and use different intermediate gate nomenclature than ground truth.\n\n**CONSISTENCY: 6**\nFour distinct hierarchy patterns across 10 runs. The core monocyte gates are stable, but upstream path and terminal granularity vary considerably.\n\n**WORST_CASE: 5**\nRuns missing SLAN subdivision entirely and adding extraneous populations (Myeloid DCs, Phenotyping nodes) diverge most from ground truth structure.\n\n**BEST_CASE: 8**\nRun 5 captures both SLAN+ and SLAN- non-classical monocytes with terminology (\"Non-Granulocytes\") matching ground truth. Only misses the \"Other Monocyte Subsets\" intermediate grouping.\n\n**FAILURE_MODES:** missing SLAN- nonclassical monocytes (9/10 runs), inconsistent upstream gate nomenclature, hallucinated populations (Myeloid DCs in 5/10 runs, Phenotyping nodes), missing \"Other Monocyte Subsets\" intermediate grouping\n\n**RELIABILITY:** medium - The model reliably identifies canonical monocyte subsets but inconsistently handles fine-grained subdivisions (SLAN+/-) and adds populations not in the target panel.\n\n**SUMMARY:** Gemini-2.5-Pro demonstrates solid understanding of monocyte biology and standard gating practices, but shows moderate run-to-run variability and systematically misses the SLAN- nonclassical subset that distinguishes this panel's ground truth from generic monocyte gating.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.5555555555555556,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2290,
      "timestamp": "2026-01-13T04:52:05.621167",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.5,
      "worst_case": 0.3,
      "best_case": 0.6,
      "failure_modes": "KIR gates nested under CD56 subsets instead of total NK cells, missing Mamu-specific nomenclature, CD16/CD56 subsets not parallel to KIR hierarchy, generic \"KIR Expression\" collapse in some runs",
      "reliability": "medium The model captures the general NK phenotyping concept but consistently misunderstands the hierarchy structure where KIR quadrant gates and CD56 functional subsets should be parallel branches under NK cells.",
      "summary": "Model understands NK cell gating components but reorganizes the hierarchy with CD56 subsets as parents for KIR gates rather than maintaining them as parallel branches, missing the paper's specific analytical design.",
      "raw_response": "Looking at the ground truth and the 10 predictions, let me evaluate this systematically.\n\n**Ground Truth Analysis:**\n- Hierarchy: All Events > Singlets > Live cells > Lymphocytes > NK cells > [KIR subsets based on Mamu-KIR3DL01 and KIR3DL05 combinations, plus CD16/CD56 functional subsets]\n- Key features: Single singlet gate, Live cells before Lymphocytes, NK cells as parent for both KIR quadrant gates AND CD16/CD56 subsets\n\n**Prediction Patterns:**\n\n1. **Structural differences from ground truth:**\n   - All predictions use double singlet gating (Singlets I > Singlets II) - reasonable technical variation\n   - Most add Time Gate or Stable Time - reasonable but not in ground truth\n   - Live cells placement varies: some omit it, some place it after Lymphocytes (Run 7-8)\n\n2. **Major conceptual errors:**\n   - Ground truth gates KIR on Mamu-KIR3DL01 first, then KIR3DL05 within that (creating 4 quadrants)\n   - Predictions mostly gate KIR separately on CD56 subsets (CD56dim, CD56bright) rather than on total NK cells\n   - Ground truth has CD16/CD56 subsets as siblings to KIR subsets under NK cells; predictions often use CD56 subsets as parents for KIR gates\n\n3. **Run 9 is closest:** Shows all 4 KIR quadrant combinations (KIR3DL01+/- \u00d7 KIR3DL05+/-) but still places them under CD56 subsets rather than total NK cells\n\n4. **Runs 4 and 10 are weakest:** Collapse KIR gates to generic \"KIR Expression\" - loss of specificity\n\n5. **Consistency issues:** 5 unique gate sets across 10 runs shows moderate instability. Core structure (double singlets > lymphocytes > NK subsets) is stable, but terminal gate organization varies significantly.\n\n**Critical gates missed:**\n- \"Mamu-KIR3DL01+\" naming (species-specific nomenclature) never captured\n- Proper nesting of KIR quadrants under total NK cells (not under CD56 subsets)\n\nMEDIAN_QUALITY: 5\nCONSISTENCY: 5\nWORST_CASE: 3\nBEST_CASE: 6\nFAILURE_MODES: KIR gates nested under CD56 subsets instead of total NK cells, missing Mamu-specific nomenclature, CD16/CD56 subsets not parallel to KIR hierarchy, generic \"KIR Expression\" collapse in some runs\nRELIABILITY: medium The model captures the general NK phenotyping concept but consistently misunderstands the hierarchy structure where KIR quadrant gates and CD56 functional subsets should be parallel branches under NK cells.\nSUMMARY: Model understands NK cell gating components but reorganizes the hierarchy with CD56 subsets as parents for KIR gates rather than maintaining them as parallel branches, missing the paper's specific analytical design.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.6,
      "consistency_score": 0.6,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2030,
      "timestamp": "2026-01-13T04:52:32.183302",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.4,
      "worst_case": 0.0,
      "best_case": 0.7,
      "failure_modes": "MAX_TOKENS truncation on complex panels, hallucinated Time Gate, inconsistent TCR nomenclature, over-deep hierarchy speculation",
      "reliability": "low (40% complete failure rate makes this model unreliable for production use on complex panels without token limit increases)",
      "summary": "Gemini-2.5-pro produces biologically reasonable hierarchies when it completes, but fails catastrophically on 40% of attempts due to token exhaustion on this 40-color panel\u2014increase max_tokens significantly before using on complex panels.",
      "raw_response": "Looking at these 10 runs for gemini-2.5-pro on OMIP-095:\n\n**Parse Success Analysis:**\n- 6/10 runs succeeded (60% success rate)\n- 4/10 runs hit MAX_TOKENS limit and failed to produce parseable output\n\n**Quality of Successful Predictions:**\nThe successful runs (1, 3, 6, 7, 8, 9) show:\n- **Structural accuracy**: All add a \"Time Gate\" not in ground truth, and some split singlets into FSC/SSC steps\n- **Coverage**: Predictions capture all major lineages (T cells, B cells, NK cells, monocytes, DCs, macrophages) plus additional depth (Tregs, naive/memory subsets, \u03b3\u03b4 T cells, NKT cells)\n- **Over-specification**: Models predict deeper hierarchies than ground truth (e.g., Tregs, memory subsets) which may be reasonable for a 40-color panel but aren't in the reference\n- **Consistency among successes**: Runs 1, 6, 7 are nearly identical; Runs 3, 8 are nearly identical; Run 9 has minor naming variations\n\n**Key Issues:**\n1. **Token exhaustion**: 40% failure rate from MAX_TOKENS on this complex 40-color panel\n2. **Hallucinated gates**: Time Gate not in ground truth; \u03b1\u03b2/\u03b3\u03b4 T cell split adds complexity beyond reference\n3. **Naming inconsistencies**: \"\u03b3\u03b4 T Cells\" vs \"TCRgd+ T Cells\" vs \"gd T Cells\" across runs\n\nMEDIAN_QUALITY: 6 (successful predictions capture major populations with reasonable structure but add gates not in ground truth)\nCONSISTENCY: 4 (40% complete failures; successful runs cluster into 2-3 naming variants)\nWORST_CASE: 0 (4 runs produced no usable output due to token limits)\nBEST_CASE: 7 (best runs capture all major lineages with logical hierarchy, though over-specified)\nFAILURE_MODES: MAX_TOKENS truncation on complex panels, hallucinated Time Gate, inconsistent TCR nomenclature, over-deep hierarchy speculation\nRELIABILITY: low (40% complete failure rate makes this model unreliable for production use on complex panels without token limit increases)\nSUMMARY: Gemini-2.5-pro produces biologically reasonable hierarchies when it completes, but fails catastrophically on 40% of attempts due to token exhaustion on this 40-color panel\u2014increase max_tokens significantly before using on complex panels.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.7,
      "consistency_score": 0.5,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2366,
      "timestamp": "2026-01-13T04:52:56.646293",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.4,
      "worst_case": 0.0,
      "best_case": 0.6,
      "failure_modes": "parse failure returning prose instead of JSON, missing B cell lineage entirely, over-specified T cell gating with CD4/CD8 split, hallucinated intermediate gates (Cells, Leukocytes)",
      "reliability": "low - 30% parse failure rate and inconsistent structural predictions make this unreliable for automated pipelines",
      "summary": "Model demonstrates reasonable immunological knowledge for T cell subsets but suffers from format compliance failures and systematic omission of B cell populations present in the ground truth.",
      "raw_response": "Looking at the predictions across 10 runs for OMIP-076 (murine splenocyte panel):\n\n**Key Observations:**\n\n1. **Parse Failures (30%)**: Runs 8, 9, 10 failed to produce valid JSON - the model output reasoning text instead of the expected hierarchy format.\n\n2. **Structural Discrepancies**: The ground truth uses a simple \"Lymphocytes > T cells\" or \"Lymphocytes > B cells\" structure, but the model consistently adds extra gates:\n   - Adds \"Cells\" gate after All Events\n   - Adds \"Leukocytes (CD45+)\" which isn't in ground truth\n   - Uses \"TCR\u03b2+\" for T cells (marker-based naming)\n   - Splits into CD4/CD8 subsets rather than generic \"T cells\"\n\n3. **Missing B cell lineage**: Ground truth includes B cells with Plasma cells, Plasmablasts, Activated B cells, Memory B cells - but most predictions focus heavily on T cell subsets and underrepresent B cells.\n\n4. **Correct populations identified**: Memory subsets (Naive, CM, EM), Tregs, Tfh are correctly identified and placed under T cells.\n\n5. **Run consistency**: Runs 1, 4, 5, 6 are nearly identical. Runs 2, 3, 7 show variation in early gating (double singlets, different naming).\n\n**Scoring:**\n\nMEDIAN_QUALITY: 5 (captures T cell subsets correctly but misses B cell branch, adds non-ground-truth intermediate gates)\nCONSISTENCY: 4 (70% parse success, 4 unique gate sets among successful parses, identical outputs in 4/10 runs)\nWORST_CASE: 0 (parse failures produce no usable hierarchy)\nBEST_CASE: 6 (run 7 shows most complete structure including some B cell elements implied in \"+8 more\")\nFAILURE_MODES: parse failure returning prose instead of JSON, missing B cell lineage entirely, over-specified T cell gating with CD4/CD8 split, hallucinated intermediate gates (Cells, Leukocytes)\nRELIABILITY: low - 30% parse failure rate and inconsistent structural predictions make this unreliable for automated pipelines\nSUMMARY: Model demonstrates reasonable immunological knowledge for T cell subsets but suffers from format compliance failures and systematic omission of B cell populations present in the ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.5555555555555556,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1757,
      "timestamp": "2026-01-13T04:53:26.220212",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.5-pro on OMIP-008\n\n### Ground Truth Analysis\nThe expected hierarchy is simple:\n- All Events > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ T cells\n\nKey required elements: Singlets, Live cells, Lymphocytes, T cells gate, CD4+/CD8+ terminal populations.\n\n### Prediction Analysis\n\n**Consistent elements across all 10 runs:**\n- All start with \"All Events\"\n- All include some form of singlet gating\n- All correctly identify CD4+ and CD8+ T cell populations\n- All add Double Negative and Double Positive gates (not in ground truth)\n\n**Inconsistent elements:**\n- Time Gate present in 8/10 runs (absent in runs 3, 5, 9) - not in ground truth\n- \"Cells\" gate in 5/10 runs - not in ground truth\n- Single vs dual singlet gates varies (Singlets I/II, FSC/SSC variants)\n- \"T cells\" intermediate gate only in 1/10 runs (Run 2) - **missing in 9/10**\n- Live cells gate present in only 4/10 runs\n\n**Critical errors:**\n1. **Missing T cells gate** in 9/10 runs - CD4+/CD8+ directly under Lymphocytes\n2. **Hallucinated gates**: Time Gate, Cells, Double Negative, Double Positive\n3. **Missing Live cells** in 6/10 runs\n4. **Over-engineered singlet gating** (dual singlet gates not specified)\n\n---\n\n**MEDIAN_QUALITY: 5** (captures terminal populations correctly but missing T cells intermediate gate and Live cells; adds hallucinated gates)\n\n**CONSISTENCY: 4** (5 unique gate set patterns across 10 runs; Time gate, Cells gate, singlet naming, Live cells presence all vary significantly)\n\n**WORST_CASE: 4** (Runs 5, 9: missing Live cells, missing T cells gate, adds Time/Cells/DN/DP hallucinations)\n\n**BEST_CASE: 7** (Run 2: includes Live Cells, T Cells intermediate, correct structure - though still has hallucinated Time Gate and DN/DP)\n\n**FAILURE_MODES: missing T cells intermediate gate, missing Live cells gate, hallucinated Time Gate, hallucinated Double Negative/Double Positive populations, inconsistent singlet naming conventions, hallucinated Cells gate\n\n**RELIABILITY: medium** The model reliably identifies terminal CD4+/CD8+ populations but inconsistently reconstructs the intermediate gating hierarchy and hallucinates additional gates.\n\n**SUMMARY: gemini-2.5-pro correctly identifies key terminal populations but shows poor structural accuracy by frequently omitting the T cells intermediate gate and Live cells, while consistently hallucinating Time and Double Negative/Positive gates not present in the ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 0.8,
      "consistency_score": 0.5714285714285714,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1975,
      "timestamp": "2026-01-13T04:53:53.941968",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.0,
      "best_case": 0.6,
      "failure_modes": "parse failure returning reasoning text, malformed \"Quality Control Strategy\" fragments, missing Live cells gate, missing specialized populations (NK-T, Plasma cells, MZ B cells), inconsistent early gate naming",
      "reliability": "low (Only 40% of runs produced valid hierarchies; systematic failure modes suggest the model struggles with output format compliance for this task)",
      "summary": "Gemini-2.5-pro shows domain knowledge when it succeeds but fails to produce valid structured output in 60% of attempts, making it unreliable for automated gating prediction without human verification.",
      "raw_response": "Looking at this evaluation systematically:\n\n**Parse Analysis:**\n- 2/10 runs failed to parse (runs 1, 8) - returned reasoning text instead of structured hierarchy\n- 4/10 runs (4, 5, 6, 7) produced malformed output - \"Quality Control Strategy:\" text fragments instead of proper hierarchies\n- Only 4/10 runs (2, 3, 9, 10) produced valid gating hierarchies\n\n**Quality of Successful Parses:**\n- Runs 2, 3, 9, 10 show reasonable hierarchies with appropriate gates (T cells, B cells, NK cells, monocyte subsets, granulocytes)\n- They correctly identify major populations: T cells, B cells, NK cells (with CD56bright/dim subsets), monocyte subsets (classical/intermediate/non-classical), DCs\n- Missing from ground truth: NK-T cells, Marginal Zone B cells, Plasma cells are not consistently predicted\n- Extra gates not in ground truth: CD56bright/dim NK subsets, Neutrophils/Eosinophils (granulocyte detail)\n\n**Structural Issues:**\n- Ground truth uses: All Events > Singlets > Live cells > Leukocytes\n- Model predictions use: \"Time Gated > Cells > Singlets\" or \"Stable Flow > Cells > Singlets\"\n- No \"Live cells\" gate explicitly included in any prediction\n- Inconsistent naming of early gates across runs\n\n**Consistency:**\n- Runs 3 and 9 are nearly identical\n- Runs 4-7 all produced the same malformed output (deterministic failure mode)\n- Runs 1 and 8 both failed the same way\n\nMEDIAN_QUALITY: 5 (successful runs capture major populations but miss specialized gates like Plasma cells, MZ B cells, NK-T cells; structural differences in early hierarchy)\nCONSISTENCY: 3 (4 different valid outputs from 10 runs; 6/10 runs produced unparseable or malformed output)\nWORST_CASE: 0 (runs 1, 4-8 produced no usable hierarchy)\nBEST_CASE: 6 (runs 3, 9 show good coverage of major populations with logical subgating)\nFAILURE_MODES: parse failure returning reasoning text, malformed \"Quality Control Strategy\" fragments, missing Live cells gate, missing specialized populations (NK-T, Plasma cells, MZ B cells), inconsistent early gate naming\nRELIABILITY: low (Only 40% of runs produced valid hierarchies; systematic failure modes suggest the model struggles with output format compliance for this task)\nSUMMARY: Gemini-2.5-pro shows domain knowledge when it succeeds but fails to produce valid structured output in 60% of attempts, making it unreliable for automated gating prediction without human verification.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.5555555555555556,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1204,
      "timestamp": "2026-01-13T04:54:22.205376",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.4,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "missing FoxP3- non-Treg branch (70% of runs), over-engineering with Time Gate/Cells/dual singlets, inconsistent singlet gate naming, missing Lymphocytes gate",
      "reliability": "low - Model shows concerning inconsistency with 70% of runs omitting a critical population branch, making it unreliable for complete gating strategy prediction.",
      "summary": "Gemini-2.5-pro captures the core Treg identification concept but frequently omits the complementary FoxP3- population and adds unnecessary gates, with significant run-to-run variability in hierarchy structure.",
      "raw_response": "Looking at the 10 predictions against the ground truth, I'll evaluate systematically.\n\n**Ground Truth Analysis:**\n- Expected: All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3+ Treg / FoxP3- non-Treg\n- Key gates: Singlets (1 gate), Live cells, Lymphocytes, CD4+ T cells, FoxP3+/- split\n\n**Prediction Patterns Observed:**\n\n1. **Runs 1-3**: Add \"Cells\" gate, vary singlet handling, include both Treg/Tconv split\n2. **Runs 4, 6, 7, 9**: Add Time Gate, Cells, dual singlets (FSC/SSC), Live Cells - but **missing Lymphocytes gate and missing FoxP3- branch**\n3. **Runs 5, 8**: Similar to above with \"Stable Flow\" instead of Time Gate - **missing Lymphocytes and FoxP3- branch**\n4. **Run 10**: Similar structure, includes Lymphocytes, **missing FoxP3- branch**\n\n**Critical Issues:**\n- **Missing FoxP3- branch**: Runs 4-10 (7/10 runs) only show the Treg population, completely omitting the FoxP3- non-Treg branch\n- **Missing Lymphocytes gate**: Runs 4-9 skip the Lymphocytes gate, going directly to CD4+ T cells\n- **Over-engineering**: All runs add extra gates not in ground truth (Cells, dual singlets, Time Gate)\n- **Inconsistent nomenclature**: Singlets 1/2 vs Singlets I/II vs Singlets (FSC)/Singlets (SSC)\n\n**Quality Assessment:**\n- Runs 1-3: Capture both branches, reasonable structure (~7/10)\n- Runs 4-10: Missing critical FoxP3- population (~4-5/10)\n\n---\n\nMEDIAN_QUALITY: 5 (most runs miss the FoxP3- non-Treg branch entirely, a fundamental omission)\nCONSISTENCY: 4 (5 unique gate sets across 10 runs; structural variation in singlet handling and optional gates)\nWORST_CASE: 4 (runs missing both Lymphocytes gate AND the FoxP3- branch capture only half the biology)\nBEST_CASE: 7 (runs 1-3 include both Treg/Tconv populations with reasonable hierarchy)\nFAILURE_MODES: missing FoxP3- non-Treg branch (70% of runs), over-engineering with Time Gate/Cells/dual singlets, inconsistent singlet gate naming, missing Lymphocytes gate\nRELIABILITY: low - Model shows concerning inconsistency with 70% of runs omitting a critical population branch, making it unreliable for complete gating strategy prediction.\nSUMMARY: Gemini-2.5-pro captures the core Treg identification concept but frequently omits the complementary FoxP3- population and adds unnecessary gates, with significant run-to-run variability in hierarchy structure.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.5555555555555556,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2755,
      "timestamp": "2026-01-13T04:54:46.861137",
      "error": null,
      "median_quality": 0.8,
      "consistency": 0.6,
      "worst_case": 0.7,
      "best_case": 0.9,
      "failure_modes": "inconsistent time gate naming, variable singlet gating depth, dump channel position varies",
      "reliability": "medium-high The model reliably produces biologically valid hierarchies but naming inconsistency could complicate automated scoring.",
      "summary": "Gemini-2.5-pro demonstrates strong domain knowledge with predictions that appropriately elaborate beyond the ground truth, though naming variability across runs indicates sensitivity to prompt interpretation rather than fundamental reasoning errors.",
      "raw_response": "Looking at gemini-2.5-pro's predictions across 10 runs for OMIP-022, I'll evaluate against the expected hierarchy for antigen-specific T-cell functionality and memory analysis.\n\n**Key Observations:**\n\n1. **Core structure is consistently correct**: All runs capture the essential flow: All Events \u2192 Time/Intact \u2192 Singlets \u2192 Live \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+ \u2192 Memory subsets \u2192 Functional markers\n\n2. **Predictions are MORE detailed than ground truth**: The model correctly expands \"Memory Subsets\" into specific populations (Naive, TCM, TEM, TEMRA) and \"Functional Analysis\" into individual cytokines (IFN-\u03b3, IL-2, TNF, IL-17A, IL-22)\n\n3. **Naming variations across runs**:\n   - Time Gate: \"Time Gate\" vs \"Time\" vs \"Intact Cells\" vs \"Stable Flow\"\n   - Singlets: Single gate vs two-step (Singlets I/II)\n   - Dump channel: \"Dump-\" vs \"CD14-CD19-\" vs \"Dump- (CD14-CD19-)\"\n\n4. **Structural consistency**: All runs include the dump channel (CD14-CD19-) exclusion, which is appropriate for this panel but not explicitly in ground truth\n\n5. **Biologically appropriate elaboration**: The ~50+ paths per run reflect proper combinatorial gating of memory subsets \u00d7 cytokines, which matches how this OMIP would actually be analyzed\n\n**Failure Modes:**\n- Runs 1, 5, 6, 9 use \"Intact Cells\" instead of time parameter terminology (minor)\n- Some runs use double singlet gating unnecessarily\n- Lymphocyte gate placement varies relative to dump channel\n\nMEDIAN_QUALITY: 8 (predictions capture correct biology with appropriate detail, exceeding ground truth granularity)\nCONSISTENCY: 6 (structural logic consistent but naming conventions vary; 5 unique gate sets across 10 runs)\nWORST_CASE: 7 (even worst runs have correct hierarchy logic, just alternative naming)\nBEST_CASE: 9 (runs 2, 3, 8 use standard nomenclature closely matching expected hierarchy)\nFAILURE_MODES: inconsistent time gate naming, variable singlet gating depth, dump channel position varies\nRELIABILITY: medium-high The model reliably produces biologically valid hierarchies but naming inconsistency could complicate automated scoring.\nSUMMARY: Gemini-2.5-pro demonstrates strong domain knowledge with predictions that appropriately elaborate beyond the ground truth, though naming variability across runs indicates sensitivity to prompt interpretation rather than fundamental reasoning errors.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.5-pro",
      "condition": "gemini-2.5-pro_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.6666666666666667,
      "unique_gate_sets": 4,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2717,
      "timestamp": "2026-01-13T04:55:12.160752",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.4,
      "worst_case": 0.0,
      "best_case": 0.7,
      "failure_modes": "CoT response parsing failure (40% of runs), missing intermediate QC gates (Non-beads, Non-aggregates), alternative gating strategy divergence from ground truth",
      "reliability": "low The 40% rate of parse failures where CoT reasoning text leaked into output makes this model unreliable for automated pipelines.",
      "summary": "When the model produces valid output, it demonstrates good flow cytometry knowledge with a reasonable alternative gating strategy, but the high rate of CoT parse failures and the inconsistency between runs severely limit practical utility.",
      "raw_response": "## Evaluation of gemini-2.5-pro on OMIP-101 (10 runs)\n\nLooking at these predictions, I can identify distinct response patterns:\n\n**Pattern A (Runs 1, 3, 8, 9):** Well-structured hierarchies with proper gating logic. These show:\n- Correct QC gates (Time Gate \u2192 Scatter \u2192 Singlets)\n- Appropriate CD66- strategy for separating granulocytes from other lineages\n- Good terminal population identification (monocyte subsets, T cell subsets)\n- Main deviation from ground truth: Different intermediate gate naming (CD66- vs Non-granulocytes/Myeloid)\n\n**Pattern B (Runs 5, 6):** Similar structure but uses \"Intact Cells\" instead of \"Cells (Scatter)\" and slightly different organization. Still biologically valid.\n\n**Pattern C (Runs 2, 4, 7, 10):** Parse failures producing reasoning text fragments rather than proper hierarchies. These captured CoT explanation text instead of the final JSON output.\n\n**Key observations:**\n1. **Structural differences from ground truth:** Model uses CD66- gating strategy vs ground truth's \"Non-granulocytes \u2192 Myeloid cells \u2192 Non-T/B/NK contamination \u2192 HLA-DR+\" path. Both are valid approaches for whole blood.\n2. **Missing gates:** Ground truth has explicit \"Non-beads\" gate (likely for counting beads) and \"Non-aggregates\" that model omits.\n3. **Terminal populations match well:** Classical/Intermediate/Non-classical monocytes, CD4/CD8 T cells, NK subsets, B cell subsets all present.\n4. **40% parse failure rate:** 4/10 runs returned reasoning text rather than hierarchy.\n\n---\n\nMEDIAN_QUALITY: 6 (valid alternative gating strategy but misses some ground truth intermediate gates)\nCONSISTENCY: 4 (4 distinct patterns including 4 parse failures; only 60% produced valid hierarchies)\nWORST_CASE: 0 (runs 2, 4, 7, 10 returned reasoning fragments, not usable hierarchies)\nBEST_CASE: 7 (runs 1, 3, 8, 9 show competent alternative strategy with good terminal populations)\nFAILURE_MODES: CoT response parsing failure (40% of runs), missing intermediate QC gates (Non-beads, Non-aggregates), alternative gating strategy divergence from ground truth\nRELIABILITY: low The 40% rate of parse failures where CoT reasoning text leaked into output makes this model unreliable for automated pipelines.\nSUMMARY: When the model produces valid output, it demonstrates good flow cytometry knowledge with a reasonable alternative gating strategy, but the high rate of CoT parse failures and the inconsistency between runs severely limit practical utility.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 1.0,
      "unique_gate_sets": 1,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1906,
      "timestamp": "2026-01-13T04:55:35.830672",
      "error": null,
      "median_quality": 0.6,
      "consistency": 1.0,
      "worst_case": 0.6,
      "best_case": 0.6,
      "failure_modes": "missing upstream gates (Time/Singlets/Lymphocytes), missing memory B cell subtypes (RM/AM/TLM), missing IgA subclass branch, missing IgE+ B cells, missing Class-switched intermediate gate",
      "reliability": "medium - Model reliably captures IgG subclass hierarchy but systematically omits memory B cell granularity and standard upstream gating steps",
      "summary": "Highly consistent but incomplete predictions that capture the core IgG subtyping logic while missing the detailed memory B cell phenotyping and standard flow cytometry preprocessing gates that define OMIP-074's full analytical depth.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-074 (B Cell IgG/IgA Subclass Panel)\n\n### Analysis\n\n**What the model gets right:**\n- Perfect consistency across all 10 runs (identical predictions)\n- Correctly identifies the B cell focus and IgG subclass hierarchy (IgG1, IgG2, IgG3, IgG4)\n- Appropriate structure for isotype subtyping downstream of B cells\n- Naive/Memory B cell distinction captured\n\n**What the model gets wrong:**\n1. **Missing upstream gating steps**: Omits Time gate, Singlets, Lymphocytes gates before Live cells\n2. **Structural deviation**: Places CD19+ as intermediate gate rather than using it to define B cells directly\n3. **Missing IgA subclass hierarchy**: Ground truth has IgA+ > IgA1+/IgA2+ branch that appears absent or truncated\n4. **Missing IgE+ B cells**: Ground truth includes IgE+ B cells under class-switched\n5. **Memory B cell granularity missing**: Ground truth distinguishes RM, AM, TLM (Resting Memory, Activated Memory, Tissue-like Memory) - model only predicts generic \"Memory B Cells\"\n6. **Missing Class-switched B cells intermediate gate**: Ground truth uses this as parent for IgE+, IgA+, IgG+ branches\n\n**Severity assessment:**\n- The IgG subclass hierarchy is the core scientific purpose of OMIP-074 and is captured correctly\n- Missing memory subset granularity (RM/AM/TLM) represents a significant gap in the phenotyping depth\n- Missing upstream gates (Time, Singlets, Lymphocytes) is a moderate issue for practical implementation but doesn't affect the biological interpretation\n\n---\n\nMEDIAN_QUALITY: 6\nCONSISTENCY: 10\nWORST_CASE: 6\nBEST_CASE: 6\nFAILURE_MODES: missing upstream gates (Time/Singlets/Lymphocytes), missing memory B cell subtypes (RM/AM/TLM), missing IgA subclass branch, missing IgE+ B cells, missing Class-switched intermediate gate\nRELIABILITY: medium - Model reliably captures IgG subclass hierarchy but systematically omits memory B cell granularity and standard upstream gating steps\nSUMMARY: Highly consistent but incomplete predictions that capture the core IgG subtyping logic while missing the detailed memory B cell phenotyping and standard flow cytometry preprocessing gates that define OMIP-074's full analytical depth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2564,
      "timestamp": "2026-01-13T04:55:58.635930",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-087 (CyTOF T-cell Memory Panel)\n\n**MEDIAN_QUALITY: 7** \nThe model correctly identifies the major T-cell memory subsets (Naive, CM, EM, TEMRA) and regulatory populations (Tregs). However, it consistently adds QC gates not in the ground truth (Time Gate, Singlets, Live Cells, Lymphocytes) and misses the finer OMIP-087-specific differentiation states (Stem cell memory, Transitional memory, Terminal effector). It also abbreviates names (CM vs \"Central memory CD4 T cells\") which may affect exact matching metrics.\n\n**CONSISTENCY: 9**\nExcellent consistency. Only 2 unique gate set patterns across 10 runs, with the variation being whether memory subsets are placed directly under CD4+ T cells or under an intermediate \"CD4+ T cell subsets\" node. The core populations and overall structure remain highly stable.\n\n**WORST_CASE: 6**\nRuns 3, 4, 8, 9, 10 introduce an extra hierarchy level (\"CD4+ T cell subsets\" and \"Activation/Functional Markers\" groupings) that adds structural deviation from ground truth without adding biological value.\n\n**BEST_CASE: 7**\nRuns 1, 2, 5, 6, 7 have cleaner structure without the intermediate grouping node, placing memory subsets directly under CD4+ T cells as expected.\n\n**FAILURE_MODES:** \n- Adds QC gates (Time Gate, Singlets, Live Cells) not appropriate for CyTOF data\n- Adds Lymphocytes gate not in ground truth hierarchy\n- Missing stem cell memory (Tscm) and transitional memory populations\n- Missing terminal effector distinction (uses TEMRA which conflates CD4/CD8)\n- Inconsistent intermediate grouping nodes across runs\n\n**RELIABILITY: medium**\nThe model reliably produces biologically sensible T-cell hierarchies but applies a generic flow cytometry template rather than adapting to CyTOF-specific panels where scatter-based QC gates are inappropriate.\n\n**SUMMARY:** \nGemini-2.0-flash demonstrates high consistency and captures core T-cell memory biology, but systematically over-applies standard flow cytometry QC conventions to CyTOF data and misses the fine-grained memory differentiation states that distinguish OMIP-087's specialized 32-parameter panel.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2494,
      "timestamp": "2026-01-13T04:56:22.326391",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.9,
      "worst_case": 0.3,
      "best_case": 0.3,
      "failure_modes": "missing ILC/NK branch entirely, no MAIT cell population, B cell hallucinations, incorrect \u03b3\u03b4 T cell hierarchy placement under CD4/CD8, adds Time Gate not in ground truth",
      "reliability": "low - Model consistently produces a plausible but incorrect hierarchy that fundamentally misses the paper's focus on ILCs and MAIT cells",
      "summary": "High consistency masks systematic failure to identify the key populations (MAIT, NK, ILCs) that define this 27-color panel's purpose.",
      "raw_response": "## OMIP-064 Evaluation: gemini-2.0-flash\n\n**Ground Truth Analysis:**\nThe expected hierarchy focuses on MAIT cells, \u03b3\u03b4 T cells, NK cells (with activation), and ILC subsets - all under a simple Lymphocytes > T cells or Lymphocytes > Innate Lymphoid Cells structure.\n\n**Prediction Analysis:**\n\nThe model produces a **fundamentally different hierarchy architecture** than expected:\n\n1. **Structural additions**: Adds \"Time Gate\" and \"Leukocytes\" gates not in ground truth\n2. **Missing key populations**: \n   - No \"MAIT cells\" explicitly named (uses TCRva7.2+ markers instead)\n   - No \"Innate Lymphoid Cells\" parent gate\n   - No \"NK cells\" or \"Activated NK cells\"\n   - No \"Other ILC subsets\"\n3. **Over-specification**: Creates detailed \u03b3\u03b4 T cell subsets (Vd2+, Va7.2+) under CD4+ and CD8+ T cells, which is biologically incorrect placement\n4. **Hallucinations**: B cells and their subsets appear in all predictions but are not part of the ground truth hierarchy\n5. **Naming convention**: Uses marker-based naming (TCRgammadelta+) rather than population names (\u03b3\u03b4 T cells)\n\n**Consistency Pattern:**\nThe two unique gate sets differ only in minor naming variations (Va7.2 vs TCRva7.2, \"Memory B cells\" vs \"Naive B\"). Core structure is identical across all 10 runs.\n\n---\n\nMEDIAN_QUALITY: 3 (captures \u03b3\u03b4 T cells conceptually but misses MAIT, NK, ILC populations entirely; wrong structural placement)\nCONSISTENCY: 9 (highly consistent output with only minor naming variations across runs)\nWORST_CASE: 3 (all runs have same fundamental issues)\nBEST_CASE: 3 (no run correctly identifies ILCs, NK cells, or MAIT cells)\nFAILURE_MODES: missing ILC/NK branch entirely, no MAIT cell population, B cell hallucinations, incorrect \u03b3\u03b4 T cell hierarchy placement under CD4/CD8, adds Time Gate not in ground truth\nRELIABILITY: low - Model consistently produces a plausible but incorrect hierarchy that fundamentally misses the paper's focus on ILCs and MAIT cells\nSUMMARY: High consistency masks systematic failure to identify the key populations (MAIT, NK, ILCs) that define this 27-color panel's purpose.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2690,
      "timestamp": "2026-01-13T04:56:44.264778",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-025 / gemini-2.0-flash / minimal_direct_oracle\n\n### Comparison with Ground Truth\n\n**Ground truth structure:**\n- All Events > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+/NK branches\n- 6 terminal gate categories total\n\n**Model predictions structure:**\n- All Events > Time Gate > Singlets > Live Cells > Leukocytes > Lymphocytes > T Cells > CD4+/CD8+ branches\n- Adds \"Time Gate\" and \"Leukocytes\" gates not in ground truth\n- Correctly identifies CD4+ Memory subsets, Tfh cells, CD8+ subsets\n- Includes NK cells in most runs\n- Provides more granular breakdown (Naive, CM, EM, TEMRA) than ground truth abstraction\n\n**Key observations:**\n1. **Structural additions:** Model adds reasonable QC gates (Time Gate, Leukocytes) that are valid flow cytometry practice but not in ground truth\n2. **Two variant patterns:** Runs 1,3,4,8 use \"Activation/Function\" naming; Runs 2,5,6,7,9,10 use explicit \"CXCR5+ PD1+ CD4+ Tfh\" naming\n3. **Core hierarchy correct:** T cells > CD4+/CD8+ > Memory subsets structure is accurately captured\n4. **Appropriate depth:** Model correctly expands memory subsets (Naive/CM/EM/TEMRA) which aligns with OMIP-025's focus on memory phenotyping\n5. **NK cells captured:** All runs include NK cell branch\n6. **No hallucinations:** All predicted gates correspond to markers in the panel\n\n---\n\n**MEDIAN_QUALITY:** 8\n**CONSISTENCY:** 9\n**WORST_CASE:** 7\n**BEST_CASE:** 8\n**FAILURE_MODES:** adds Time Gate and Leukocytes gates not in ground truth schema, minor naming variation between runs (Activation/Function vs explicit Tfh)\n**RELIABILITY:** high - Model produces biologically valid hierarchies with appropriate memory subset detail; structural additions are defensible QC gates\n**SUMMARY:** Strong performance with consistent, biologically sound predictions that expand appropriately on the ground truth abstraction level, though adds standard QC gates not present in the reference hierarchy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2189,
      "timestamp": "2026-01-13T04:57:10.878815",
      "error": null,
      "median_quality": 0.2,
      "consistency": 0.9,
      "worst_case": 0.2,
      "best_case": 0.2,
      "failure_modes": "species-specific marker blindness, template-based hallucination (monocytes), missed combinatorial KIR gating, human-centric defaults overriding panel context",
      "reliability": "low Model consistently applies generic human NK templates, completely ignoring species-specific markers that define this panel's purpose.",
      "summary": "The model achieves high consistency but at a uniformly poor quality level\u2014it reliably produces the wrong answer by defaulting to memorized human NK gating patterns rather than reasoning from the actual macaque KIR markers present in the panel.",
      "raw_response": "Looking at this evaluation, I need to compare the model's predictions against the ground truth for OMIP-035, which focuses on **macaque NK cell functional analysis with KIR subset phenotyping**.\n\n## Key Observations\n\n**Ground Truth Focus:**\n- Macaque-specific KIR receptors (Mamu-KIR3DL01, KIR3DL05)\n- CD16/CD56 NK subset combinations\n- Species: Macaque (not human)\n\n**Model Predictions (consistent across all 10 runs):**\n- Generic human-style gating (CD56bright/CD56dim)\n- Monocyte subsets (Classical/Intermediate/Non-classical) - not in ground truth\n- Added \"Leukocytes\" and \"Time Gate\" steps\n- Completely missed: All Mamu-KIR gates (the core scientific purpose)\n- Completely missed: CD16+/- \u00d7 CD56+/- combinatorial gates\n\n**Consistency Pattern:**\nThe model shows 2 variants across 10 runs:\n1. Runs 1,3,5,7,8: Include T cells gate\n2. Runs 2,4,6,9,10: Omit T cells gate\n\nBoth variants share the same fundamental errors.\n\n## Critical Failures\n\n1. **Species blindness**: Model defaults to human NK nomenclature despite macaque-specific panel\n2. **Marker ignorance**: Mamu-KIR3DL01 and KIR3DL05 are in the panel but never gated\n3. **Hallucinated gates**: Monocyte subsets appear in all predictions but aren't in ground truth hierarchy\n4. **Generic template application**: CD56bright/CD56dim is a human convention, not what this OMIP measures\n\n---\n\nMEDIAN_QUALITY: 2 (correctly identifies basic pre-gating and NK cells exist, but misses entire scientific purpose)\nCONSISTENCY: 9 (highly consistent - only minor variation in whether T cells gate included)\nWORST_CASE: 2 (all runs share same fundamental failures)\nBEST_CASE: 2 (no run captures KIR subset analysis)\nFAILURE_MODES: species-specific marker blindness, template-based hallucination (monocytes), missed combinatorial KIR gating, human-centric defaults overriding panel context\nRELIABILITY: low Model consistently applies generic human NK templates, completely ignoring species-specific markers that define this panel's purpose.\nSUMMARY: The model achieves high consistency but at a uniformly poor quality level\u2014it reliably produces the wrong answer by defaulting to memorized human NK gating patterns rather than reasoning from the actual macaque KIR markers present in the panel.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2354,
      "timestamp": "2026-01-13T04:57:36.265195",
      "error": null,
      "median_quality": 0.2,
      "consistency": 0.8,
      "worst_case": 0.2,
      "best_case": 0.2,
      "failure_modes": "complete population class omission, lymphocyte bias, ignoring monocyte markers in panel, defaulting to generic PBMC gating template",
      "reliability": "low The model reliably produces syntactically valid hierarchies but systematically ignores the specific monocyte focus of this panel, making it unreliable for specialized gating tasks.",
      "summary": "Despite high consistency (0.89) and 100% parse success, the model completely fails the semantic task by predicting a generic lymphocyte hierarchy instead of the required monocyte subset analysis, suggesting retrieval of a memorized PBMC template rather than reasoning from panel markers.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-083\n\nLooking at the expected hierarchy vs predictions across 10 runs:\n\n**Expected Focus:** Monocyte subsets (Classical, Intermediate, SLAN+/- Nonclassical) under a Non-granulocytes branch\n\n**Model's Predictions:** Consistently predict a lymphocyte-focused hierarchy (T cells, B cells, NK cells) with NO monocyte populations whatsoever\n\n### Key Observations:\n\n1. **Complete Population Mismatch:** The ground truth focuses on monocyte subpopulations, but the model consistently predicts lymphocyte gates. This is a fundamental misunderstanding of the panel's purpose.\n\n2. **Two Prediction Variants:**\n   - Runs 2, 4, 5, 7, 9, 10 (6 runs): Simpler hierarchy without PD-1 stratification\n   - Runs 1, 3, 6, 8 (4 runs): Extended hierarchy with PD-1+/- CD4/CD8 T cell subsets\n\n3. **Structural Elements:** The model uses reasonable preprocessing gates (Time Gate > Singlets > Live Cells > Leukocytes > CD66b-) but then diverges entirely into lymphocyte populations.\n\n4. **Zero Monocyte Gates:** Across all 10 runs, not a single monocyte-related gate appears (no \"Monocytes\", \"Classical Monocytes\", \"Intermediate Monocytes\", \"Nonclassical Monocytes\", or \"SLAN\" populations).\n\n---\n\nMEDIAN_QUALITY: 2 (predicts reasonable general PBMC gates but completely misses the target monocyte populations)\nCONSISTENCY: 8 (highly consistent structure across runs, with only PD-1 stratification varying)\nWORST_CASE: 2 (all runs equally fail to identify monocytes)\nBEST_CASE: 2 (even best runs miss all target populations)\nFAILURE_MODES: complete population class omission, lymphocyte bias, ignoring monocyte markers in panel, defaulting to generic PBMC gating template\nRELIABILITY: low The model reliably produces syntactically valid hierarchies but systematically ignores the specific monocyte focus of this panel, making it unreliable for specialized gating tasks.\nSUMMARY: Despite high consistency (0.89) and 100% parse success, the model completely fails the semantic task by predicting a generic lymphocyte hierarchy instead of the required monocyte subset analysis, suggesting retrieval of a memorized PBMC template rather than reasoning from panel markers.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 1.0,
      "unique_gate_sets": 1,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1992,
      "timestamp": "2026-01-13T04:58:01.156094",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-095\n\n**Observations:**\n\nThe model produces **identical predictions across all 10 runs**, demonstrating perfect deterministic behavior. Comparing to ground truth:\n\n**Correct predictions:**\n- Core hierarchy structure (All Events \u2192 Singlets \u2192 Live Cells \u2192 Leukocytes)\n- T cells with CD4+ and CD8+ subsets\n- B cells\n- NK cells (named \"NK Cells\" vs \"Natural killer cells\" - semantically equivalent)\n- Monocytes\n\n**Additions not in ground truth:**\n- \"Time Gate\" inserted between All Events and Singlets (reasonable flow cytometry practice, but not in reference)\n- \"Lymphocytes\" intermediate node between Leukocytes and T/B/NK cells\n\n**Missing from ground truth:**\n- Innate lymphoid cells\n- Macrophages  \n- Dendritic cells\n- 4 additional paths mentioned in ground truth\n\n**Structural difference:**\n- Monocytes placed under Leukocytes (correct), but ground truth shows more populations at this level\n\n---\n\n**MEDIAN_QUALITY: 5** (captures major populations but misses ~40% of expected gates; adds reasonable but non-specified intermediate nodes)\n\n**CONSISTENCY: 10** (identical output across all 10 runs - perfect reproducibility)\n\n**WORST_CASE: 5** (all runs identical)\n\n**BEST_CASE: 5** (all runs identical)\n\n**FAILURE_MODES: missing innate lymphoid cells, missing macrophages, missing dendritic cells, hallucinated Time Gate, hallucinated Lymphocytes intermediate node, incomplete hierarchy depth**\n\n**RELIABILITY: medium** The model reliably produces the same output but systematically omits several cell populations from this 40-color panel, suggesting it defaults to a simplified \"canonical\" gating template rather than reasoning from the full marker panel.\n\n**SUMMARY:** Highly consistent but incomplete - the model reliably predicts a basic immunophenotyping hierarchy while missing specialized populations (ILCs, macrophages, DCs) that would require deeper panel-specific reasoning.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 1.0,
      "unique_gate_sets": 1,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1734,
      "timestamp": "2026-01-13T04:58:21.454580",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-008\n\n**MEDIAN_QUALITY: 7** \nThe model correctly identifies the core T cell gating pathway (CD4+ and CD8+ T cells) with appropriate hierarchical structure. It adds reasonable intermediate gates (Time Gate, Leukocytes) that are valid but not in the ground truth, and includes hallucinated populations (B cells, NK cells, Monocytes) not derivable from a T cell-focused panel.\n\n**CONSISTENCY: 10**\nPerfect consistency - all 10 runs produced identical predictions. Zero variance across runs.\n\n**WORST_CASE: 7**\nSince all predictions are identical, worst equals median.\n\n**BEST_CASE: 7**\nSince all predictions are identical, best equals median.\n\n**FAILURE_MODES: hallucinated populations (B cells, NK cells, Monocytes not in panel), over-specification (Time Gate, Leukocytes gates not required)**\n\n**RELIABILITY: medium** The model is highly deterministic and reliably produces the correct core structure, but consistently hallucinates additional populations beyond what the panel markers can identify.\n\n**SUMMARY:** The model demonstrates perfect reproducibility and correctly captures the essential CD4+/CD8+ T cell hierarchy, but systematically over-generates by adding a generic \"comprehensive immunophenotyping\" template rather than restricting output to panel-derivable gates.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1301,
      "timestamp": "2026-01-13T04:58:47.289989",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.7,
      "worst_case": 0.5,
      "best_case": 0.8,
      "failure_modes": "missing FoxP3- branch in 40% of runs, inconsistent intermediate gating hierarchy (Lymphocytes/T cells placement varies), hallucinated Time Gate not in ground truth",
      "reliability": "medium (Model correctly identifies the FoxP3+/- bifurcation in 60% of runs, but the 40% failure rate on capturing both branches is concerning for a Treg-focused panel where this distinction is central.)",
      "summary": "The model demonstrates understanding of the core Treg gating logic but exhibits concerning variability in whether it outputs both FoxP3+/- branches, with 4/10 runs missing the FoxP3- population entirely.",
      "raw_response": "Looking at the 10 runs, I can identify two distinct prediction patterns:\n\n**Pattern A (Runs 1, 3, 6, 9 - 4 runs):**\nAll Events > Time Gate > Singlets > Live Cells > Leukocytes > Lymphocytes > T cells > CD4+ T cells > FoxP3+ CD4+ T cells\n- Missing FoxP3- branch\n- Has extra intermediate gates (Time Gate, Leukocytes, T cells)\n\n**Pattern B (Runs 2, 4, 5, 7, 8, 10 - 6 runs):**\nAll Events > Time Gate > Singlets > Live Cells > Leukocytes > CD4+ T cells > CD4+FoxP3+ T cells (Tregs)\nAll Events > Time Gate > Singlets > Live Cells > Leukocytes > CD4+ T cells > CD4+FoxP3- T cells\n- Correctly includes both FoxP3+/- branches\n- Missing Lymphocytes gate between Leukocytes and CD4+\n- Has extra Time Gate\n\n**Comparison to Ground Truth:**\n- Ground truth: All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3+/- split\n- Model adds: Time Gate, Leukocytes (reasonable additions)\n- Model inconsistently includes: Lymphocytes, T cells intermediate gates\n- Pattern B correctly captures the bifurcation; Pattern A misses it\n\n**Evaluation:**\n\nMEDIAN_QUALITY: 7 (Pattern B correctly identifies the key FoxP3+/- bifurcation under CD4+ T cells; extra gates are reasonable flow cytometry practice but Lymphocytes gate is inconsistently placed)\n\nCONSISTENCY: 7 (two distinct patterns with 60/40 split; the dominant pattern is correct regarding bifurcation, but variability in intermediate gate structure reduces consistency)\n\nWORST_CASE: 5 (Pattern A misses the critical FoxP3- branch entirely, which is half the biological question for Treg identification)\n\nBEST_CASE: 8 (Pattern B captures the essential hierarchy and bifurcation correctly; extra Time Gate and Leukocytes are defensible additions)\n\nFAILURE_MODES: missing FoxP3- branch in 40% of runs, inconsistent intermediate gating hierarchy (Lymphocytes/T cells placement varies), hallucinated Time Gate not in ground truth\n\nRELIABILITY: medium (Model correctly identifies the FoxP3+/- bifurcation in 60% of runs, but the 40% failure rate on capturing both branches is concerning for a Treg-focused panel where this distinction is central.)\n\nSUMMARY: The model demonstrates understanding of the core Treg gating logic but exhibits concerning variability in whether it outputs both FoxP3+/- branches, with 4/10 runs missing the FoxP3- population entirely.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2881,
      "timestamp": "2026-01-13T04:59:15.988345",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.9,
      "worst_case": 0.7,
      "best_case": 0.7,
      "failure_modes": "systematic addition of Time Gate, insertion of Leukocytes parent gate, over-specification of T cell subsets with TEMRA populations, missing ICOS+ Treg granularity",
      "reliability": "high - The model produces highly consistent, immunologically reasonable hierarchies but systematically deviates from minimal ground truth by adding conventional QC gates",
      "summary": "Model demonstrates strong domain knowledge and high reproducibility but consistently over-engineers the hierarchy by adding standard QC gates (Time Gate, Leukocytes) and T cell subset granularity beyond what the ground truth specifies.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-076 (Murine Splenocytes)\n\n### Analysis\n\n**Structural Comparison:**\n\nThe ground truth hierarchy follows this pattern:\n- All Events > Singlets > Live cells > Lymphocytes > [B cells / T cells] > [subpopulations]\n\nThe model predictions consistently use:\n- All Events > Time Gate > Singlets > Live Cells > Leukocytes > Lymphocytes > [T cells / B cells] > [subpopulations]\n\n**Key Observations:**\n\n1. **Consistent additions:** The model adds \"Time Gate\" and \"Leukocytes\" gates not in the ground truth. Time Gate is a valid QC step but wasn't specified. Adding \"Leukocytes\" between Live Cells and Lymphocytes is technically redundant for splenocytes.\n\n2. **Core populations identified:** T cells, B cells, and their major subsets (naive, memory, effector memory, Tregs, plasma cells) are correctly identified across all runs.\n\n3. **Over-specification of T cell subsets:** The model adds CD4+ vs CD8+ branching and TEMRA populations not explicitly in the ground truth. While immunologically valid, this exceeds what was asked.\n\n4. **Consistent B cell coverage:** Plasma cells, plasmablasts, activated B cells, and memory B cells appear consistently.\n\n5. **Minor naming variations:** Runs 2 and 6 use slightly different naming conventions (\"CD4+ T Cell Subsets\" vs \"CD4+ T Conventional\") but the biological meaning is equivalent.\n\n6. **Missing ICOS+ Treg detail:** The ground truth specifies \"ICOS+ Treg\" as a Treg subset, which the model doesn't consistently capture at that level of detail.\n\n---\n\nMEDIAN_QUALITY: 7 (correctly identifies major populations and reasonable hierarchy, but adds extra gates and over-specifies T cell subsets beyond ground truth)\n\nCONSISTENCY: 9 (only 2 unique gate sets across 10 runs with 0.89 consistency score; differences are minor naming conventions)\n\nWORST_CASE: 7 (even the variant runs maintain biological validity and core structure)\n\nBEST_CASE: 7 (no run perfectly matches ground truth due to systematic additions of Time Gate/Leukocytes)\n\nFAILURE_MODES: systematic addition of Time Gate, insertion of Leukocytes parent gate, over-specification of T cell subsets with TEMRA populations, missing ICOS+ Treg granularity\n\nRELIABILITY: high - The model produces highly consistent, immunologically reasonable hierarchies but systematically deviates from minimal ground truth by adding conventional QC gates\n\nSUMMARY: Model demonstrates strong domain knowledge and high reproducibility but consistently over-engineers the hierarchy by adding standard QC gates (Time Gate, Leukocytes) and T cell subset granularity beyond what the ground truth specifies.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2477,
      "timestamp": "2026-01-13T04:59:42.984004",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.7,
      "worst_case": 0.5,
      "best_case": 0.8,
      "failure_modes": "extra Leukocytes gate insertion, CD8+ memory subset omission in 40% of runs, B cell/Monocyte hallucinations in 40% of runs, over-specification of memory subsets vs ground truth abstraction level",
      "reliability": "medium Model captures essential T-cell gating logic but exhibits bimodal output behavior where 40% of runs hallucinate off-target populations and omit expected CD8+ detail.",
      "summary": "Demonstrates solid understanding of T-cell immunophenotyping hierarchy with appropriate memory/function branching, but inconsistent output depth and occasional hallucination of non-target populations reduce reliability.",
      "raw_response": "## Evaluation: OMIP-022 | gemini-2.0-flash | minimal_direct_oracle\n\n**Comparing predictions to ground truth:**\n\n| Aspect | Ground Truth | Model Predictions |\n|--------|--------------|-------------------|\n| Core path | All Events > Time Gate > Singlets > Live cells > Lymphocytes > T cells | All Events > Time Gate > Singlets > Live Cells > **Leukocytes** > Lymphocytes > T Cells |\n| CD4+ branches | Memory Subsets, Functional Analysis | CD4+ T Cell Memory Subsets (with Naive/CM/EM/TEMRA), CD4+ T Cell Function |\n| CD8+ branches | Memory Subsets, Functional Analysis | CD8+ T Cell Function (memory subsets inconsistent) |\n| Extra gates | None | B Cells, Monocytes (runs 2-4, 7) |\n\n**Key Observations:**\n\n1. **Structural deviation**: Model adds \"Leukocytes\" gate between \"Live Cells\" and \"Lymphocytes\" - not in ground truth but biologically reasonable\n\n2. **Two distinct output patterns**:\n   - **Pattern A (6/10 runs)**: Full memory subset enumeration (Naive/CM/EM/TEMRA) for CD4+ and CD8+ - more detailed than ground truth\n   - **Pattern B (4/10 runs)**: Simplified hierarchy with only Function gates, plus hallucinated B Cells and Monocytes branches\n\n3. **CD8+ inconsistency**: Memory subsets for CD8+ only appear in Pattern A runs; ground truth expects parallel CD4/CD8 structure\n\n4. **Hallucinations in Pattern B**: B Cells and Monocytes are valid populations but not part of the OMIP-022 T-cell focused hierarchy\n\n---\n\nMEDIAN_QUALITY: 7 (captures core T-cell hierarchy and memory/function distinction; adds reasonable Leukocytes gate but has structural deviations)\nCONSISTENCY: 7 (only 2 unique patterns across 10 runs, but the patterns differ significantly in completeness and hallucinations)\nWORST_CASE: 5 (Pattern B runs miss CD8+ memory subsets entirely and add off-target B cell/Monocyte gates)\nBEST_CASE: 8 (Pattern A runs provide more granular memory subset breakdown than ground truth requires, correct parallel CD4/CD8 structure)\nFAILURE_MODES: extra Leukocytes gate insertion, CD8+ memory subset omission in 40% of runs, B cell/Monocyte hallucinations in 40% of runs, over-specification of memory subsets vs ground truth abstraction level\nRELIABILITY: medium Model captures essential T-cell gating logic but exhibits bimodal output behavior where 40% of runs hallucinate off-target populations and omit expected CD8+ detail.\nSUMMARY: Demonstrates solid understanding of T-cell immunophenotyping hierarchy with appropriate memory/function branching, but inconsistent output depth and occasional hallucination of non-target populations reduce reliability.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2326,
      "timestamp": "2026-01-13T05:00:08.360881",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.9,
      "worst_case": 0.5,
      "best_case": 0.6,
      "failure_modes": "missing rare populations (plasma cells, pDCs, mDCs, basophils, eosinophils, neutrophils), fabricated intermediate gates (Lymphocytes, Monocytes as parents), added Time Gate not in ground truth, missing NK-T cells, missing Marginal Zone B cells",
      "reliability": "medium The model reliably produces a conventional pan-leukocyte hierarchy but systematically omits specialty populations and imposes a textbook hierarchical structure that differs from the OMIP's flat branching.",
      "summary": "Gemini-2.0-flash generates highly consistent predictions with standard major lineages but defaults to a textbook hierarchy template, missing the OMIP-specific specialty populations (plasma cells, DCs, granulocytes) and imposing unnecessary intermediate grouping gates.",
      "raw_response": "Looking at the 10 runs for OMIP-077, I'll evaluate the model's performance against the ground truth.\n\n**Key Observations:**\n\n1. **Structural additions:** All predictions add a \"Time Gate\" between All Events and Singlets (not in ground truth) and insert a \"Lymphocytes\" intermediate gate (not in ground truth - populations branch directly from Leukocytes).\n\n2. **Two prediction variants:**\n   - Runs 1,2,3,6,9,10 (6 runs): Include \"Monocytes\" parent gate with Classical/Intermediate/Non-Classical underneath\n   - Runs 4,5,7,8 (4 runs): Simpler structure with populations directly under Lymphocytes/Monocytes\n\n3. **Population coverage:**\n   - **Correctly identified:** T cells, CD4+ T, CD8+ T, B cells, NK cells, Classical/Intermediate/Non-Classical monocytes\n   - **Missing from ground truth:** NK-T cells, Marginal Zone B cells, Plasma cells, CD1c+ mDCs, pDCs, basophils, eosinophils, neutrophils\n   - **Added but not wrong:** CD56bright/CD56dim NK subsets (valid but not in ground truth), Time Gate (reasonable practice)\n\n4. **Structural errors:**\n   - Inserting \"Lymphocytes\" as intermediate parent (ground truth has T/B/NK directly under Leukocytes)\n   - Inserting \"Monocytes\" as intermediate parent (ground truth has monocyte subtypes directly under Leukocytes)\n\n5. **Consistency:** High - only 2 unique gate sets across 10 runs (0.89 consistency score), with minor variation in capitalization and whether NK subsets are included.\n\nMEDIAN_QUALITY: 5 (captures major lineages but misses specialty populations like plasma cells, pDCs, mDCs, basophils; adds unnecessary intermediate gates)\nCONSISTENCY: 9 (only 2 variants across 10 runs with minor structural differences; highly reproducible)\nWORST_CASE: 5 (all runs have similar quality; no parse failures or major deviations)\nBEST_CASE: 6 (some runs include NK subsets which shows domain knowledge, but still miss ground truth populations)\nFAILURE_MODES: missing rare populations (plasma cells, pDCs, mDCs, basophils, eosinophils, neutrophils), fabricated intermediate gates (Lymphocytes, Monocytes as parents), added Time Gate not in ground truth, missing NK-T cells, missing Marginal Zone B cells\nRELIABILITY: medium The model reliably produces a conventional pan-leukocyte hierarchy but systematically omits specialty populations and imposes a textbook hierarchical structure that differs from the OMIP's flat branching.\nSUMMARY: Gemini-2.0-flash generates highly consistent predictions with standard major lineages but defaults to a textbook hierarchy template, missing the OMIP-specific specialty populations (plasma cells, DCs, granulocytes) and imposing unnecessary intermediate grouping gates.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3700,
      "timestamp": "2026-01-13T05:00:36.729928",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.9,
      "worst_case": 0.4,
      "best_case": 0.4,
      "failure_modes": "missing monocyte subsets, missing mDCs, hallucinated T memory subsets, simplified exclusion gating, missing intermediate gates",
      "reliability": "medium - The model reliably produces a biologically plausible generic T/B/NK hierarchy but fails to match the specific OMIP-101 structure with its myeloid emphasis and exclusion-gate chain.",
      "summary": "High consistency but systematically generates a T-cell-centric template hierarchy instead of the myeloid-focused OMIP-101 structure, suggesting reliance on common flow cytometry priors rather than panel-specific reasoning.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-101\n\n### Analysis\n\n**Ground Truth Structure:**\nThe expected hierarchy features a specific organizational pattern with intermediate gates like \"Non-beads\", \"Non-aggregates\", \"Non-granulocytes\", \"Myeloid cells\", \"Non-T/B/NK contamination\", and \"HLA-DR+ myeloid\" before reaching terminal populations (monocyte subsets, mDCs, B cell subsets, NK subsets).\n\n**Prediction Pattern (consistent across all 10 runs):**\nThe model produces a simplified, more conventional hierarchy:\n- Uses \"Live Cells\" instead of the exclusion-gate chain (Non-beads \u2192 Non-aggregates \u2192 Non-granulocytes)\n- Goes directly from Leukocytes \u2192 Lymphocytes \u2192 lineage gates\n- Missing the entire myeloid branch with monocyte subsets (classical, intermediate, non-classical) and mDCs\n- Focuses heavily on T cell memory subsets (Naive, CM, EM, TEMRA) which are NOT in the ground truth terminal gates\n- Adds marker annotations (e.g., \"CD3+ CD19-\", \"CD45RA+ CCR7+\") that demonstrate marker knowledge\n\n**Key Discrepancies:**\n1. **Missing populations:** Classical/Intermediate/Non-classical monocytes, mDCs, Plasmablasts, CD56dim NK cells\n2. **Hallucinated populations:** T cell memory subsets (Naive/CM/EM/TEMRA) not requested in ground truth\n3. **Structural difference:** Simplified exclusion gating, missing \"Non-X\" intermediate gates\n4. **Correct elements:** Singlets, Leukocytes, T cells, CD4/CD8 split, B cells, NK cells\n\nThe model shows excellent consistency (only 2 unique gate sets across 10 runs, minor naming variations like \"CD4+ T cell Memory Subsets\" vs \"T Cell Memory Subsets\").\n\n---\n\nMEDIAN_QUALITY: 4 (captures major lineages but wrong terminal populations and missing myeloid branch)\nCONSISTENCY: 9 (near-identical output across all 10 runs with only minor naming variations)\nWORST_CASE: 4 (all runs have same fundamental issues)\nBEST_CASE: 4 (no run captures the monocyte/mDC populations correctly)\nFAILURE_MODES: missing monocyte subsets, missing mDCs, hallucinated T memory subsets, simplified exclusion gating, missing intermediate gates\nRELIABILITY: medium - The model reliably produces a biologically plausible generic T/B/NK hierarchy but fails to match the specific OMIP-101 structure with its myeloid emphasis and exclusion-gate chain.\nSUMMARY: High consistency but systematically generates a T-cell-centric template hierarchy instead of the myeloid-focused OMIP-101 structure, suggesting reliance on common flow cytometry priors rather than panel-specific reasoning.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 1.0,
      "unique_gate_sets": 1,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1971,
      "timestamp": "2026-01-13T05:01:01.166441",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-074\n\n**Analysis of Predictions vs Ground Truth:**\n\nThe model produces identical predictions across all 10 runs, demonstrating perfect consistency. However, comparing to the ground truth reveals systematic errors:\n\n**Correct aspects:**\n- Core gating backbone present (Time Gate \u2192 Singlets \u2192 Live Cells \u2192 B Cells)\n- Correctly identifies major terminal populations (Naive B Cells, IgA+, IgE+, IgG+ subsets)\n\n**Systematic errors:**\n1. **Missing Lymphocytes gate**: Ground truth has `Singlets > Lymphocytes > Live cells` but model has `Singlets > Live Cells` (skips lymphocyte gate)\n2. **Missing memory B cell subpopulations**: Ground truth distinguishes RM (Resting Memory), AM (Activated Memory), and TLM (Tissue-like Memory) - model collapses these into generic \"Memory B Cells\"\n3. **Flattened IgG/IgA subclass hierarchy**: Ground truth has `Class-switched B cells > IgG+ B cells > IgG1+ B cells` but model puts IgG subclasses directly under B Cells without the intermediate \"Class-switched\" node\n4. **Missing IgA1/IgA2 distinction**: Ground truth has separate IgA1+ and IgA2+ under IgA+ B cells\n5. **Adds IgD+ B cells**: This appears to be a prediction not explicitly in the shown ground truth paths\n\n**MEDIAN_QUALITY: 5** (captures major B cell subsets but misses key structural hierarchy and memory subpopulations)\n\n**CONSISTENCY: 10** (identical output across all 10 runs - perfect reproducibility)\n\n**WORST_CASE: 5** (all runs identical, no degradation)\n\n**BEST_CASE: 5** (all runs identical, no improvement)\n\n**FAILURE_MODES:** missing lymphocyte gate, collapsed memory B cell subtypes (RM/AM/TLM \u2192 generic Memory), missing Class-switched intermediate node, missing IgA1/IgA2 subclass distinction\n\n**RELIABILITY: medium** - Model is perfectly consistent but systematically simplifies the hierarchy, missing nuanced subpopulations critical for OMIP-074's IgG/IgA subclass phenotyping focus.\n\n**SUMMARY:** Highly consistent but structurally oversimplified predictions that capture the B cell focus while missing the specialized memory subtypes and immunoglobulin subclass hierarchy that define this panel's scientific purpose.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2441,
      "timestamp": "2026-01-13T05:01:28.581206",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.7,
      "worst_case": 0.3,
      "best_case": 0.7,
      "failure_modes": "vague categorical groupings instead of specific populations (2/10 runs), missing specialized subsets (Tfh/stem cell memory), inconsistent handling of CyTOF-specific gating",
      "reliability": "medium - Model produces usable predictions 80% of the time but has a failure mode where it outputs generic categories instead of specific populations, requiring validation of each prediction",
      "summary": "gemini-2.0-flash demonstrates solid understanding of T cell memory differentiation with 80% of runs producing detailed, biologically reasonable hierarchies, but a 20% failure rate to vague categorical outputs and consistent omission of specialized populations (Tfh, stem cell memory) limits its reliability for comprehensive gating strategy prediction.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-087\n\n**Analysis:**\n\nThe model shows two distinct prediction patterns across 10 runs:\n- **Runs 2-9 (8/10):** Detailed memory subset predictions with specific populations (Naive, Central Memory, Effector Memory, TEMRA, Tregs) - closely matching ground truth structure\n- **Runs 1 & 10 (2/10):** Generic groupings (\"CD4+ T cell subsets\", \"Activation/Functional Markers\") - fails to enumerate specific populations\n\n**Key observations:**\n\n1. **Structure accuracy:** All predictions add preprocessing gates (Time Gate, Singlets, Live Cells) not in ground truth - this is technically correct flow cytometry practice but differs from the simplified ground truth\n2. **Population coverage (runs 2-9):** Captures major memory subsets but uses abbreviations (TEMRA vs \"Terminal effector\") and misses some specialized populations (Stem cell memory, Transitional memory, T follicular helper)\n3. **CyTOF consideration:** OMIP-087 is mass cytometry - model appropriately omits scatter-based singlet gates in some runs but inconsistently adds them\n\n**Strengths:**\n- 80% of runs produce biologically sensible, detailed hierarchies\n- Core T cell memory differentiation captured correctly\n- Consistent structural logic within the majority cluster\n\n**Weaknesses:**\n- 20% of runs produce vague, unusable groupings\n- Missing Tfh, stem cell memory, and transitional memory subsets\n- Naming conventions differ from ground truth (abbreviations, slight variations)\n\n---\n\nMEDIAN_QUALITY: 6 (captures major CD4/CD8 memory subsets with correct structure, but misses specialized populations like Tfh and stem cell memory)\nCONSISTENCY: 7 (89% consistency score with 8/10 runs producing nearly identical detailed output, 2/10 producing vague groupings)\nWORST_CASE: 3 (runs 1 & 10 produce generic category labels instead of enumerated populations, losing all granular information)\nBEST_CASE: 7 (runs 2-9 correctly identify major memory subsets with appropriate hierarchy, though missing some specialized populations)\nFAILURE_MODES: vague categorical groupings instead of specific populations (2/10 runs), missing specialized subsets (Tfh/stem cell memory), inconsistent handling of CyTOF-specific gating\nRELIABILITY: medium - Model produces usable predictions 80% of the time but has a failure mode where it outputs generic categories instead of specific populations, requiring validation of each prediction\nSUMMARY: gemini-2.0-flash demonstrates solid understanding of T cell memory differentiation with 80% of runs producing detailed, biologically reasonable hierarchies, but a 20% failure rate to vague categorical outputs and consistent omission of specialized populations (Tfh, stem cell memory) limits its reliability for comprehensive gating strategy prediction.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2459,
      "timestamp": "2026-01-13T05:01:53.403675",
      "error": null,
      "median_quality": 0.8,
      "consistency": 0.7,
      "worst_case": 0.7,
      "best_case": 0.8,
      "failure_modes": "adds Time Gate not in ground truth, uses Leukocytes instead of Lymphocytes, bimodal depth variability",
      "reliability": "high The model reliably produces scientifically valid gating hierarchies with consistent core structure; variability is limited to reasonable interpretation differences in hierarchy depth.",
      "summary": "Strong performance with excellent structural reasoning; the model understands T/NK cell biology and produces valid hierarchies, with minor terminology drift and predictable variability in leaf-node granularity.",
      "raw_response": "Looking at the 10 runs, I can identify two distinct prediction patterns:\n\n**Pattern A (Runs 1-4, 7-8):** Collapsed hierarchy ending at category-level nodes (e.g., \"CD4+ T cell Memory Subsets\", \"CD4+ T cell Function\")\n\n**Pattern B (Runs 5-6, 9-10):** Expanded hierarchy with specific memory subset populations (Naive, Central Memory, Effector Memory, TEMRA) as leaf nodes\n\n**Comparison to Ground Truth:**\n\nThe model consistently:\n- \u2713 Correctly identifies all major lineages (T cells \u2192 CD4+/CD8+ split, NK cells)\n- \u2713 Correctly predicts Tfh cells under CD4+ T cells\n- \u2713 Correctly identifies memory and functional subset categories\n- \u2717 Adds \"Time Gate\" and \"Leukocytes\" gates not in ground truth (minor hallucination)\n- \u2717 Uses \"Lymphocytes\" differently - ground truth has it, model uses \"Leukocytes\" instead\n- ~ Pattern B over-specifies by enumerating individual memory subsets (ground truth stops at \"Memory subsets\")\n\n**Structural Accuracy:** Both patterns correctly capture the parent-child relationships for T cell and NK cell subsets. The extra \"Time Gate\" and \"Leukocytes\" nodes represent reasonable gating steps that many labs use, though they're not in this specific ground truth.\n\n**Bimodal Consistency:** The 60/40 split between patterns suggests temperature-driven variability in how deeply to expand the hierarchy, not fundamental reasoning instability.\n\nMEDIAN_QUALITY: 8 (correctly captures all major populations and hierarchical relationships with minor terminology differences)\nCONSISTENCY: 7 (two distinct patterns but both are valid interpretations; core structure identical across all runs)\nWORST_CASE: 7 (Pattern B over-specifies but remains structurally sound)\nBEST_CASE: 8 (Pattern A matches ground truth granularity well)\nFAILURE_MODES: adds Time Gate not in ground truth, uses Leukocytes instead of Lymphocytes, bimodal depth variability\nRELIABILITY: high The model reliably produces scientifically valid gating hierarchies with consistent core structure; variability is limited to reasonable interpretation differences in hierarchy depth.\nSUMMARY: Strong performance with excellent structural reasoning; the model understands T/NK cell biology and produces valid hierarchies, with minor terminology drift and predictable variability in leaf-node granularity.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1918,
      "timestamp": "2026-01-13T05:02:19.563165",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.9,
      "worst_case": 0.5,
      "best_case": 0.6,
      "failure_modes": "missing SLAN+ and SLAN- nonclassical monocyte distinction, adds populations not in ground truth subset, uses different upstream hierarchy structure",
      "reliability": "medium The model reliably produces sensible general immunophenotyping hierarchies but fails to capture the specific SLAN-based nonclassical monocyte subtyping that defines OMIP-083.",
      "summary": "Model demonstrates solid general flow cytometry knowledge with consistent outputs, but lacks the specialized SLAN marker discrimination required for this specific OMIP, suggesting reliance on common gating patterns rather than panel-specific reasoning.",
      "raw_response": "Looking at the model's predictions across 10 runs compared to the ground truth for OMIP-083:\n\n**Ground Truth Focus:** The expected hierarchy focuses specifically on **monocyte subsets** - Classical, Intermediate, and SLAN+/SLAN- Nonclassical Monocytes, nested under a \"Cleaned Events > Leukocytes > Non-granulocytes > Monocytes\" structure.\n\n**Model Predictions Analysis:**\n\n1. **Structural differences:** The model uses \"Time Gate > Singlets\" instead of \"Cleaned Events\", and \"Leukocytes\" or \"CD45+\" instead of \"Non-granulocytes\". These are reasonable alternative gating approaches.\n\n2. **Monocyte subset coverage:**\n   - \u2713 Classical Monocytes - captured in all runs\n   - \u2713 Intermediate Monocytes - captured in all runs\n   - \u2717 SLAN+ Nonclassical Monocytes - **missing** (model uses generic \"Nonclassical\" in some runs)\n   - \u2717 SLAN- Nonclassical Monocytes - **missing**\n   - The model misses the SLAN distinction entirely, which is a key feature of OMIP-083\n\n3. **Hallucinations:** The model adds T cells, B cells, and NK cells which aren't in the ground truth hierarchy subset shown. This may be appropriate for the full OMIP-083 panel but diverges from the specific ground truth provided.\n\n4. **Two prediction patterns:** Alternating between simple labels (\"Leukocytes\") and marker-annotated labels (\"CD14++ CD16-\"), both reasonable approaches.\n\nMEDIAN_QUALITY: 5 (captures basic monocyte structure but misses SLAN discrimination which is the key OMIP-083 feature)\nCONSISTENCY: 9 (only 2 unique patterns across 10 runs, both structurally similar, 0.89 consistency score)\nWORST_CASE: 5 (both patterns have same core issue - missing SLAN subsets)\nBEST_CASE: 6 (marker-annotated versions show good mechanistic understanding of CD14/CD16 gating)\nFAILURE_MODES: missing SLAN+ and SLAN- nonclassical monocyte distinction, adds populations not in ground truth subset, uses different upstream hierarchy structure\nRELIABILITY: medium The model reliably produces sensible general immunophenotyping hierarchies but fails to capture the specific SLAN-based nonclassical monocyte subtyping that defines OMIP-083.\nSUMMARY: Model demonstrates solid general flow cytometry knowledge with consistent outputs, but lacks the specialized SLAN marker discrimination required for this specific OMIP, suggesting reliance on common gating patterns rather than panel-specific reasoning.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1705,
      "timestamp": "2026-01-13T05:02:47.620171",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.8,
      "worst_case": 0.2,
      "best_case": 0.4,
      "failure_modes": "missing species-specific KIR receptors, substituting generic CD56 classification for paper-specific markers, monocyte hallucinations, prior-based NK subtyping instead of panel-driven gating",
      "reliability": "low The model defaults to generic NK classification schemes rather than reading panel-specific markers, making it unreliable for specialized protocols.",
      "summary": "The model produces structurally sound but scientifically incorrect hierarchies, substituting memorized CD56bright/dim subsets for the macaque KIR receptor combinations that define this OMIP's purpose.",
      "raw_response": "Looking at OMIP-035, a macaque NK cell functional analysis panel, I need to evaluate how well gemini-2.0-flash predicted the gating hierarchy.\n\n**Key Observations:**\n\n1. **Ground truth focus**: The expected hierarchy emphasizes Mamu-KIR3DL01 and KIR3DL05 receptor combinations on NK cells - these are macaque-specific KIR receptors central to this OMIP's purpose of studying NK cell receptor diversity.\n\n2. **Model predictions**: Across all 10 runs, the model:\n   - Correctly identified the upstream gates (Singlets \u2192 Live Cells \u2192 Lymphocytes/Leukocytes \u2192 NK cells)\n   - Added a \"Time Gate\" not in ground truth (minor addition, often used in practice)\n   - Used CD56bright/CD56dim as terminal NK subsets instead of the KIR receptor combinations\n   - In 3/10 runs, hallucinated monocyte populations not relevant to this NK-focused panel\n\n3. **Critical failures**:\n   - **Complete miss of KIR receptors**: None of the predictions included Mamu-KIR3DL01 or KIR3DL05 gates, which are the entire point of OMIP-035\n   - **Wrong NK classification scheme**: CD56bright/dim is a valid NK classification but not what this paper measures\n   - **Species-specific markers ignored**: The Mamu- prefix indicates macaque-specific reagents that the model failed to recognize\n\n4. **Consistency**: High internal consistency (0.89 score, only 2 unique gate sets), but consistently wrong in the same way.\n\n5. **Hallucinations**: Monocyte gates in runs 5, 7, 10 are not supported by this NK-focused panel.\n\nMEDIAN_QUALITY: 3 (captures basic upstream gating but completely misses the paper's scientific focus on KIR receptor phenotyping)\nCONSISTENCY: 8 (highly consistent across runs - same errors repeated)\nWORST_CASE: 2 (runs with monocyte hallucinations add irrelevant populations)\nBEST_CASE: 4 (correct upstream structure, valid NK subtyping scheme, just wrong for this specific OMIP)\nFAILURE_MODES: missing species-specific KIR receptors, substituting generic CD56 classification for paper-specific markers, monocyte hallucinations, prior-based NK subtyping instead of panel-driven gating\nRELIABILITY: low The model defaults to generic NK classification schemes rather than reading panel-specific markers, making it unreliable for specialized protocols.\nSUMMARY: The model produces structurally sound but scientifically incorrect hierarchies, substituting memorized CD56bright/dim subsets for the macaque KIR receptor combinations that define this OMIP's purpose.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2320,
      "timestamp": "2026-01-13T05:03:18.143102",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-064 | gemini-2.0-flash | minimal_cot_oracle\n\n### Ground Truth Analysis\nThe expected hierarchy targets a 27-color NK/ILC panel with specific focus on:\n- **MAIT cells** (TCRV\u03b17.2+)\n- **\u03b3\u03b4 T cells** (TCR\u03b3\u03b4+)\n- **NK cells** with activation states\n- **ILC subsets** (Innate Lymphoid Cells)\n\n### Prediction Analysis\n\n**Two distinct patterns emerged across 10 runs:**\n\n| Pattern | Runs | Structure |\n|---------|------|-----------|\n| Pattern A | 1, 3, 5, 9, 10 | Leukocytes > T cells > CD4/CD8 subsets with activation markers |\n| Pattern B | 2, 4, 6, 7, 8 | Leukocytes > Lymphocytes > T cells with TCR\u03b3\u03b4/TCRV\u03b17.2 |\n\n**Key Observations:**\n\n1. **Partial hits on \u03b3\u03b4 T cells**: Pattern B correctly identifies TCRgammadelta+ and Vd2 TCR+ populations, aligning with ground truth \u03b3\u03b4 T cells\n\n2. **Partial hits on MAIT cells**: Pattern B includes TCRva7.2+ (MAIT marker), though not explicitly labeled as \"MAIT cells\"\n\n3. **Missing ILC/NK branch**: Neither pattern captures the critical Innate Lymphoid Cells > NK cells > Activated NK cells hierarchy - this is a major omission\n\n4. **Hallucinated gates**: Both patterns add gates not in ground truth (Time Gate, CD4+ T cells, CD8+ T cells with activation markers like HLA-DR, Ki67, CRTh2)\n\n5. **Structural divergence**: Ground truth has Lymphocytes branching to both T cells AND Innate Lymphoid Cells; predictions only capture T cell lineage\n\n### Scoring\n\n**MEDIAN_QUALITY: 4**\nModel captures ~40% of target populations (\u03b3\u03b4 T cells, partial MAIT) but completely misses the ILC/NK branch which is central to this OMIP. Adds numerous hallucinated T cell activation gates.\n\n**CONSISTENCY: 8**\nHigh consistency with only 2 unique patterns across 10 runs (consistency score 0.89). Predictions cluster into two stable modes.\n\n**WORST_CASE: 3**\nPattern A (runs 1,3,5,9,10) misses \u03b3\u03b4/MAIT entirely and focuses on CD4/CD8 activation states not in ground truth.\n\n**BEST_CASE: 5**\nPattern B correctly identifies \u03b3\u03b4 and TCRV\u03b17.2+ populations but still misses the entire ILC/NK branch.\n\n**FAILURE_MODES: missing ILC/NK hierarchy, missing \"Activated NK cells\", hallucinated CD4/CD8 activation markers, over-elaborate T cell subgating, marker-as-gate confusion (HLA-DR Ki67 CRTh2 used as terminal gates)**\n\n**RELIABILITY: low** The model consistently fails to identify the core ILC/NK populations that define this OMIP, defaulting to generic T cell immunophenotyping patterns.\n\n**SUMMARY: Model shows stable but systematically biased predictions\u2014correctly identifies some unconventional T cells (\u03b3\u03b4, MAIT markers) but completely misses the ILC/NK lineage central to OMIP-064, suggesting retrieval of generic T cell panel patterns rather than reasoning from the 27-color marker set provided.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1070,
      "timestamp": "2026-01-13T05:03:41.949623",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.9,
      "worst_case": 0.3,
      "best_case": 0.6,
      "failure_modes": "missing Lymphocytes gate, missing T cells gate, hallucinated Time Gate, oversimplified hierarchy",
      "reliability": "medium - Model produces consistent but structurally incomplete hierarchies; reliable for identifying terminal populations but not for full gating strategy reconstruction",
      "summary": "Model correctly identifies CD4+/CD8+ endpoints and basic QC gates but systematically skips the Lymphocytes\u2192T cells intermediate gating that defines proper T cell immunophenotyping workflows.",
      "raw_response": "Looking at this evaluation:\n\n**Ground Truth Analysis:**\n- Expected: All Events > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ T cells\n- Key gates: Singlets, Live cells, Lymphocytes, T cells, then CD4+/CD8+ split\n\n**Prediction Analysis:**\n\n**Runs 1, 2, 5-10 (8/10 runs):** \n- All Events > Time Gate > Singlets > Live cells > CD4+/CD8+ cells\n- Added \"Time Gate\" (not in ground truth but valid QC step)\n- **Missing**: Lymphocytes gate, T cells gate\n- Skips directly from Live cells to CD4+/CD8+\n\n**Runs 3, 4 (2/10 runs):**\n- All Events > Time Gate > Singlets > CD4/CD8\n- **Missing**: Live cells, Lymphocytes, T cells\n- Most compressed hierarchy\n\n**Key Observations:**\n1. Model consistently adds \"Time Gate\" - reasonable QC addition but not in ground truth\n2. Model consistently **omits Lymphocytes and T cells gates** - critical structural error since CD4/CD8 should be gated within T cells, not directly from live cells or singlets\n3. High consistency (89%) but consistently wrong in the same way\n4. The model appears to shortcut the hierarchy, jumping from Live cells directly to CD4+/CD8+ without the intermediate population refinement\n\nMEDIAN_QUALITY: 5 (captures core singlets\u2192live\u2192CD4/CD8 logic but misses critical intermediate gates)\nCONSISTENCY: 9 (89% consistency, only 2 unique patterns, very reproducible)\nWORST_CASE: 3 (Runs 3-4 skip Live cells entirely, going straight to CD4/CD8)\nBEST_CASE: 6 (Runs 1,2,5-10 have correct terminal populations but missing Lymphocytes/T cells intermediates)\nFAILURE_MODES: missing Lymphocytes gate, missing T cells gate, hallucinated Time Gate, oversimplified hierarchy\nRELIABILITY: medium - Model produces consistent but structurally incomplete hierarchies; reliable for identifying terminal populations but not for full gating strategy reconstruction\nSUMMARY: Model correctly identifies CD4+/CD8+ endpoints and basic QC gates but systematically skips the Lymphocytes\u2192T cells intermediate gating that defines proper T cell immunophenotyping workflows.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2370,
      "timestamp": "2026-01-13T05:04:05.610191",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.8,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "Missing B cell differentiation states (plasma cells, plasmablasts, memory B), missing T cell memory subsets (naive, effector memory, central memory), incorrect CD45 subdivision in Pattern B, marker-based naming instead of functional populations",
      "reliability": "medium - Model produces structurally valid hierarchies consistently but systematically omits key population subsets defined in the ground truth",
      "summary": "The model demonstrates high structural consistency (2 patterns, 89% agreement) but systematically fails to predict B cell differentiation states and T cell memory subsets that are core to this panel's purpose.",
      "raw_response": "Looking at the 10 runs, I can identify two distinct prediction patterns:\n\n**Pattern A (Runs 1-4, 6-7):** TCR\u03b2+ based hierarchy with CD4+ Activation/Homing/Foxp3+ subdivisions, minimal B cell detail (only IgD+ B Cells)\n\n**Pattern B (Runs 5, 8-10):** More elaborate hierarchy with Lymphocytes gate, includes Tfh cells, Tregs, Activated T cells, and more complete B cell lineage\n\n**Comparison to Ground Truth:**\n\nThe expected hierarchy has:\n- B cell subsets: Plasma cells, Plasmablasts, Activated B cells, Memory B cells\n- T cell subsets: Naive, Effector memory, Central memory, Regulatory T cells, ICOS+ Treg\n\n**Pattern A problems:**\n- Missing all B cell differentiation states (Plasma cells, Plasmablasts, Memory B cells)\n- Uses marker-based naming (CD4+ Foxp3+) instead of functional populations (Regulatory T cells)\n- Missing memory T cell classifications entirely\n- Adds Time Gate (not in ground truth but reasonable)\n\n**Pattern B problems:**\n- \"CD4+ CD45+ T cells\" and \"CD4+ CD45- T cells\" are biologically incorrect (T cells should be CD45+)\n- Still missing specific B cell states (Plasma cells, Plasmablasts, Memory B cells)\n- Has Tregs but missing ICOS+ Treg subpopulation\n- Missing memory T cell subsets (Naive, Effector memory, Central memory)\n\nBoth patterns miss critical expected populations and neither captures the B cell differentiation pathway that is central to this OMIP.\n\nMEDIAN_QUALITY: 4\nCONSISTENCY: 8\nWORST_CASE: 3\nBEST_CASE: 5\nFAILURE_MODES: Missing B cell differentiation states (plasma cells, plasmablasts, memory B), missing T cell memory subsets (naive, effector memory, central memory), incorrect CD45 subdivision in Pattern B, marker-based naming instead of functional populations\nRELIABILITY: medium - Model produces structurally valid hierarchies consistently but systematically omits key population subsets defined in the ground truth\nSUMMARY: The model demonstrates high structural consistency (2 patterns, 89% agreement) but systematically fails to predict B cell differentiation states and T cell memory subsets that are core to this panel's purpose.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1015,
      "timestamp": "2026-01-13T05:04:29.913590",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.7,
      "worst_case": 0.3,
      "best_case": 0.6,
      "failure_modes": "Missing parallel FoxP3- branch in all runs, missing Lymphocytes gate, inconsistent Live Cells gating, Time Gate hallucination",
      "reliability": "medium - Model reliably predicts a valid single-branch hierarchy but systematically fails to capture the dual-branch structure that defines Treg/non-Treg classification",
      "summary": "The model shows moderate consistency in predicting a simplified linear hierarchy but uniformly fails to capture the parallel FoxP3+/FoxP3- branching structure that is the defining feature of this Treg panel.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-053\n\n**Ground Truth Analysis:**\nThe expected hierarchy has two parallel branches under CD4+ T cells (FoxP3+ Treg and FoxP3- non-Treg), with the path: All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 CD4+ T cells.\n\n**Prediction Patterns Observed:**\n\nTwo distinct prediction types emerged:\n- **Pattern A (Runs 1,2,4,5,9):** All Events > Time Gate > Singlets > Live Cells > CD3+ T Cells > CD4+ T Cells > FoxP3+ Tregs\n- **Pattern B (Runs 3,6,7,8,10):** All Events > Time Gate > Singlets > CD4+ T cells > FoxP3+ Tregs\n\n**Key Observations:**\n\n1. **Time Gate addition:** All predictions add a Time Gate not in ground truth (minor hallucination, but standard practice)\n2. **Missing Lymphocytes gate:** No prediction includes the Lymphocytes gate before CD4+ T cells\n3. **CD3+ addition in Pattern A:** Adds CD3+ T Cells gate (reasonable but not in ground truth)\n4. **Missing Live Cells in Pattern B:** 5/10 runs skip the Live Cells gate entirely\n5. **Missing FoxP3- branch:** All predictions miss the FoxP3- non-Treg parallel branch\n6. **Missing Live cells in Pattern B:** Half the runs skip this critical QC gate\n\n---\n\nMEDIAN_QUALITY: 5 (captures core path but misses parallel branch and Lymphocytes gate consistently)\nCONSISTENCY: 7 (two stable patterns, 50/50 split between them, high parse rate)\nWORST_CASE: 3 (Pattern B skips Live Cells gate - a critical QC step - and is overly simplified)\nBEST_CASE: 6 (Pattern A has reasonable depth but still misses Lymphocytes and the FoxP3- branch)\nFAILURE_MODES: Missing parallel FoxP3- branch in all runs, missing Lymphocytes gate, inconsistent Live Cells gating, Time Gate hallucination\nRELIABILITY: medium - Model reliably predicts a valid single-branch hierarchy but systematically fails to capture the dual-branch structure that defines Treg/non-Treg classification\nSUMMARY: The model shows moderate consistency in predicting a simplified linear hierarchy but uniformly fails to capture the parallel FoxP3+/FoxP3- branching structure that is the defining feature of this Treg panel.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2432,
      "timestamp": "2026-01-13T05:04:53.390962",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-095\n\n**MEDIAN_QUALITY: 6** \nThe model correctly identifies the core hierarchy (singlets \u2192 live \u2192 leukocytes \u2192 lymphocytes \u2192 T cells \u2192 CD4+/CD8+) and consistently includes memory subsets. However, it adds gates not in ground truth (Time Gate, Lymphocytes as intermediate) and misses several expected populations (B cells, NK cells, ILCs, monocytes, macrophages, dendritic cells in the shown paths).\n\n**CONSISTENCY: 9**\nOnly 2 unique gate sets across 10 runs with 0.89 consistency score. The model shows high structural reproducibility - the main variation is whether memory subsets appear as direct children of CD4+/CD8+ T cells or under a separate \"Memory Subsets\" node.\n\n**WORST_CASE: 5**\nAll runs share similar issues - adding Time Gate (reasonable but not in ground truth), adding Lymphocytes intermediate node, and the truncated output doesn't show whether innate populations are included. The structural deviations are consistent across all runs.\n\n**BEST_CASE: 7**\nAt best, the model captures the T cell lineage well with appropriate memory subset stratification (Naive, CM, EM, TEMRA). The core gating logic is immunologically sound even if it differs from the specific ground truth structure.\n\n**FAILURE_MODES: adds Time Gate not in ground truth, inserts extra Lymphocytes intermediate node, inconsistent memory subset placement (direct child vs grouped), possible missing innate populations (B cells, NK, monocytes, DCs, macrophages not shown in truncated output)**\n\n**RELIABILITY: medium** The model produces structurally consistent and immunologically reasonable hierarchies, but systematically deviates from ground truth by adding intermediate nodes and may be missing major cell populations.\n\n**SUMMARY:** Gemini-2.0-flash shows high run-to-run consistency and correct T cell gating logic, but systematically adds extra hierarchy levels (Time Gate, Lymphocytes) and the truncated outputs make it unclear if all major leukocyte populations are captured.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2422,
      "timestamp": "2026-01-13T05:05:19.806845",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing Live cells gate, missing specialized populations (NK-T, Marginal Zone B, Plasma cells), inconsistent intermediate gating strategy (FSC/SSC vs lineage-negative), adds Time Gate not in ground truth",
      "reliability": "medium The model reliably produces scientifically valid gating strategies but shows bistable behavior between two approaches and consistently misses specialized rare populations.",
      "summary": "Model demonstrates solid understanding of major leukocyte immunophenotyping but exhibits bistability between scatter-based and lineage-negative gating approaches while consistently missing specialized populations like NK-T cells and plasma cells.",
      "raw_response": "Looking at the 10 runs for OMIP-077 (a comprehensive pan-leukocyte panel), I'll evaluate the model's predictions against the ground truth.\n\n**Key Observations:**\n\n1. **Two distinct prediction patterns emerge:**\n   - Pattern A (Runs 1, 4, 5, 6, 7, 9): Uses \"CD3-CD19-CD56-\" as an intermediate gate for non-lymphoid populations\n   - Pattern B (Runs 2, 3, 8, 10): Uses \"Lymphocytes (FSC/SSC)\" morphological gating\n\n2. **Structural differences from ground truth:**\n   - Model adds \"Time Gate\" (not in ground truth but scientifically valid)\n   - Model uses \"CD45+ Leukocytes\" vs ground truth \"Leukocytes\" (semantically equivalent)\n   - Ground truth has \"Live cells\" gate that model consistently omits\n   - Model introduces intermediate gates (FSC/SSC lymphocytes, CD3-CD19-CD56-) not in ground truth\n\n3. **Population coverage:**\n   - Correctly identifies: monocyte subsets (classical, intermediate, non-classical), NK cells, T cells, B cells, DCs (pDCs, mDCs)\n   - Missing from predictions: NK-T cells, Marginal Zone B cells, Plasma cells (specialized populations in ground truth)\n   - Model adds: CD56bright/dim NK subsets, Neutrophils (not explicitly in ground truth paths shown)\n\n4. **Scientific validity:**\n   - Both prediction patterns represent valid, commonly-used gating strategies\n   - Pattern A is more \"lineage-negative\" based (standard for DC/monocyte identification)\n   - Pattern B is more scatter-based morphological (traditional approach)\n\nMEDIAN_QUALITY: 6 (captures major populations with reasonable structure, but misses specialized subsets and differs in hierarchy depth)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs, 60/40 split between them)\nWORST_CASE: 5 (Pattern B is shallower and misses some hierarchical detail)\nBEST_CASE: 7 (Pattern A shows good lineage-negative gating logic for myeloid cells)\nFAILURE_MODES: missing Live cells gate, missing specialized populations (NK-T, Marginal Zone B, Plasma cells), inconsistent intermediate gating strategy (FSC/SSC vs lineage-negative), adds Time Gate not in ground truth\nRELIABILITY: medium The model reliably produces scientifically valid gating strategies but shows bistable behavior between two approaches and consistently misses specialized rare populations.\nSUMMARY: Model demonstrates solid understanding of major leukocyte immunophenotyping but exhibits bistability between scatter-based and lineage-negative gating approaches while consistently missing specialized populations like NK-T cells and plasma cells.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2906,
      "timestamp": "2026-01-13T05:05:46.425163",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.6,
      "failure_modes": "extra hierarchy levels (Leukocytes), conflates Functional Analysis with memory subsets, adds spurious intermediate gates (Lymphocytes/Monocytes), inconsistent memory subset organization",
      "reliability": "medium The model reliably identifies core T cell populations but consistently misstructures the memory/functional analysis branching.",
      "summary": "Model demonstrates strong recall of T cell subset terminology with moderate structural accuracy, but systematically fails to represent the parallel Memory Subsets and Functional Analysis branches correctly.",
      "raw_response": "Looking at the 10 runs, I can identify two distinct prediction patterns:\n\n**Pattern A (Runs 1, 2, 3, 6, 7, 8, 10 - 7/10 runs):** Includes \"Lymphocytes/Monocytes\" intermediate gate, uses generic \"T Cell Memory Subsets\" with \"Function\" as a sibling to memory categories (Naive, Central Memory, Effector Memory, TEMRA).\n\n**Pattern B (Runs 4, 5, 9 - 3/10 runs):** Skips \"Lymphocytes/Monocytes\", goes directly to \"T Cells\", includes explicit marker definitions in gate names (e.g., \"CD4+ Naive-like (CD45RO- CCR7+)\"), and adds \"Activation\" gates as children of memory subsets.\n\n**Comparison to Ground Truth:**\n\nThe ground truth shows:\n- `Lymphocytes` (not \"Lymphocytes/Monocytes\" or \"Leukocytes\")\n- `Memory Subsets` and `Functional Analysis` as **parallel siblings** under CD4+/CD8+ T cells\n- No intermediate \"T Cell Memory Subsets\" node\n\n**Key Issues:**\n\n1. **Structural deviation:** Both patterns add extra hierarchy levels (Leukocytes) not in ground truth\n2. **Missing \"Functional Analysis\":** Pattern A conflates it as \"Function\" under memory; Pattern B replaces it with \"Activation\" subgates\n3. **Incorrect parent-child relationships:** Ground truth has Memory Subsets and Functional Analysis as siblings; predictions nest them or conflate them\n4. **Pattern B hallucination:** Explicit marker annotations (CD45RO- CCR7+) are reasonable but not in ground truth format\n\nMEDIAN_QUALITY: 6 (correctly identifies major populations and T cell subsets, but structural organization differs from ground truth)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs, with dominant pattern appearing 70% of time)\nWORST_CASE: 5 (Pattern B adds non-ground-truth activation subgates and over-specifies marker logic)\nBEST_CASE: 6 (neither pattern correctly captures the parallel Memory Subsets / Functional Analysis structure)\nFAILURE_MODES: extra hierarchy levels (Leukocytes), conflates Functional Analysis with memory subsets, adds spurious intermediate gates (Lymphocytes/Monocytes), inconsistent memory subset organization\nRELIABILITY: medium The model reliably identifies core T cell populations but consistently misstructures the memory/functional analysis branching.\nSUMMARY: Model demonstrates strong recall of T cell subset terminology with moderate structural accuracy, but systematically fails to represent the parallel Memory Subsets and Functional Analysis branches correctly.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_minimal_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3067,
      "timestamp": "2026-01-13T05:06:14.212927",
      "error": null,
      "median_quality": 0.2,
      "consistency": 0.8,
      "worst_case": 0.2,
      "best_case": 0.3,
      "failure_modes": "missing monocyte subsets, missing mDCs, missing B cell subsets, missing NK cell subsets, hallucinated T cell memory hierarchy, wrong population focus, skipped intermediate gates",
      "reliability": "low (model consistently predicts a generic T cell phenotyping strategy instead of the whole blood leukocyte immunophenotyping panel specified in OMIP-101)",
      "summary": "Model reproducibly generates a T cell-centric gating strategy that completely ignores the monocyte, dendritic cell, B cell, and NK cell populations that are the actual focus of this 27-color whole blood panel.",
      "raw_response": "Looking at the predictions across 10 runs compared to the ground truth for OMIP-101:\n\n**Key Observations:**\n\n1. **Structural mismatch**: The ground truth uses a specific hierarchy with \"Non-beads > Leukocytes > Non-aggregates > Non-granulocytes\" branching into Myeloid cells and Lymphocytes. The predictions skip these intermediate gates entirely.\n\n2. **Population focus mismatch**: Ground truth emphasizes monocyte subsets (classical, intermediate, non-classical), mDCs, B cell subsets, and NK cells. Predictions focus heavily on T cell memory subsets (Naive, CM, EM, TEMRA) which aren't in the ground truth at all.\n\n3. **Missing critical populations**: \n   - No monocyte subsets predicted (classical/intermediate/non-classical)\n   - No mDCs predicted\n   - No proper B cell lineage (plasmablasts, naive B, memory B)\n   - No CD56dim/CD56bright NK cell distinction\n\n4. **Two prediction clusters**: Runs 1,3,4,5,6,8 produce one pattern (T cell memory subsets with specific markers). Runs 2,7,9,10 produce another pattern (more abstract categories like \"CD4+ T Cell Memory Subsets\").\n\n5. **Hallucinated structure**: Predictions include \"Live Cells (CD66-)\" which isn't standard gating nomenclature, and completely fabricated T cell memory hierarchies not present in the ground truth.\n\n**Evaluation:**\n\nMEDIAN_QUALITY: 2 (predictions capture some correct early gates but completely miss the myeloid/monocyte focus and B/NK cell subsets of the ground truth)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs with 89% consistency score, predictions are reproducibly wrong)\nWORST_CASE: 2 (even the variant patterns miss the same critical populations)\nBEST_CASE: 3 (none of the predictions correctly identify monocyte subsets, mDCs, or proper B/NK phenotyping)\nFAILURE_MODES: missing monocyte subsets, missing mDCs, missing B cell subsets, missing NK cell subsets, hallucinated T cell memory hierarchy, wrong population focus, skipped intermediate gates\nRELIABILITY: low (model consistently predicts a generic T cell phenotyping strategy instead of the whole blood leukocyte immunophenotyping panel specified in OMIP-101)\nSUMMARY: Model reproducibly generates a T cell-centric gating strategy that completely ignores the monocyte, dendritic cell, B cell, and NK cell populations that are the actual focus of this 27-color whole blood panel.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2505,
      "timestamp": "2026-01-13T05:06:44.396331",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-074 (B Cell IgG/IgA Subclass Panel)\n\n### Key Observations\n\n**Structural Differences from Ground Truth:**\n1. **Gate ordering**: Model predicts `Live Cells > Leukocytes > Lymphocytes > B cells` while ground truth has `Lymphocytes > Live cells > B cells`. This is a legitimate alternative gating strategy but differs from the paper's approach.\n\n2. **Missing memory subset taxonomy**: Ground truth uses specific B cell memory classifications (Resting Memory, Activated Memory, Tissue-like Memory) which the model replaces with generic \"Memory B\" - a significant loss of granularity for this OMIP's purpose.\n\n3. **Missing Class-switched intermediate**: Ground truth has `Class-switched B cells` as parent of IgG+/IgA+/IgE+ subsets; model gates directly from B cells to isotype subsets.\n\n4. **Added populations not in ground truth**: Model includes Transitional B, Plasmablasts, which may be valid but aren't in the reference hierarchy.\n\n5. **IgG subclass handling**: Both correctly identify IgG1-4 subclasses under IgG+.\n\n**Consistency Analysis:**\n- Two structural variants observed (runs 1,5,7,9,10 vs runs 2,3,4,6,8)\n- Difference: Some runs include intermediate CD27+/IgD+ parent gates for memory/naive classification\n- Core structure and population set remain consistent\n\n### Scores\n\n**MEDIAN_QUALITY: 6**\nThe model captures the overall B cell focus and isotype subclass structure correctly, but misses the specific memory phenotype taxonomy (RM/AM/TLM) that is central to OMIP-074's purpose.\n\n**CONSISTENCY: 8**\nOnly 2 unique structural patterns across 10 runs with 0.89 consistency score. Variations are minor (presence/absence of intermediate phenotypic gates).\n\n**WORST_CASE: 5**\nRuns without CD27/IgD intermediate gates lose some phenotypic reasoning but still capture core structure.\n\n**BEST_CASE: 7**\nRuns with IgD+/CD27+ intermediate gates show better reasoning about memory vs naive classification, though still missing the specific RM/AM/TLM categories.\n\n**FAILURE_MODES: missing memory subset taxonomy (RM/AM/TLM), missing Class-switched intermediate gate, incorrect gate order (Live before Lymphocytes), hallucinated Transitional B and Plasmablasts**\n\n**RELIABILITY: medium** Model reliably produces parseable B cell hierarchies with correct isotype subclasses, but consistently misses the specific memory phenotype distinctions that define this OMIP.\n\n**SUMMARY: Gemini-2.0-flash demonstrates good structural consistency and captures IgG/IgA subclass gating correctly, but fails to reproduce the specific memory B cell taxonomy (Resting/Activated/Tissue-like Memory) that is the scientific focus of OMIP-074.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2290,
      "timestamp": "2026-01-13T05:07:08.663204",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-087 | gemini-2.0-flash | standard_direct_oracle\n\n### Ground Truth vs Predictions Analysis\n\n**Structural Differences:**\n- Model adds upstream gates not in ground truth: `Time Gate > Singlets > Live Cells` before Leukocytes\n- Ground truth starts directly at `All Events > Leukocytes > T cells`\n- This is a **valid enhancement** - these QC gates are standard practice in flow cytometry\n\n**Population Coverage:**\n- Model correctly identifies core T cell lineages (CD4+, CD8+)\n- Model uses conventional memory subset nomenclature (Naive, CM, EM, TEMRA)\n- Ground truth uses more specialized nomenclature: \"Stem cell memory\", \"Transitional memory\", \"Terminal effector\"\n- Model **misses specialized subsets**: Tregs, Tfh cells (which require specific markers like FoxP3, CXCR5)\n\n**Naming Conventions:**\n- Model: \"TEMRA CD4+ T\" vs Ground Truth: \"Terminal effector CD4 T cells\" - semantically equivalent\n- Model: \"Central Memory CD4+ T (CM)\" vs Ground Truth: \"Central memory CD4 T cells\" - equivalent\n- Model omits ground truth's \"Stem cell memory\" subset (CD95+CD45RA+CCR7+ phenotype)\n\n**Key Missing Elements:**\n- T regulatory cells (FoxP3+ subset)\n- T follicular helper cells (CXCR5+ subset)  \n- Stem cell memory T cells\n- Transitional memory T cells\n\n---\n\n**MEDIAN_QUALITY:** 6\n**CONSISTENCY:** 10\n**WORST_CASE:** 6\n**BEST_CASE:** 6\n**FAILURE_MODES:** Missing specialized subsets (Tregs, Tfh, stem cell memory), uses generic memory nomenclature instead of CyTOF-specific populations, omits functionally important regulatory/helper subsets\n**RELIABILITY:** medium - Model produces structurally valid hierarchies with high consistency but systematically underrepresents specialized T cell subsets defined by the OMIP-087 32-parameter mass cytometry panel\n**SUMMARY:** Highly consistent predictions (identical across all 10 runs) with correct core T cell architecture, but systematically missing ~30% of specialized populations (Tregs, Tfh, stem cell memory) that distinguish this deep immunophenotyping panel from standard flow cytometry.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2139,
      "timestamp": "2026-01-13T05:07:33.182889",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.9,
      "worst_case": 0.4,
      "best_case": 0.4,
      "failure_modes": "missing ILC branch entirely, missing NK cells, missing Activated NK cells, hallucinated B cell lineage, over-enumeration of conventional T cell subsets",
      "reliability": "medium - Model is highly consistent but systematically omits innate lymphoid populations, defaulting to conventional T/B cell hierarchies rather than the specialized NK/ILC panel design of OMIP-064",
      "summary": "The model reliably predicts conventional T cell subsets and unconventional T cells (MAIT, \u03b3\u03b4) but completely fails to recognize this is an ILC/NK-focused panel, missing half the expected hierarchy.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-064\n\nLooking at the expected hierarchy vs predictions across 10 runs:\n\n**Key Observations:**\n\n1. **Correctly predicted gates:**\n   - MAIT cells (under T cells) \u2713\n   - \u03b3\u03b4 T cells (under T cells) \u2713\n\n2. **Missing from all predictions:**\n   - Innate Lymphoid Cells (ILC) branch entirely missing\n   - NK cells not predicted\n   - Activated NK cells not predicted\n   - \"Other ILC subsets\" not predicted\n\n3. **Added gates not in ground truth:**\n   - Time Gate (reasonable addition, not penalized heavily)\n   - Leukocytes gate (reasonable intermediate)\n   - CD4+ T Cells, CD8+ T Cells (reasonable but not in ground truth)\n   - B Cells branch (hallucinated for this specific hierarchy)\n   - Naive B cells (hallucinated)\n\n4. **Consistency analysis:**\n   - Runs 1-5 and 8: Identical structure\n   - Runs 6, 7, 9, 10: Added V\u03b42 T cells subpopulation under \u03b3\u03b4 T cells\n   - Minor capitalization differences (\"T Cells\" vs \"T cells\")\n\n5. **Critical failure:** The model completely misses the ILC/NK cell branch, which is a core component of OMIP-064 (described as \"27-color NK cells, ILCs, MAIT, \u03b3\u03b4 T cells\"). It captures T cell unconventional subsets but fails on the innate lymphoid populations.\n\n---\n\nMEDIAN_QUALITY: 4 (captures ~50% of expected populations but completely misses ILC/NK branch)\nCONSISTENCY: 9 (highly consistent with only minor variations in V\u03b42 subsetting)\nWORST_CASE: 4 (all runs have same fundamental flaw - missing ILC branch)\nBEST_CASE: 4 (even best runs miss the NK/ILC populations entirely)\nFAILURE_MODES: missing ILC branch entirely, missing NK cells, missing Activated NK cells, hallucinated B cell lineage, over-enumeration of conventional T cell subsets\nRELIABILITY: medium - Model is highly consistent but systematically omits innate lymphoid populations, defaulting to conventional T/B cell hierarchies rather than the specialized NK/ILC panel design of OMIP-064\nSUMMARY: The model reliably predicts conventional T cell subsets and unconventional T cells (MAIT, \u03b3\u03b4) but completely fails to recognize this is an ILC/NK-focused panel, missing half the expected hierarchy.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2103,
      "timestamp": "2026-01-13T05:08:00.373922",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.7,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "wrong KIR combination logic (independent vs sequential), missing CD16 stratification, hallucinated Time Gate and Leukocytes levels, inconsistent depth (40% truncated), CD56bright/dim instead of CD16/CD56 quadrants",
      "reliability": "medium Model consistently identifies NK cells and attempts KIR subset analysis, but systematically misinterprets the combinatorial gating strategy required for this macaque panel.",
      "summary": "The model demonstrates domain knowledge of NK cell markers but fails to reason about the specific combinatorial KIR gating strategy (KIR3DL01 status \u2192 then KIR3DL05 status), instead treating KIR markers as independent parallel gates under a simplified CD56bright/dim schema.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-035 (Macaque NK cells)\n\n**Key Observations:**\n\n1. **Structural additions:** All 10 runs add \"Time Gate\" and \"Leukocytes\" gates not in ground truth. This is consistent but represents hallucination of extra hierarchy levels.\n\n2. **Fundamental misunderstanding of KIR gating strategy:** \n   - Ground truth gates KIR markers *combinatorially* from NK cells directly (Mamu-KIR3DL01+/- \u2192 then KIR3DL05+/-)\n   - Model instead gates KIR markers *independently* under CD56 subsets, treating KIR3DL01 and KIR3DL05 as parallel siblings rather than sequential\n\n3. **CD16/CD56 subset interpretation:**\n   - Ground truth: CD16+CD56+, CD16+CD56-, CD16-CD56+ as three discrete populations\n   - Model: CD56bright and CD56dim as two populations (ignoring CD16)\n\n4. **Bimodal output pattern:**\n   - 6/10 runs: Full hierarchy with KIR subsets under CD56bright/dim\n   - 4/10 runs: Truncated at CD56bright/dim only (Runs 2, 6, 7, 9)\n\n5. **Critical gates missed:**\n   - No combined KIR gates (KIR3DL01+KIR3DL05+ etc.)\n   - No CD16-based stratification\n   - KIR markers treated as independent rather than co-expressed\n\n---\n\nMEDIAN_QUALITY: 4 (captures NK subset concept but uses wrong gating logic for KIR combinations and CD16/CD56 subsets)\nCONSISTENCY: 7 (only 2 unique patterns across 10 runs, but 40% truncated to shallow hierarchy)\nWORST_CASE: 3 (runs 2,6,7,9 stop at CD56bright/dim with no KIR analysis)\nBEST_CASE: 5 (full runs include KIR markers but with incorrect combinatorial structure)\nFAILURE_MODES: wrong KIR combination logic (independent vs sequential), missing CD16 stratification, hallucinated Time Gate and Leukocytes levels, inconsistent depth (40% truncated), CD56bright/dim instead of CD16/CD56 quadrants\nRELIABILITY: medium Model consistently identifies NK cells and attempts KIR subset analysis, but systematically misinterprets the combinatorial gating strategy required for this macaque panel.\nSUMMARY: The model demonstrates domain knowledge of NK cell markers but fails to reason about the specific combinatorial KIR gating strategy (KIR3DL01 status \u2192 then KIR3DL05 status), instead treating KIR markers as independent parallel gates under a simplified CD56bright/dim schema.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2840,
      "timestamp": "2026-01-13T05:08:25.751342",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.9,
      "worst_case": 0.7,
      "best_case": 0.8,
      "failure_modes": "over-specification of memory subsets, insertion of Time Gate not in ground truth, minor TFH placement inconsistency",
      "reliability": "high - Model produces scientifically valid hierarchies with minimal variation; deviations from ground truth represent reasonable gating choices rather than errors",
      "summary": "gemini-2.0-flash reliably reconstructs the T/NK immunophenotyping hierarchy with appropriate granularity, adding standard QC gates and expanding memory subset detail beyond the ground truth's abstraction level.",
      "raw_response": "## Evaluation: gemini-2.0-flash on OMIP-025\n\nLooking at the predictions across 10 runs against the expected hierarchy:\n\n**What the model gets RIGHT consistently:**\n- Core structure: All Events \u2192 Singlets \u2192 Live Cells \u2192 Lymphocytes \u2192 T Cells \u2192 CD4+/CD8+ split\n- CD4+ Memory subsets with correct granularity (Naive, CM, EM, TEMRA)\n- TFH-like cells (maps to \"Follicular helper T cells\")\n- Functional subsets (Activation/Function or Antigen-specific T cells)\n\n**Systematic deviations from ground truth:**\n1. **Extra gates added:** \"Time Gate\" and \"Leukocytes\" are inserted but not in ground truth - however, these are scientifically valid QC gates\n2. **More granular than expected:** Model breaks down memory into 4 subpopulations where ground truth has \"CD4+ Memory subsets\" as a single node\n3. **Minor structural variation:** Runs 1, 5, 8 place TFH-like cells differently than runs 2-4, 6-7, 9-10\n\n**What's missing or unclear from truncated output:**\n- CD8+ T cell branch (likely present in \"+ more\" lines)\n- NK cells and NK Functional subsets (likely present)\n\n**Consistency analysis:**\n- 2 unique gate sets across 10 runs indicates high reproducibility\n- Consistency score 0.89 confirms strong agreement\n- Variation is minor (TFH placement under vs. parallel to memory subsets)\n\n---\n\nMEDIAN_QUALITY: 7 (captures all major populations with correct lineage logic; adds reasonable QC gates not in ground truth; more granular than expected)\nCONSISTENCY: 9 (only 2 unique patterns across 10 runs; 0.89 consistency score; variation is minor structural)\nWORST_CASE: 7 (runs 1, 5, 8 have slightly different TFH placement but still scientifically valid)\nBEST_CASE: 8 (runs with TFH under memory subsets better match hierarchical grouping intent)\nFAILURE_MODES: over-specification of memory subsets, insertion of Time Gate not in ground truth, minor TFH placement inconsistency\nRELIABILITY: high - Model produces scientifically valid hierarchies with minimal variation; deviations from ground truth represent reasonable gating choices rather than errors\nSUMMARY: gemini-2.0-flash reliably reconstructs the T/NK immunophenotyping hierarchy with appropriate granularity, adding standard QC gates and expanding memory subset detail beyond the ground truth's abstraction level.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2136,
      "timestamp": "2026-01-13T05:08:51.515958",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.9,
      "worst_case": 0.6,
      "best_case": 0.6,
      "failure_modes": "missing SLAN+/SLAN- nonclassical distinction, flattened hierarchy (no \"Other Monocyte Subsets\" grouping), different QC gate nomenclature, hallucinated extra populations beyond ground truth scope",
      "reliability": "medium - Model is highly consistent but systematically simplifies monocyte subtyping, suggesting it relies on common gating patterns rather than panel-specific marker logic",
      "summary": "Reliable and consistent model that correctly identifies the three main monocyte subsets but systematically fails to capture the SLAN-based nonclassical subdivision and the specific hierarchical grouping structure specified in the ground truth.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-083\n\n**Ground Truth Analysis:**\nThe expected hierarchy shows a specific monocyte subtyping scheme with:\n- \"Cleaned Events\" and \"Non-granulocytes\" as intermediate gates\n- An \"Other Monocyte Subsets\" parent grouping for Intermediate, SLAN+ Nonclassical, and SLAN- Nonclassical monocytes\n- SLAN+/SLAN- distinction for nonclassical monocytes\n\n**Prediction Analysis:**\nThe model consistently predicts:\n- Standard QC gates (Time Gate, Singlets, Live Cells) instead of \"Cleaned Events\"\n- Omits \"Non-granulocytes\" intermediate gate\n- Places all monocyte subsets directly under \"Monocytes\" (no \"Other Monocyte Subsets\" grouping)\n- Merges SLAN+/SLAN- nonclassical into single \"Non-Classical Monocytes\"\n- Adds extra populations (Lymphocytes, T Cells, B Cells) beyond what ground truth shows\n\n**Key Observations:**\n1. **High consistency:** Only 2 unique gate sets across 10 runs (minor variation in \"Monocyte Phenotyping\" gate presence)\n2. **Correct core structure:** Classical, Intermediate, and Nonclassical monocytes correctly identified\n3. **Missed specificity:** SLAN distinction lost; hierarchical grouping flattened\n4. **Reasonable defaults:** Time Gate/Singlets/Live Cells are sensible QC gates even if ground truth uses different nomenclature\n\n---\n\nMEDIAN_QUALITY: 6 (captures monocyte subtypes correctly but loses SLAN distinction and hierarchical grouping)\nCONSISTENCY: 9 (nearly identical predictions across all 10 runs with only minor variation)\nWORST_CASE: 6 (all runs have same fundamental issues)\nBEST_CASE: 6 (no run captures SLAN distinction or correct intermediate groupings)\nFAILURE_MODES: missing SLAN+/SLAN- nonclassical distinction, flattened hierarchy (no \"Other Monocyte Subsets\" grouping), different QC gate nomenclature, hallucinated extra populations beyond ground truth scope\nRELIABILITY: medium - Model is highly consistent but systematically simplifies monocyte subtyping, suggesting it relies on common gating patterns rather than panel-specific marker logic\nSUMMARY: Reliable and consistent model that correctly identifies the three main monocyte subsets but systematically fails to capture the SLAN-based nonclassical subdivision and the specific hierarchical grouping structure specified in the ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2223,
      "timestamp": "2026-01-13T05:09:17.026428",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "Time Gate hallucination, Lymphocytes intermediate node insertion, missing ILCs/Macrophages/DCs/Granulocytes, over-specification of memory subsets",
      "reliability": "medium - Model reliably produces structurally valid hierarchies with core populations but consistently adds non-requested gates and misses specialized innate populations",
      "summary": "Gemini-2.0-flash shows good consistency and captures mainstream lymphoid/myeloid populations but systematically inserts extra hierarchy levels and struggles with complete coverage of innate immune subsets.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-095\n\n### Observations\n\n**Structural Patterns Across Runs:**\n\n1. **Consistent additions:** All 10 runs add \"Time Gate\" between \"All Events\" and \"Singlets\" - not present in ground truth\n2. **Consistent additions:** All runs add \"Lymphocytes\" as intermediate node between \"Leukocytes\" and T/B/NK cells - not in ground truth\n3. **Two distinct prediction modes:**\n   - **Simple mode (Runs 2,3,4,7):** Major populations only (CD4+, CD8+, B, NK, Monocytes)\n   - **Detailed mode (Runs 1,5,6,8,9,10):** Adds subsets (Naive/Memory T cells, Monocyte subsets)\n\n**Accuracy Analysis:**\n\n- Core populations (T cells, CD4+, CD8+, B cells, NK cells, Monocytes) captured in all runs\n- Ground truth includes: ILCs, Macrophages, Dendritic cells, Granulocytes - missing in simpler predictions\n- Detailed runs add populations NOT in ground truth (monocyte subsets, memory subsets) = hallucinations\n- \"Natural killer cells\" vs \"NK cells\" - naming variance but semantically equivalent\n\n**Key Errors:**\n- Time Gate insertion (universal across runs)\n- Lymphocytes intermediate node (universal)\n- Missing ILCs, Macrophages, DCs, Granulocytes (partial coverage)\n- Hallucinated subpopulations in 60% of runs\n\n---\n\nMEDIAN_QUALITY: 6 (captures major populations correctly but adds spurious hierarchy levels and misses several expected populations)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs, high structural agreement)\nWORST_CASE: 5 (detailed runs with hallucinated subsets deviate more from ground truth)\nBEST_CASE: 7 (simple runs match major populations well despite extra nodes)\nFAILURE_MODES: Time Gate hallucination, Lymphocytes intermediate node insertion, missing ILCs/Macrophages/DCs/Granulocytes, over-specification of memory subsets\nRELIABILITY: medium - Model reliably produces structurally valid hierarchies with core populations but consistently adds non-requested gates and misses specialized innate populations\nSUMMARY: Gemini-2.0-flash shows good consistency and captures mainstream lymphoid/myeloid populations but systematically inserts extra hierarchy levels and struggles with complete coverage of innate immune subsets.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2382,
      "timestamp": "2026-01-13T05:09:44.479761",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.8,
      "worst_case": 0.5,
      "best_case": 0.6,
      "failure_modes": "missing plasma cells, missing central/effector memory distinction, missing ICOS+ Treg, adds Time Gate not in ground truth, CD4/CD8 split imposed before memory subsets",
      "reliability": "medium The model reliably identifies major cell lineages but inconsistently structures the hierarchy and systematically misses specific memory/activation subpopulations.",
      "summary": "Gemini-2.0-flash demonstrates reasonable consistency (2 patterns) and captures core B/T cell lineages, but systematically misses granular memory T cell subsets and plasma cells while imposing a CD4/CD8-first hierarchy that differs from the ground truth organization.",
      "raw_response": "Looking at the 10 runs for OMIP-076 (murine splenocyte immunophenotyping), I'll evaluate gemini-2.0-flash's performance.\n\n**Key Observations:**\n\n1. **Two distinct prediction patterns emerge:**\n   - Pattern A (Runs 1, 3, 5): Uses TCR\u03b2+ and B220+ as intermediate gates before T/B cells\n   - Pattern B (Runs 2, 4, 6-10): Simpler structure with T/B cells directly under Leukocytes\n\n2. **Structural differences from ground truth:**\n   - Model adds \"Time Gate\" and \"Leukocytes\" not in ground truth\n   - Ground truth uses \"Lymphocytes\" \u2192 model uses \"Leukocytes\" (reasonable synonym)\n   - Ground truth has specific memory subsets (Central memory, Effector memory, Naive T cells) under T cells\n   - Model predicts CD4+/CD8+ subdivision first, then activation/Tfh downstream\n\n3. **Population coverage:**\n   - \u2713 B cells, Memory B cells, Naive B cells, Plasmablasts captured\n   - \u2713 Tregs/Foxp3+ captured\n   - \u2713 Tfh cells captured\n   - \u2717 Missing: Plasma cells, Activated B cells, ICOS+ Treg subdivision\n   - \u2717 Missing: Central memory vs Effector memory T cell distinction\n   - \u2717 Missing: Naive T cells as explicit gate\n\n4. **Hierarchical accuracy:**\n   - Model imposes CD4/CD8 split before memory/activation (reasonable but differs from ground truth)\n   - Ground truth keeps T cell subsets (Naive, EM, CM, Treg) at same level under T cells\n\n5. **Consistency analysis:**\n   - 2 unique patterns across 10 runs = moderately consistent\n   - Pattern B dominates (7/10 runs)\n   - 0.89 consistency score reflects this stability\n\nMEDIAN_QUALITY: 6 (captures major populations but misses key subdivisions and differs in hierarchical organization)\nCONSISTENCY: 8 (only 2 patterns across 10 runs, with dominant pattern appearing 70% of time)\nWORST_CASE: 5 (Pattern A adds unnecessary intermediate gates like TCR\u03b2+ that deviate from ground truth)\nBEST_CASE: 6 (Pattern B is cleaner but still misses Plasma cells, CM/EM distinction, ICOS+ Tregs)\nFAILURE_MODES: missing plasma cells, missing central/effector memory distinction, missing ICOS+ Treg, adds Time Gate not in ground truth, CD4/CD8 split imposed before memory subsets\nRELIABILITY: medium The model reliably identifies major cell lineages but inconsistently structures the hierarchy and systematically misses specific memory/activation subpopulations.\nSUMMARY: Gemini-2.0-flash demonstrates reasonable consistency (2 patterns) and captures core B/T cell lineages, but systematically misses granular memory T cell subsets and plasma cells while imposing a CD4/CD8-first hierarchy that differs from the ground truth organization.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 1.0,
      "unique_gate_sets": 1,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1993,
      "timestamp": "2026-01-13T05:10:10.482330",
      "error": null,
      "median_quality": 0.7,
      "consistency": 1.0,
      "worst_case": 0.7,
      "best_case": 0.7,
      "failure_modes": "hallucinated populations (B cells, NK cells, Monocytes not in panel), over-elaborated hierarchy (Time Gate, Leukocytes gate)",
      "reliability": "high - The model is highly reliable for core T cell gating structure but consistently over-generates common leukocyte populations regardless of panel specificity.",
      "summary": "gemini-2.0-flash produces perfectly consistent predictions that capture all required T cell gates correctly, but exhibits a fixed bias toward outputting a \"complete\" immunophenotyping hierarchy including populations (B cells, NK cells, Monocytes) not present in this specialized T cell cytokine panel.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-008\n\n### Analysis\n\n**Ground Truth Structure:**\n- All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+ T cells\n- 6 gates in the main hierarchy, 2 terminal branches\n\n**Model Predictions (identical across all 10 runs):**\n- All Events \u2192 Time Gate \u2192 Singlets \u2192 Live Cells \u2192 Leukocytes \u2192 Lymphocytes \u2192 T Cells \u2192 CD4+/CD8+ T Cells\n- Plus additional branches: B Cells, NK Cells, Monocytes\n\n**Key Observations:**\n\n1. **Correct elements:** Singlets, Live Cells, Lymphocytes, T Cells, CD4+ T Cells, CD8+ T Cells are all present and correctly ordered\n2. **Added gates (not in ground truth):**\n   - Time Gate (reasonable quality control step, not harmful)\n   - Leukocytes (inserted between Live Cells and Lymphocytes - technically correct hierarchy)\n3. **Hallucinated populations:** B Cells, NK Cells, Monocytes - these are NOT in the OMIP-008 panel which focuses specifically on T cell cytokine polyfunctionality\n4. **Missing:** No gates missed from ground truth (all 6 core gates captured)\n5. **Structure:** Parent-child relationships for the T cell branch are correct, just with 2 extra intermediates (Time Gate, Leukocytes)\n\n**Consistency:** Perfect - 10/10 runs produced identical hierarchies (only case variation in \"T Cells\" vs \"T cells\")\n\n---\n\nMEDIAN_QUALITY: 7 (correctly identifies all ground truth gates with proper structure, but adds reasonable QC gates and hallucinates B/NK/Monocyte populations not in this T-cell-focused panel)\n\nCONSISTENCY: 10 (all 10 runs produced functionally identical predictions with only minor capitalization differences)\n\nWORST_CASE: 7 (no variance - all predictions equivalent)\n\nBEST_CASE: 7 (no variance - all predictions equivalent)\n\nFAILURE_MODES: hallucinated populations (B cells, NK cells, Monocytes not in panel), over-elaborated hierarchy (Time Gate, Leukocytes gate)\n\nRELIABILITY: high - The model is highly reliable for core T cell gating structure but consistently over-generates common leukocyte populations regardless of panel specificity.\n\nSUMMARY: gemini-2.0-flash produces perfectly consistent predictions that capture all required T cell gates correctly, but exhibits a fixed bias toward outputting a \"complete\" immunophenotyping hierarchy including populations (B cells, NK cells, Monocytes) not present in this specialized T cell cytokine panel.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 1.0,
      "unique_gate_sets": 1,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2078,
      "timestamp": "2026-01-13T05:10:33.487119",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-053 | gemini-2.0-flash | standard_direct_oracle\n\n**MEDIAN_QUALITY: 7** \nThe model correctly identifies the core Treg gating path (CD4+ T cells \u2192 FoxP3+ Treg / FoxP3- non-Treg) but adds several gates not in ground truth.\n\n**CONSISTENCY: 10**\nAll 10 runs produced identical hierarchies - remarkable determinism.\n\n**WORST_CASE: 7**\nSame as median since all runs are identical.\n\n**BEST_CASE: 7**\nNo variance to exploit.\n\n**FAILURE_MODES: over-gating (adds Time Gate, Leukocytes, T cells intermediate), hallucination (CD8+ T cells, B cells, NK cells not in ground truth), excessive depth**\n\n**RELIABILITY: high** \nThe model is highly reliable in producing consistent, structurally sound hierarchies, though it systematically over-predicts populations beyond the panel's stated purpose.\n\n**SUMMARY:** Perfect consistency masks systematic over-gating - the model correctly captures the target Treg pathway but hallucinates additional populations (CD8, B, NK cells) that are reasonable for PBMC but not specified in this focused Treg panel ground truth.\n\n---\n\n### Detailed Analysis\n\n| Aspect | Assessment |\n|--------|------------|\n| **Core pathway match** | \u2713 All Events \u2192 Singlets \u2192 Live \u2192 Lymphocytes \u2192 CD4+ \u2192 FoxP3+/- |\n| **Insertions** | Time Gate, Leukocytes, T cells (3 extra intermediate gates) |\n| **Hallucinations** | CD8+ T cells, B cells, NK cells (not in ground truth) |\n| **Structural accuracy** | Parent-child relationships are biologically valid |\n| **Gate naming** | Minor variations (\"Live Cells\" vs \"Live cells\", \"CD4+ FoxP3+ Treg\" vs \"FoxP3+ Treg\") |\n\nThe model demonstrates strong domain knowledge by generating a biologically plausible comprehensive PBMC gating strategy. However, for this specific benchmark (focused Treg identification), it over-generalizes - predicting what *could* be gated rather than what *should* be gated per the ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2087,
      "timestamp": "2026-01-13T05:11:00.348457",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.9,
      "worst_case": 0.5,
      "best_case": 0.5,
      "failure_modes": "missing monocyte subsets (classical/intermediate/non-classical), missing DC populations (CD1c+ mDCs), missing NK-T cells, missing plasma cells, substituting generic B cell subsets for Marginal Zone B cells",
      "reliability": "medium Model produces highly consistent outputs but systematically defaults to a generic immunophenotyping template rather than the panel-specific gating strategy.",
      "summary": "Gemini-2.0-flash demonstrates excellent reproducibility but limited panel-specific reasoning, consistently producing a generic leukocyte hierarchy while missing the specialized monocyte, DC, and plasma cell populations that define OMIP-077.",
      "raw_response": "Looking at the predictions across 10 runs compared to the ground truth:\n\n**Key Observations:**\n\n1. **Structural consistency**: All 10 runs produce nearly identical hierarchies with only minor variations (2 unique gate sets, 0.89 consistency score). Runs 4, 7, 8 differ slightly from the others in B cell subtyping.\n\n2. **Correct elements**:\n   - Core hierarchy backbone correct: All Events \u2192 Singlets \u2192 Live Cells \u2192 Leukocytes\n   - Major lineages present: T cells, B cells, NK cells\n   - Appropriate inclusion of Time Gate (common practice, though not in ground truth)\n\n3. **Missing from ground truth**:\n   - NK-T cells (completely absent)\n   - Marginal Zone B cells (replaced with Naive/Memory or Transitional B)\n   - Plasma cells (absent)\n   - Monocyte subsets: Classical, Intermediate, Non-classical (absent)\n   - DC subsets: CD1c+ mDCs (absent)\n   - Other specialized populations in the \"+6 more paths\"\n\n4. **Hallucinations/additions**:\n   - Time Gate (not in ground truth but defensible)\n   - CD56bright/CD56dim NK subdivision (not shown in ground truth)\n   - Naive B/Memory B (different from Marginal Zone B)\n\n5. **Pattern**: Model consistently provides a \"generic\" pan-leukocyte gating strategy rather than the specific OMIP-077 hierarchy. It misses the specialized monocyte and DC subsets that are characteristic of this particular panel.\n\nMEDIAN_QUALITY: 5 (captures major lineages but misses ~50% of specialized populations including all monocyte/DC subsets)\nCONSISTENCY: 9 (extremely consistent with only minor B cell variation between runs)\nWORST_CASE: 5 (runs 4,7,8 have slightly fewer gates but similar coverage)\nBEST_CASE: 5 (no run captures the monocyte or DC populations)\nFAILURE_MODES: missing monocyte subsets (classical/intermediate/non-classical), missing DC populations (CD1c+ mDCs), missing NK-T cells, missing plasma cells, substituting generic B cell subsets for Marginal Zone B cells\nRELIABILITY: medium Model produces highly consistent outputs but systematically defaults to a generic immunophenotyping template rather than the panel-specific gating strategy.\nSUMMARY: Gemini-2.0-flash demonstrates excellent reproducibility but limited panel-specific reasoning, consistently producing a generic leukocyte hierarchy while missing the specialized monocyte, DC, and plasma cell populations that define OMIP-077.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2735,
      "timestamp": "2026-01-13T05:11:27.242620",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.9,
      "worst_case": 0.5,
      "best_case": 0.5,
      "failure_modes": "missing exclusion gates (Non-beads, Non-aggregates, Non-granulocytes), missing Non-T/B/NK contamination gate, simplified myeloid hierarchy, uses generic Live Cells gate instead of paper-specific structure",
      "reliability": "medium - Model reliably produces biologically sensible gating but defaults to textbook hierarchy rather than paper-specific exclusion strategy",
      "summary": "High consistency but systematic structural mismatch - model generates a valid generic whole-blood gating strategy rather than the OMIP-101-specific negative-selection approach with bead/aggregate exclusion gates.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-101\n\n### Analysis\n\n**Ground Truth Structure:**\nThe expected hierarchy has a distinctive intermediate layer structure:\n- `Non-beads > Leukocytes > Non-aggregates > Non-granulocytes` \n- Then splits into `Myeloid cells` and `Lymphocytes`\n- Uses exclusion gates (`Non-T/B/NK contamination`, `Non-granulocytes`)\n\n**Predicted Structure (all runs):**\n- Simpler backbone: `Time Gate > Singlets > Live Cells > Leukocytes`\n- Directly branches to major lineages (`T cells`, `B cells`, `NK cells`, etc.)\n- Missing: `Non-beads`, `Non-aggregates`, `Non-granulocytes`, `Myeloid cells` parent, exclusion gates\n\n**Key Observations:**\n\n1. **Correct elements:** Model correctly identifies terminal populations (CD4+ naive, memory subsets, CD8+ subsets, B cells, NK cells, monocyte subsets, mDCs)\n\n2. **Structural differences:**\n   - Missing intermediate exclusion gates that OMIP-101 specifically uses\n   - Uses `Live Cells` instead of the paper's bead/aggregate exclusion approach\n   - Flattens the myeloid hierarchy\n\n3. **Consistency:** Two structural variants across 10 runs:\n   - Variant A (runs 1,2,5,7): Flat naming like `CD4+ Naive T cells`\n   - Variant B (runs 3,4,6,8,9,10): Nested naming like `CD4+ T cell Memory Subsets > Naive`\n   - Both are semantically equivalent, just different naming conventions\n\n4. **Missing populations:** None of the runs capture the specific OMIP-101 structure with its negative selection gates\n\n---\n\nMEDIAN_QUALITY: 5 (correctly identifies most terminal populations but uses generic rather than OMIP-101-specific intermediate structure)\nCONSISTENCY: 9 (only 2 variants which are semantically equivalent naming differences, high reproducibility)\nWORST_CASE: 5 (all runs show same structural deviation from ground truth)\nBEST_CASE: 5 (no run captures the exclusion-gate architecture of OMIP-101)\nFAILURE_MODES: missing exclusion gates (Non-beads, Non-aggregates, Non-granulocytes), missing Non-T/B/NK contamination gate, simplified myeloid hierarchy, uses generic Live Cells gate instead of paper-specific structure\nRELIABILITY: medium - Model reliably produces biologically sensible gating but defaults to textbook hierarchy rather than paper-specific exclusion strategy\nSUMMARY: High consistency but systematic structural mismatch - model generates a valid generic whole-blood gating strategy rather than the OMIP-101-specific negative-selection approach with bead/aggregate exclusion gates.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_direct_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3030,
      "timestamp": "2026-01-13T05:11:53.674683",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: gemini-2.0-flash on OMIP-022\n\n### Ground Truth vs Predictions Analysis\n\n**Ground Truth Structure:**\n- Shallow hierarchy: All Events \u2192 Time Gate \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+ \u2192 Memory Subsets / Functional Analysis\n- Abstracts memory and function into high-level categories\n\n**Model Predictions (consistent across runs):**\n- Deeper, more granular hierarchy with explicit memory subset gates (Naive, CM, EM, TEMRA)\n- Includes an extra \"Leukocytes\" gate between Live Cells and Lymphocytes\n- Two variant patterns observed:\n  - **Pattern A (7/10 runs):** Detailed functional markers (CD154+ CD107a+ \u2192 Cytokine+)\n  - **Pattern B (3/10 runs):** Simplified \"Cytokine Production\" terminal gates\n\n### Scoring\n\n**MEDIAN_QUALITY: 7**\nThe model correctly identifies the core gating strategy (T cell lineages with memory subsets and functional readouts). It elaborates beyond the ground truth abstraction but with biologically valid gates. The \"Leukocytes\" gate is an extra step not in ground truth but is technically defensible.\n\n**CONSISTENCY: 9**\nOnly 2 unique patterns across 10 runs with a 0.89 consistency score. The variation is minor (naming/depth of functional gates), not structural. This is excellent reproducibility.\n\n**WORST_CASE: 6**\nPattern B (simplified \"Cytokine Production\") loses specificity compared to Pattern A. Still captures the essential strategy but less informative.\n\n**BEST_CASE: 8**\nPattern A correctly identifies memory subsets (Naive, CM, EM, TEMRA) and functional markers (CD154, CD107a, cytokines). Hierarchy is logical and matches OMIP-022's purpose of antigen-specific T-cell functional analysis.\n\n**FAILURE_MODES:** extra Leukocytes gate not in ground truth, over-specification of memory subsets vs abstract \"Memory Subsets\" label, inconsistent functional gate naming between runs\n\n**RELIABILITY:** high - The model reliably produces biologically valid T-cell gating hierarchies with minor naming variations. It over-specifies rather than under-specifies, which is preferable for practical use.\n\n**SUMMARY:** Model demonstrates strong understanding of T-cell immunophenotyping with excellent consistency, though it systematically elaborates beyond the ground truth's abstracted hierarchy\u2014a reasonable interpretation given OMIP-022's focus on memory subset functional analysis.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2506,
      "timestamp": "2026-01-13T05:12:21.439889",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.7,
      "worst_case": 0.2,
      "best_case": 0.5,
      "failure_modes": "missing lymphocytes gate, missing class-switched intermediate gate, collapsed memory subsets, missing IgE branch, Pattern B places isotypes under naive cells incorrectly",
      "reliability": "medium The model reliably identifies B cell isotype subclasses but consistently fails to capture the full hierarchical structure and memory subset granularity required by the protocol.",
      "summary": "Gemini-2.0-flash demonstrates partial understanding of B cell phenotyping but exhibits systematic structural errors\u2014particularly missing the lymphocyte gate and class-switched intermediate\u2014and occasionally produces biologically implausible hierarchies (isotypes under naive cells).",
      "raw_response": "Looking at the 10 predictions against the ground truth for OMIP-074 (B cell IgG/IgA subclass phenotyping):\n\n**Key Observations:**\n\n1. **Two distinct prediction patterns emerge:**\n   - Pattern A (Runs 1-3, 8-9): Simpler structure with \"Naive B Cells\", \"Memory B Cells\", and isotype subgating directly under B Cells\n   - Pattern B (Runs 4-7, 10): More elaborate structure with \"IgD+ CD27- Naive B Cells\" and isotype subgating under naive cells\n\n2. **Critical structural errors across ALL runs:**\n   - **Missing Lymphocytes gate**: Ground truth has `Singlets > Lymphocytes > Live cells > B cells`, but all predictions have `Singlets > Live Cells > B Cells` (skipping lymphocyte discrimination)\n   - **Missing memory subset granularity**: Ground truth distinguishes RM, AM, TLM memory subsets; model collapses to generic \"Memory B Cells\" or omits entirely\n   - **Missing Class-switched intermediate**: Ground truth has `B cells > Class-switched B cells > IgG+/IgA+`, but model gates isotypes directly under B cells or under naive cells (biologically incorrect)\n   - **IgE+ B cells missing**: Ground truth includes IgE+ branch, absent from all predictions\n\n3. **Pattern B is worse**: Places isotype subclasses under naive B cells, which is biologically nonsensical (naive B cells are by definition not class-switched)\n\n4. **Correct elements**: All runs correctly identify the core path (All Events > Time > Singlets > Live > B cells), IgA1/IgA2 and IgG1-4 subclasses\n\nMEDIAN_QUALITY: 4 (captures isotype subclasses but misses critical structural elements and memory subset granularity)\nCONSISTENCY: 7 (only 2 patterns across 10 runs, but the two patterns represent meaningfully different hierarchical structures)\nWORST_CASE: 2 (Pattern B runs place class-switched isotypes under naive B cells - biologically incorrect)\nBEST_CASE: 5 (Pattern A runs have simpler but more defensible structure, though still missing key gates)\nFAILURE_MODES: missing lymphocytes gate, missing class-switched intermediate gate, collapsed memory subsets, missing IgE branch, Pattern B places isotypes under naive cells incorrectly\nRELIABILITY: medium The model reliably identifies B cell isotype subclasses but consistently fails to capture the full hierarchical structure and memory subset granularity required by the protocol.\nSUMMARY: Gemini-2.0-flash demonstrates partial understanding of B cell phenotyping but exhibits systematic structural errors\u2014particularly missing the lymphocyte gate and class-switched intermediate\u2014and occasionally produces biologically implausible hierarchies (isotypes under naive cells).",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2753,
      "timestamp": "2026-01-13T05:12:48.697261",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-087 Gating Hierarchy Predictions\n\n**Test Case Context:** OMIP-087 is a 32-parameter CyTOF panel focused on CD4/CD8 memory T cell subsets in human PBMCs. The ground truth specifies 19 distinct paths with detailed memory subset classifications (Naive, Stem cell memory, Central memory, Transitional memory, Effector memory, Terminal effector) plus Tregs and Tfh cells.\n\n### Key Observations\n\n**Structural Patterns:**\n- All 10 runs produce valid hierarchies with consistent high-level structure\n- Two distinct response patterns emerge:\n  - **Pattern A** (Runs 1, 3, 5, 6): Shorter, more generic gates - \"CD4+ T cell Memory Subsets\" as a single collapsed node\n  - **Pattern B** (Runs 2, 4, 7, 8, 9, 10): More detailed with marker annotations (CD4+ CD8-) and includes Treg explicitly\n\n**Critical Gaps vs Ground Truth:**\n1. **Memory subset granularity missing**: Ground truth enumerates 6 distinct memory subsets (Naive, SCM, CM, TM, EM, TE) for both CD4+ and CD8+ T cells. All predictions collapse these into generic \"Memory Subsets\" gates.\n2. **Tfh cells absent**: No run predicts T follicular helper cells despite ground truth inclusion\n3. **Extra gates added**: Model adds Time Gate, Singlets, Live Cells - reasonable for flow but this is CyTOF where Time Gate is relevant but Singlets (FSC-A vs FSC-H) doesn't apply to mass cytometry\n4. **Gamma Delta T cells**: Present in predictions but not in ground truth (minor hallucination)\n5. **Activation/Exhausted gates**: Model adds functional states not in ground truth structure\n\n**Positive Aspects:**\n- Core hierarchy (All Events \u2192 Leukocytes \u2192 T cells \u2192 CD4/CD8 split) is correct\n- Treg identification present in Pattern B runs (6/10 runs)\n- Marker annotation style in Pattern B is informative\n\n---\n\n**MEDIAN_QUALITY:** 5\n**CONSISTENCY:** 8\n**WORST_CASE:** 4\n**BEST_CASE:** 6\n**FAILURE_MODES:** memory subset collapse (all runs), Tfh cells missing, CyTOF-irrelevant singlet gate, gamma-delta hallucination, functional state gates not in ground truth\n**RELIABILITY:** medium - Model reliably produces valid T cell hierarchies but systematically fails to enumerate specific memory subsets despite the panel containing all necessary differentiation markers (CCR7, CD45RA, CD27, CD28)\n**SUMMARY:** The model correctly identifies the major T cell populations and parent-child relationships but collapses the scientifically critical memory subset distinctions (Naive/SCM/CM/TM/EM/TE) into generic umbrella gates, missing the primary analytical goal of this CyTOF panel.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2186,
      "timestamp": "2026-01-13T05:13:20.137857",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-064\n\n### Analysis\n\n**Ground Truth Structure:**\n- Root path: All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes\n- Key populations: T cells (with MAIT, \u03b3\u03b4 T), ILCs (with NK cells, Other ILC subsets)\n- Critical feature: NK cells are under \"Innate Lymphoid Cells\", not directly under Lymphocytes\n\n**Prediction Patterns Observed:**\n\nTwo distinct response patterns across 10 runs:\n1. **Pattern A (Runs 1, 3, 7, 8, 9):** Simpler hierarchy with MAIT/\u03b3\u03b4 T as direct children of T cells\n2. **Pattern B (Runs 2, 4, 5, 6, 10):** More elaborate with MAIT under CD4+ T cells, additional NK subtyping\n\n**Consistent Errors Across All Runs:**\n1. **Added \"Time Gate\"** - not in ground truth (minor, reasonable addition)\n2. **Added \"Leukocytes\" gate** - replaces \"Lymphocytes\" conceptually but with broader scope\n3. **NK cells placed incorrectly** - under Leukocytes directly, NOT under \"Innate Lymphoid Cells\" as ground truth specifies\n4. **Missing \"Innate Lymphoid Cells\" parent gate** - ILC hierarchy completely absent\n5. **Missing \"Other ILC subsets\"** - never predicted in any run\n6. **Added B cells and subsets** - not in ground truth (hallucination, though biologically reasonable for PBMC)\n7. **Added CD4+/CD8+ T cell gates** - not explicitly in ground truth\n\n**Pattern B Additional Issues:**\n- MAIT cells incorrectly placed under CD4+ T cells (MAIT cells are predominantly CD8+ or DN)\n- Added activation states not in ground truth\n\n### Scores\n\n**MEDIAN_QUALITY: 5**\n(Captures major populations like T cells, MAIT, \u03b3\u03b4 T, NK cells, but misses critical ILC hierarchy structure and adds hallucinated gates)\n\n**CONSISTENCY: 8**\n(High consistency with only 2 distinct patterns; 89% consistency score aligns with observations)\n\n**WORST_CASE: 4**\n(Pattern B runs with MAIT incorrectly under CD4+ T cells show worse structural understanding)\n\n**BEST_CASE: 6**\n(Pattern A runs correctly place MAIT and \u03b3\u03b4 T under T cells, though still miss ILC hierarchy)\n\n**FAILURE_MODES: missing ILC parent gate, NK cells not under ILC, hallucinated B cell lineage, added Time Gate, inconsistent MAIT placement in Pattern B runs**\n\n**RELIABILITY: medium** The model reliably identifies major T cell subsets but systematically fails to capture the ILC hierarchy that is central to this 27-color NK/ILC-focused panel.\n\n**SUMMARY:** Model demonstrates good consistency and captures T cell subpopulations correctly, but fundamentally misunderstands the ILC hierarchy structure that defines OMIP-064's unique contribution to immunophenotyping.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1364,
      "timestamp": "2026-01-13T05:13:43.171812",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.8,
      "worst_case": 0.2,
      "best_case": 0.4,
      "failure_modes": "Missing species-specific KIR gates (Mamu-KIR3DL01/KIR3DL05), wrong NK subset nomenclature (CD56bright/dim vs CD16/CD56 combinations), hallucinated Time Gate, variable hierarchy depth (missing Live/Lymphocytes in 50% of runs)",
      "reliability": "low - Model applies generic human NK gating conventions rather than reasoning from the macaque-specific KIR panel markers provided",
      "summary": "The model completely misses the core scientific purpose of this panel (macaque KIR receptor characterization), substituting memorized human NK gating patterns despite being given species context and appropriate markers.",
      "raw_response": "Looking at the predictions across 10 runs compared to the ground truth:\n\n**Key Observations:**\n\n1. **Two distinct prediction patterns emerge:**\n   - Pattern A (Runs 1,2,3,6,9): Full hierarchy with Live Cells > Lymphocytes > NK cells, plus CD56bright/dim with \"KIR characterization\"\n   - Pattern B (Runs 4,5,7,8,10): Shortened hierarchy missing Live Cells and Lymphocytes gates\n\n2. **Critical misses across ALL runs:**\n   - Never predicts the Mamu-KIR3DL01+/- bifurcation (macaque-specific KIR)\n   - Never predicts the KIR3DL05+/- subdivision\n   - Never predicts the CD16+/- \u00d7 CD56+/- combinations\n   - Uses \"CD56bright/dim\" instead of \"CD16+ CD56+\", \"CD16- CD56+\", etc.\n   - Adds \"Time Gate\" which is not in ground truth\n\n3. **What it gets right:**\n   - All Events > Singlets structure (with added Time Gate)\n   - NK cells as a population\n   - CD56-based NK subdivision concept (though wrong nomenclature)\n\n4. **The model appears to apply generic human NK gating conventions** (CD56bright/dim) rather than the macaque-specific Mamu-KIR panel design. This is a significant domain knowledge gap - the panel is specifically designed for rhesus macaque KIR receptor characterization, not standard human NK subsets.\n\nMEDIAN_QUALITY: 3\nCONSISTENCY: 8\nWORST_CASE: 2\nBEST_CASE: 4\nFAILURE_MODES: Missing species-specific KIR gates (Mamu-KIR3DL01/KIR3DL05), wrong NK subset nomenclature (CD56bright/dim vs CD16/CD56 combinations), hallucinated Time Gate, variable hierarchy depth (missing Live/Lymphocytes in 50% of runs)\nRELIABILITY: low - Model applies generic human NK gating conventions rather than reasoning from the macaque-specific KIR panel markers provided\nSUMMARY: The model completely misses the core scientific purpose of this panel (macaque KIR receptor characterization), substituting memorized human NK gating patterns despite being given species context and appropriate markers.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2475,
      "timestamp": "2026-01-13T05:14:09.786884",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.7,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing NK cell branch, hallucinated Time Gate, hallucinated Leukocytes gate, hallucinated Antigen-specific populations, inconsistent granularity between runs",
      "reliability": "medium - Model reliably captures T cell substructure but systematically omits NK lineage and adds plausible-but-incorrect preprocessing gates",
      "summary": "Gemini-2.0-flash demonstrates good T cell hierarchy reasoning but exhibits a blind spot for NK cells and consistently hallucinates quality control gates (Time Gate, Leukocytes) that weren't specified in ground truth.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-025\n\n### Structural Analysis\n\n**Ground Truth Structure:**\n- Root: All Events\n- Depth 2-3: Singlets > Live cells > Lymphocytes\n- Major branches: T cells (CD4+, CD8+) and NK cells\n- Terminal nodes: Memory subsets, Functional subsets, Follicular helper T cells\n\n**Predicted Structure (both variants):**\n- Adds \"Time Gate\" and \"Leukocytes\" gates not in ground truth\n- Missing: NK cells branch entirely (critical omission)\n- Missing: \"Lymphocytes\" gate in 6/10 runs (goes directly Leukocytes > T cells)\n\n### Two Distinct Prediction Patterns\n\n**Pattern A (Runs 1, 5, 8, 9):** Detailed enumeration\n- Lists individual memory subsets (Naive, CM, EM, TEMRA) instead of grouping as \"Memory subsets\"\n- Adds functional cytokine gates (IFN-\u03b3+, TNF-\u03b1+, etc.) under TFH\n- ~25 terminal gates - over-specified\n\n**Pattern B (Runs 2, 3, 4, 6, 7, 10):** Grouped abstraction\n- Uses aggregate terms like \"CD4+ T cell Memory Subsets\"\n- Adds \"Antigen-specific\" gates not in ground truth\n- ~9 terminal gates - more compact\n\n### Critical Issues\n\n1. **NK cells completely missing** in all 10 runs - this is a major hierarchy component\n2. **Hallucinated gates:** \"Time Gate\", \"Leukocytes\", \"Antigen-specific\" populations\n3. **Inconsistent depth:** Pattern A has 8+ levels, Pattern B has 7 levels; ground truth has 7 levels\n4. **Terminology drift:** \"TFH-like cells\" vs \"Follicular helper T cells\"\n\n---\n\nMEDIAN_QUALITY: 6 (captures T cell hierarchy well but misses NK branch entirely and adds spurious gates)\nCONSISTENCY: 7 (only 2 unique patterns across 10 runs, but patterns differ substantially in granularity)\nWORST_CASE: 5 (Pattern A over-enumerates and nests functional gates incorrectly under TFH)\nBEST_CASE: 7 (Pattern B closer to ground truth abstraction level, but still missing NK cells)\nFAILURE_MODES: missing NK cell branch, hallucinated Time Gate, hallucinated Leukocytes gate, hallucinated Antigen-specific populations, inconsistent granularity between runs\nRELIABILITY: medium - Model reliably captures T cell substructure but systematically omits NK lineage and adds plausible-but-incorrect preprocessing gates\nSUMMARY: Gemini-2.0-flash demonstrates good T cell hierarchy reasoning but exhibits a blind spot for NK cells and consistently hallucinates quality control gates (Time Gate, Leukocytes) that weren't specified in ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2401,
      "timestamp": "2026-01-13T05:14:38.718336",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation: OMIP-083 Monocyte Subset Gating\n\n### Ground Truth Analysis\nThe expected hierarchy focuses specifically on **monocyte subset classification**:\n- Classical Monocytes (CD14++CD16-)\n- Intermediate Monocytes (CD14++CD16+)\n- SLAN+ Nonclassical Monocytes (CD14+CD16++)\n- SLAN- Nonclassical Monocytes (CD14+CD16++)\n\nKey structural features:\n- Uses \"Cleaned Events\" and \"Non-granulocytes\" as intermediate gates\n- Distinguishes nonclassical monocytes by SLAN expression (a specific marker distinction)\n\n### Prediction Analysis\n\n**Two consistent patterns across 10 runs:**\n\n**Pattern A (Runs 1,2,4,6,7,9,10 - 70%):**\n- Time Gate > Singlets > Live Cells > Leukocytes > Monocytes > [Classical/Intermediate/Non-Classical]\n- Adds unnecessary \"Characterization\" child gates\n- Includes T Cells and B Cells (outside scope of ground truth)\n\n**Pattern B (Runs 3,5,8 - 30%):**\n- Time Gate > Singlets > Leukocytes > CD42b- > CD66b- > Monocytes > [subsets]\n- Uses marker-based exclusion gates (CD42b-, CD66b-) instead of \"Non-granulocytes\"\n- Omits Live Cells gate\n\n### Strengths\n1. **Core monocyte subsets identified**: Classical, Intermediate, and Nonclassical consistently recognized\n2. **Reasonable gating logic**: Both patterns show valid flow cytometry preprocessing\n3. **High parse success**: 100% parseable outputs\n\n### Weaknesses\n1. **Missing SLAN distinction**: Model never separates SLAN+ vs SLAN- nonclassical monocytes (critical for OMIP-083)\n2. **Structural divergence**: Uses \"Live Cells\" instead of \"Cleaned Events\", misses \"Non-granulocytes\"\n3. **Scope creep**: Adds T cells, B cells, and \"Characterization\" gates not in ground truth\n4. **Terminology mismatch**: \"Non-Classical\" vs \"Nonclassical\" (minor)\n\n---\n\n**MEDIAN_QUALITY: 5** (identifies main monocyte subsets but misses SLAN distinction and structural details)\n\n**CONSISTENCY: 8** (only 2 unique patterns, 70/30 split, high internal reproducibility)\n\n**WORST_CASE: 4** (Pattern B deviates more with CD42b-/CD66b- gates instead of semantic labels)\n\n**BEST_CASE: 6** (Pattern A closer to expected structure but still missing SLAN split)\n\n**FAILURE_MODES: missing SLAN+/SLAN- nonclassical distinction, hallucinated T/B cell gates, added unnecessary Characterization child gates, wrong intermediate gate names (Live Cells vs Cleaned Events)**\n\n**RELIABILITY: medium** The model reliably identifies the three-way monocyte classification but consistently fails to capture the SLAN-based subdivision that is the specific contribution of OMIP-083.\n\n**SUMMARY: Gemini-2.0-flash demonstrates consistent recognition of classical/intermediate/nonclassical monocyte subsets but systematically misses the SLAN marker distinction that defines this panel's unique contribution to monocyte phenotyping.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2427,
      "timestamp": "2026-01-13T05:15:04.277054",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-095\n\n### Structural Analysis\n\n**Ground Truth Structure:**\n- All Events > Singlets > Live cells > Leukocytes > [populations]\n- 4 levels to major populations (T cells, B cells, NK cells, etc.)\n\n**Model Predictions Structure:**\n- All Events > Time Gate > Singlets > Live Cells > Leukocytes > Lymphocytes > [populations]\n- 6 levels to major populations\n- Adds \"Time Gate\" and \"Lymphocytes\" as extra intermediate gates\n\n### Key Observations\n\n**Consistent additions across all runs:**\n1. **Time Gate** inserted between All Events and Singlets - reasonable but not in ground truth\n2. **Lymphocytes** gate added between Leukocytes and T/B/NK cells - biologically reasonable but deviates from ground truth structure\n\n**Two prediction patterns observed:**\n- **Pattern A (Runs 1,2,4,5,7,8):** Detailed memory subset enumeration (Naive, CM, EM, TEMRA for T cells)\n- **Pattern B (Runs 3,6,9,10):** Generic \"Subsets\" placeholders (e.g., \"CD4+ T cell Memory Subsets\")\n\n**Population coverage:**\n- T cells (CD4+, CD8+): \u2713 Present in all runs\n- B cells: \u2713 Present\n- NK cells: \u2713 Present (labeled \"NK cells\" vs \"Natural killer cells\")\n- Monocytes: \u2713 Present\n- Macrophages: \u2717 Missing\n- Dendritic cells: \u2717 Missing\n- Innate lymphoid cells: \u2717 Missing (distinct from NK cells in ground truth)\n\n**Hallucinations:**\n- TEMRA subsets for mouse samples (TEMRA is a human T cell phenotype, less applicable to mice)\n- Memory subset granularity exceeds ground truth specification\n\n---\n\n**MEDIAN_QUALITY:** 6\n**CONSISTENCY:** 8\n**WORST_CASE:** 5\n**BEST_CASE:** 7\n**FAILURE_MODES:** Missing macrophages/dendritic cells/ILCs, adds spurious Lymphocytes intermediate gate, TEMRA hallucination for mouse samples, Time Gate insertion not in ground truth\n**RELIABILITY:** medium - Model reliably produces structurally sound hierarchies but consistently misses myeloid populations and adds biologically-reasonable but incorrect intermediate gates\n**SUMMARY:** The model demonstrates good consistency (only 2 unique patterns across 10 runs) and captures lymphoid lineages well, but systematically omits myeloid populations (macrophages, DCs) and adds extra hierarchy levels not present in the ground truth, limiting its accuracy for faithful reproduction of specified gating strategies.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2183,
      "timestamp": "2026-01-13T05:15:27.080948",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-076 (Murine Splenocytes)\n\n**MEDIAN_QUALITY: 6**\nThe model captures core immunological logic (T cell/B cell branching, Treg/Tfh subsets) but systematically differs from ground truth in hierarchy depth and specific population naming.\n\n**CONSISTENCY: 9**\nOnly 2 unique gate sets across 10 runs with consistency score of 0.89. The model alternates between two stable patterns: one emphasizing \"Activated\" subsets with Naive B cells, the other using \"Memory\" nomenclature with combined Plasma cells/Plasmablasts.\n\n**WORST_CASE: 5**\nThe Memory/Plasmablasts variant (Runs 2, 6, 8, 9) is slightly worse - it collapses distinct Plasma cells and Plasmablasts into one gate and omits fine-grained B cell activation states.\n\n**BEST_CASE: 7**\nThe Activated/Naive variant (Runs 1, 3, 4, 5, 7, 10) better captures B cell heterogeneity with distinct Naive B cells and separate handling, though still misses Memory B cells and Plasma cell distinctions.\n\n**FAILURE_MODES: adds spurious Time Gate, uses Leukocytes instead of Lymphocytes, omits CD4/CD8 subdivision before memory subsets, misses ICOS+ Treg subset, conflates Plasma cells with Plasmablasts, omits Activated B cells and Memory B cells gates**\n\n**RELIABILITY: medium** The model produces immunologically sensible hierarchies with high consistency but systematically deviates from ground truth structure through added/modified intermediate gates and incomplete B cell subset resolution.\n\n**SUMMARY:** gemini-2.0-flash demonstrates strong reproducibility and reasonable immunological understanding but exhibits systematic structural deviations from the expected hierarchy, particularly inserting an unnecessary Time Gate, using broader \"Leukocytes\" gating, and incompletely resolving B cell memory and activation states.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1141,
      "timestamp": "2026-01-13T05:15:49.345382",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.8,
      "worst_case": 0.6,
      "best_case": 0.7,
      "failure_modes": "Time Gate hallucination (100% of runs), Lymphocytes gate omission (30% of runs)",
      "reliability": "medium - Model consistently reaches correct terminal populations but adds a spurious Time Gate in every run, suggesting a learned prior from training data that doesn't match this specific protocol.",
      "summary": "The model reliably identifies the core T cell hierarchy (CD4+/CD8+ from T cells) but systematically hallucinates a Time Gate and occasionally drops the Lymphocytes gating step, indicating good domain knowledge with minor structural biases.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-008\n\n### Analysis\n\n**Ground Truth Structure:**\n- 6 gates per lineage path: All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+\n\n**Model Predictions:**\n- All 10 runs add \"Time Gate\" between All Events and Singlets (consistent hallucination)\n- 7/10 runs include Lymphocytes gate (correct)\n- 3/10 runs skip Lymphocytes, going directly Live Cells \u2192 T Cells (missing gate)\n\n**Gate-by-Gate Comparison:**\n| Gate | Ground Truth | Model (majority) | Match |\n|------|-------------|------------------|-------|\n| All Events | \u2713 | \u2713 | \u2713 |\n| Time Gate | \u2717 | \u2713 | Hallucinated |\n| Singlets | \u2713 | \u2713 | \u2713 |\n| Live cells | \u2713 | \u2713 | \u2713 |\n| Lymphocytes | \u2713 | \u2713 (7/10) | Partial |\n| T cells | \u2713 | \u2713 | \u2713 |\n| CD4+/CD8+ | \u2713 | \u2713 | \u2713 |\n\n---\n\nMEDIAN_QUALITY: 7 (correct terminal populations and most structure, but consistent Time Gate hallucination)\nCONSISTENCY: 8 (only variation is Lymphocytes gate presence in 3/10 runs, otherwise identical)\nWORST_CASE: 6 (runs 3,5,7 missing Lymphocytes gate AND have Time Gate hallucination)\nBEST_CASE: 7 (runs with Lymphocytes correct, but Time Gate still hallucinated in all)\nFAILURE_MODES: Time Gate hallucination (100% of runs), Lymphocytes gate omission (30% of runs)\nRELIABILITY: medium - Model consistently reaches correct terminal populations but adds a spurious Time Gate in every run, suggesting a learned prior from training data that doesn't match this specific protocol.\nSUMMARY: The model reliably identifies the core T cell hierarchy (CD4+/CD8+ from T cells) but systematically hallucinates a Time Gate and occasionally drops the Lymphocytes gating step, indicating good domain knowledge with minor structural biases.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 949,
      "timestamp": "2026-01-13T05:16:11.769231",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.8,
      "worst_case": 0.6,
      "best_case": 0.6,
      "failure_modes": "missing FoxP3- non-Treg branch, Lymphocytes vs Leukocytes terminology confusion, Time Gate hallucination",
      "reliability": "medium Model consistently captures the primary Treg gating path but systematically misses negative population branches and uses imprecise intermediate gate terminology.",
      "summary": "Reliable for identifying the main Treg population hierarchy but consistently fails to predict branching structures (FoxP3+ vs FoxP3-) and uses \"Leukocytes\" instead of the more precise \"Lymphocytes\" gate.",
      "raw_response": "Looking at this evaluation:\n\n**Ground Truth Analysis:**\n- Expected: All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3+ Treg (and FoxP3- non-Treg branch)\n\n**Prediction Patterns:**\n- All 10 runs add \"Time Gate\" (not in ground truth - minor addition, common practice)\n- All 10 runs correctly identify the core path: Singlets > Live Cells > CD4+ T cells > FoxP3+ Tregs\n- 4/10 runs add \"Leukocytes\" intermediate gate (Runs 1, 2, 7, 10)\n- 6/10 runs skip directly from Live Cells to CD4+ T cells (Runs 3-6, 8-9)\n- All runs miss \"Lymphocytes\" gate (replaced by either nothing or \"Leukocytes\")\n- All runs miss the \"FoxP3- non-Treg\" branch entirely\n\n**Key Issues:**\n1. Missing \"Lymphocytes\" gate - model uses \"Leukocytes\" or skips entirely\n2. Missing FoxP3- non-Treg branch - only predicts the positive population\n3. Time Gate addition - not wrong but not in ground truth\n\nMEDIAN_QUALITY: 6 (captures main Treg lineage correctly but misses Lymphocytes gate and FoxP3- branch)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs, minor variation in Leukocytes inclusion)\nWORST_CASE: 6 (all predictions have same fundamental issues)\nBEST_CASE: 6 (none fully capture the FoxP3- branch or correct Lymphocytes terminology)\nFAILURE_MODES: missing FoxP3- non-Treg branch, Lymphocytes vs Leukocytes terminology confusion, Time Gate hallucination\nRELIABILITY: medium Model consistently captures the primary Treg gating path but systematically misses negative population branches and uses imprecise intermediate gate terminology.\nSUMMARY: Reliable for identifying the main Treg population hierarchy but consistently fails to predict branching structures (FoxP3+ vs FoxP3-) and uses \"Leukocytes\" instead of the more precise \"Lymphocytes\" gate.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1814,
      "timestamp": "2026-01-13T05:16:37.164772",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-077 (10 runs)\n\n**MEDIAN_QUALITY: 7**\nThe model captures most major leukocyte populations (T cells, B cells, NK cells, monocytes, DCs) and correctly structures them under a singlets/leukocytes hierarchy. However, it consistently omits the \"Live cells\" gate present in ground truth and adds gates not in the reference (Time Gate, Dump Gate).\n\n**CONSISTENCY: 9**\nHighly consistent - 8 of 10 runs produced identical hierarchies, with only runs 6 and 10 showing a variant that adds a \"Dump Gate\" intermediate level. The core population identification is stable across all runs.\n\n**WORST_CASE: 6**\nRuns 6 and 10 introduce an extra \"Dump Gate (CD15, CD34)\" layer that deviates further from ground truth structure, though the terminal populations remain reasonable.\n\n**BEST_CASE: 7**\nThe dominant pattern (runs 1-5, 7-9) correctly identifies the major populations with appropriate NK subset granularity (CD56bright/dim) and monocyte subsets, though structural differences from ground truth persist.\n\n**FAILURE_MODES: missing Live cells gate, spurious Time Gate insertion, occasional Dump Gate addition, missing NK-T cells population, missing Marginal Zone B cells, missing Plasma cells**\n\n**RELIABILITY: medium** The model produces structurally sound hierarchies with correct population logic, but consistently diverges from the exact ground truth structure by omitting viability gating and adding quality control gates.\n\n**SUMMARY:** gemini-2.0-flash demonstrates strong consistency and reasonable biological reasoning for this comprehensive leukocyte panel, but systematically differs from ground truth in early hierarchy structure (missing Live cells, adding Time Gate) while capturing most terminal populations correctly.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3107,
      "timestamp": "2026-01-13T05:17:04.072034",
      "error": null,
      "median_quality": 0.8,
      "consistency": 0.9,
      "worst_case": 0.7,
      "best_case": 0.8,
      "failure_modes": "Lymphocytes\u2192Leukocytes terminology swap, over-expansion of abstract gates into explicit subsets, variable nesting depth for functional markers",
      "reliability": "high - Model reliably produces biologically valid T cell hierarchies with correct memory subset logic; differences from ground truth reflect stylistic choices rather than errors",
      "summary": "Strong performance with consistent identification of CD4+/CD8+ memory subsets and functional markers; predictions are more granular than ground truth abstractions but scientifically accurate.",
      "raw_response": "## Evaluation of gemini-2.0-flash on OMIP-022\n\n### Analysis\n\n**Ground Truth Structure:**\n- All Events \u2192 Time Gate \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+ \u2192 Memory Subsets / Functional Analysis\n\n**Prediction Patterns (2 variants observed):**\n\n**Variant A (Runs 1, 3, 4, 6, 7, 8 - 60%):**\n- Uses \"Leukocytes\" instead of \"Lymphocytes\" \n- Correctly identifies CD4+ and CD8+ T cell branches\n- Names memory subsets explicitly (Naive, CM, EM, TEMRA) rather than grouping as \"Memory Subsets\"\n- Separates function as a sibling to memory rather than parallel branch\n\n**Variant B (Runs 2, 5, 9, 10 - 40%):**\n- Same structure as Variant A but with marker annotations in parentheses\n- More verbose naming: \"T Cells (CD3+ CD19-)\", \"CD4+ T Cells (CD4+ CD8-)\"\n- Includes function as a child of each memory subset (deeper nesting)\n\n**Key Observations:**\n1. **Core structure correct**: All runs capture Time Gate \u2192 Singlets \u2192 Live \u2192 T cells \u2192 CD4+/CD8+ bifurcation\n2. **Lymphocytes vs Leukocytes**: Model uses \"Leukocytes\" (technically correct but differs from ground truth \"Lymphocytes\")\n3. **Memory granularity**: Model expands memory into 4 canonical subsets (Naive, CM, EM, TEMRA) rather than keeping abstract \"Memory Subsets\" - this is **more detailed** than ground truth\n4. **Functional analysis placement**: Correctly identified but structured as nested under memory subsets (Variant B) or as sibling (Variant A)\n5. **No hallucinations**: All gates are biologically valid and derivable from panel markers\n\n---\n\nMEDIAN_QUALITY: 8 (correctly captures T cell memory/function hierarchy with appropriate subsets, minor terminology differences)\nCONSISTENCY: 9 (only 2 structural variants across 10 runs, both biologically valid, 89% consistency score)\nWORST_CASE: 7 (Variant B over-nests function under each memory subset, creating redundancy)\nBEST_CASE: 8 (Variant A cleanly separates memory and function, matches expected logic)\nFAILURE_MODES: Lymphocytes\u2192Leukocytes terminology swap, over-expansion of abstract gates into explicit subsets, variable nesting depth for functional markers\nRELIABILITY: high - Model reliably produces biologically valid T cell hierarchies with correct memory subset logic; differences from ground truth reflect stylistic choices rather than errors\nSUMMARY: Strong performance with consistent identification of CD4+/CD8+ memory subsets and functional markers; predictions are more granular than ground truth abstractions but scientifically accurate.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "gemini-2.0-flash",
      "condition": "gemini-2.0-flash_standard_cot_oracle",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.8888888888888888,
      "unique_gate_sets": 2,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2634,
      "timestamp": "2026-01-13T05:17:32.191069",
      "error": null,
      "median_quality": 0.3,
      "consistency": 0.8,
      "worst_case": 0.3,
      "best_case": 0.4,
      "failure_modes": "missing myeloid lineage (monocytes/mDCs), missing B cell subsets, missing NK cell subsets, missing exclusion gates (Non-beads/Non-aggregates/Non-granulocytes), T-cell over-focus",
      "reliability": "low - Model consistently produces only T-cell-focused hierarchies, systematically omitting 60-70% of expected populations in this pan-leukocyte panel",
      "summary": "Highly consistent but systematically incomplete predictions that capture T-cell biology while entirely ignoring myeloid, B cell, and NK cell populations required by this comprehensive whole blood panel.",
      "raw_response": "## OMIP-101 Evaluation: gemini-2.0-flash (standard_cot_oracle)\n\nLooking at the 10 runs against the ground truth hierarchy for this 27-color whole blood immunophenotyping panel:\n\n**Key Observations:**\n\n1. **Two distinct prediction patterns emerge:**\n   - Pattern A (Runs 1,2,4,5,6,10): Simplified hierarchy missing intermediate exclusion gates (Non-beads, Non-aggregates, Non-granulocytes), focuses heavily on T-cell subsets\n   - Pattern B (Runs 3,7,8,9): More detailed memory subset gating with marker annotations, but still T-cell focused\n\n2. **Critical missing structure:** The ground truth has a specific exclusion-gate pathway (Non-beads \u2192 Non-aggregates \u2192 Non-granulocytes \u2192 Myeloid/Lymphocytes split) that is entirely absent from all predictions. The model jumps directly from Singlets/Leukocytes to Lymphocytes.\n\n3. **Myeloid lineage completely ignored:** Ground truth includes Classical/Intermediate/Non-classical monocytes and mDCs under HLA-DR+ myeloid. Zero predictions capture any monocyte or mDC gating.\n\n4. **B cell gating absent:** Ground truth specifies Plasmablasts, Naive B cells, Memory B cells. None of the runs include B cell subsets.\n\n5. **NK cell gating absent:** Ground truth specifies CD56dim/CD56bright NK cells. Not present in predictions.\n\n6. **T-cell over-representation:** Model correctly identifies T-cell subsets (CD4+, CD8+, \u03b3\u03b4, memory subsets) but this represents only ~30% of the expected hierarchy.\n\n---\n\nMEDIAN_QUALITY: 3 (captures basic lymphocyte/T-cell structure but misses majority of expected populations including entire myeloid lineage, B cells, and NK cells)\nCONSISTENCY: 8 (only 2 unique patterns across 10 runs, high reproducibility within patterns)\nWORST_CASE: 3 (Pattern A runs are slightly less detailed but functionally equivalent in coverage gaps)\nBEST_CASE: 4 (Pattern B runs include memory subset marker annotations, marginally better)\nFAILURE_MODES: missing myeloid lineage (monocytes/mDCs), missing B cell subsets, missing NK cell subsets, missing exclusion gates (Non-beads/Non-aggregates/Non-granulocytes), T-cell over-focus\nRELIABILITY: low - Model consistently produces only T-cell-focused hierarchies, systematically omitting 60-70% of expected populations in this pan-leukocyte panel\nSUMMARY: Highly consistent but systematically incomplete predictions that capture T-cell biology while entirely ignoring myeloid, B cell, and NK cell populations required by this comprehensive whole blood panel.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2594,
      "timestamp": "2026-01-13T05:18:01.382268",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing time gate, missing specialized memory subsets (RM/AM/TLM), reversed lymphocyte-live cell order, inconsistent intermediate gates, hallucinated CD19+/CD20+ explicit gates not in ground truth",
      "reliability": "medium Model captures core B cell isotype subtyping logic but lacks consistency in intermediate gating and misses domain-specific memory B cell nomenclature that OMIP-074 specifically defines.",
      "summary": "The model demonstrates solid understanding of IgG/IgA subclass phenotyping but shows high run-to-run variability in intermediate gates and consistently misses the specialized memory B cell categories (Resting, Activated, Tissue-like Memory) that are central to OMIP-074's design.",
      "raw_response": "Looking at the 10 runs, I need to evaluate how well claude-opus-4-20250514-cli predicts the OMIP-074 gating hierarchy for B cell IgG/IgA subclass phenotyping.\n\n**Key observations:**\n\n1. **Core structure captured**: All runs correctly identify the fundamental flow: All Events \u2192 Singlets \u2192 Live Cells \u2192 (some gate) \u2192 B cells \u2192 subpopulations with IgG subclasses (IgG1-4) and IgA subclasses.\n\n2. **Missing from ground truth that model gets wrong**:\n   - **Time gate**: Ground truth has \"Time gate\" as second level; model never includes this\n   - **Memory subset naming**: Ground truth uses specific terms (Resting Memory, Activated Memory, Tissue-like Memory) that the model doesn't predict\u2014instead using generic \"Memory B Cells\"\n   - **Hierarchy order**: Ground truth has Lymphocytes \u2192 Live cells; most predictions have Live Cells \u2192 Lymphocytes (reversed)\n\n3. **Model variations across runs**:\n   - Some runs include Lymphocytes gate, others skip directly to B cells\n   - Run 2, 10 use \"Dump negative\" instead of Lymphocytes\n   - Variable inclusion of CD19+/CD20+ explicit gates\n   - Kappa/Lambda light chain gates appear in some runs but not ground truth\n\n4. **Consistent strengths**:\n   - Always captures IgG subclasses (IgG1, IgG2, IgG3, IgG4)\n   - Always captures IgA subclasses (IgA1, IgA2) in most runs\n   - Correct terminal gate depth for isotype subtyping\n\n5. **Consistent weaknesses**:\n   - Never predicts the specialized memory B cell categories (RM, AM, TLM)\n   - Never includes Time gate\n   - Inconsistent intermediate gating between Live Cells and B cells\n\nMEDIAN_QUALITY: 5 (captures isotype subclasses but misses specialized memory categories and time gate)\nCONSISTENCY: 3 (10 unique gate sets with significant structural variation\u2014dump negative vs lymphocytes, CD19/CD20 inclusion varies)\nWORST_CASE: 4 (Run 4 skips Lymphocytes entirely, most shallow hierarchy)\nBEST_CASE: 6 (Run 5/8 with fuller hierarchies including light chain or detailed memory breakdowns)\nFAILURE_MODES: missing time gate, missing specialized memory subsets (RM/AM/TLM), reversed lymphocyte-live cell order, inconsistent intermediate gates, hallucinated CD19+/CD20+ explicit gates not in ground truth\nRELIABILITY: medium Model captures core B cell isotype subtyping logic but lacks consistency in intermediate gating and misses domain-specific memory B cell nomenclature that OMIP-074 specifically defines.\nSUMMARY: The model demonstrates solid understanding of IgG/IgA subclass phenotyping but shows high run-to-run variability in intermediate gates and consistently misses the specialized memory B cell categories (Resting, Activated, Tissue-like Memory) that are central to OMIP-074's design.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2566,
      "timestamp": "2026-01-13T05:18:28.253947",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.8,
      "worst_case": 0.6,
      "best_case": 0.8,
      "failure_modes": "missing stem cell memory T cells, missing transitional memory T cells, adds Singlets gate inappropriate for CyTOF, nomenclature variation across runs",
      "reliability": "medium The model reliably produces immunologically sound hierarchies but consistently misses specific memory subsets (stem cell memory, transitional memory) that require specialized knowledge of the OMIP-087 panel design.",
      "summary": "Claude-opus-4 produces structurally consistent and immunologically reasonable gating hierarchies with good coverage of standard T cell subsets, but systematically misses the specialized stem cell memory and transitional memory populations that are key features of OMIP-087.",
      "raw_response": "Looking at these 10 runs, I need to evaluate how well claude-opus-4 predicts the OMIP-087 gating hierarchy.\n\n**Key Observations:**\n\n1. **Structural consistency**: All 10 runs use the same basic backbone structure:\n   - All Events > Singlets > Live Cells > CD45+ Leukocytes > CD3+ T cells > TCRgd+/- split > CD4+/CD8+ split\n\n2. **Comparison to ground truth**: The expected hierarchy is simpler:\n   - All Events > Leukocytes > T cells > CD4+/CD8+ T cells > memory subsets\n   - Ground truth skips Singlets, Live Cells, and TCRgd gating steps\n\n3. **Memory subset coverage**: The model correctly identifies:\n   - Naive, Central Memory, Effector Memory populations\n   - Tregs, Tfh cells in most runs\n   - The model adds TEMRA (Terminal Effector Memory Re-expressing CD45RA) which aligns with \"Terminal effector\" in ground truth\n\n4. **Missing from ground truth but predicted**: \n   - Singlets gate (appropriate for CyTOF? Actually OMIP-087 is mass cytometry - singlets less relevant)\n   - TCRgd+ T cells (the panel includes TCRgd marker, so this is reasonable)\n   - Recent Thymic Emigrants (RTE) - present in some runs\n\n5. **Missing from predictions**:\n   - \"Stem cell memory\" T cells - consistently absent\n   - \"Transitional memory\" T cells - consistently absent\n\n6. **Variance across runs**: Gate naming varies (e.g., \"TCRgd- T cells\" vs \"TCRgd- \u03b1\u03b2 T cells\") but the conceptual structure is highly stable. The \"10 unique gate sets\" reflects naming variation, not structural inconsistency.\n\nMEDIAN_QUALITY: 7 (correctly identifies most major populations with appropriate hierarchy depth; misses stem cell memory and transitional memory subsets)\nCONSISTENCY: 8 (structural logic is consistent across all runs; variation is purely in nomenclature, not reasoning)\nWORST_CASE: 6 (some runs have fewer memory subsets or miss Tfh/Tregs in truncated output)\nBEST_CASE: 8 (runs 1 and 7 show detailed hierarchies with RTE, Tregs, Tfh, and comprehensive memory subsets)\nFAILURE_MODES: missing stem cell memory T cells, missing transitional memory T cells, adds Singlets gate inappropriate for CyTOF, nomenclature variation across runs\nRELIABILITY: medium The model reliably produces immunologically sound hierarchies but consistently misses specific memory subsets (stem cell memory, transitional memory) that require specialized knowledge of the OMIP-087 panel design.\nSUMMARY: Claude-opus-4 produces structurally consistent and immunologically reasonable gating hierarchies with good coverage of standard T cell subsets, but systematically misses the specialized stem cell memory and transitional memory populations that are key features of OMIP-087.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2631,
      "timestamp": "2026-01-13T05:19:02.297361",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of Claude Opus CLI on OMIP-064 (27-color NK/ILC/MAIT/\u03b3\u03b4 T cell panel)\n\n### Analysis\n\n**Ground Truth Structure:**\nThe expected hierarchy is relatively simple with 4 terminal populations: MAIT cells, \u03b3\u03b4 T cells, NK cells (with Activated NK subset), and Other ILC subsets.\n\n**Prediction Patterns Observed:**\n\n1. **Consistent strengths across all runs:**\n   - All 10 runs correctly identify the core gating backbone: All Events > Singlets > Live cells > Lymphocytes\n   - MAIT cells identified in 10/10 runs (with appropriate CD8+ and DN subsets in most)\n   - \u03b3\u03b4 T cells (TCRgd+) identified in 10/10 runs with Vd2+/Vd2- subdivision\n   - NK cells identified in multiple runs with detailed subsets (CD56bright/dim, CD57+, NKG2A+, etc.)\n\n2. **Structural variations:**\n   - Runs vary in whether they add intermediate exclusion gates (CD14- CD33-, CD14- CD19-)\n   - Run 9 omits \"Lymphocytes\" gate (goes directly from Live cells to CD3+ T cells)\n   - Run 7 focuses heavily on NK cells with less T cell detail\n\n3. **Discrepancies from ground truth:**\n   - Ground truth places MAIT under \"T cells\" directly; predictions place it under TCRab+ or TCRgd- intermediate gates\n   - Ground truth has \"Innate Lymphoid Cells\" as parent of NK cells; most predictions have NK cells under CD3- lineage exclusion\n   - \"Other ILC subsets\" is missing from all predictions - this is a notable gap\n   - \"Activated NK cells\" from ground truth is replaced with more detailed NK subsets (CD56bright/dim, CD57+, etc.)\n\n4. **Biological accuracy:**\n   - The predictions are actually more detailed and biologically sophisticated than the ground truth\n   - Adding Vd2+/Vd2- subdivision of \u03b3\u03b4 T cells is correct for this panel (has anti-V\u03b42)\n   - CD8+ MAIT / DN MAIT subdivision is appropriate\n   - NK cell subdivisions (CD56bright/dim, NKG2A/C, CD57) reflect actual markers in the panel\n\n**MEDIAN_QUALITY: 7**\nThe typical prediction correctly identifies all major populations with appropriate biological detail. The hierarchical structure follows logical gating principles. However, predictions miss the ILC subset organization from ground truth.\n\n**CONSISTENCY: 4**\nWhile core populations are consistent (MAIT, \u03b3\u03b4 T, NK all appear), the exact hierarchy varies significantly:\n- Different intermediate gates (CD14- CD33- vs CD14- CD19- vs none)\n- Varying depth of T cell vs NK cell characterization\n- Run 7 is heavily NK-focused while others are T-cell focused\n- 10 unique gate sets out of 10 runs indicates high variance\n\n**WORST_CASE: 5**\nRun 9 omits the Lymphocytes gate (structural error) and has simpler hierarchy. Run 7 focuses almost exclusively on NK cells, missing conventional T cell detail.\n\n**BEST_CASE: 8**\nRuns 1, 5, and 8 provide comprehensive hierarchies with both T cell lineages (MAIT, \u03b3\u03b4, CD4, CD8) and NK cell subsets with biologically appropriate subdivisions that exceed the ground truth detail.\n\n**FAILURE_MODES: missing ILC/Other ILC subsets gate, inconsistent intermediate exclusion gates, variable hierarchy depth across runs, T-cell vs NK-cell focus imbalance between runs**\n\n**RELIABILITY: medium** \nThe model reliably identifies the main populations (MAIT, \u03b3\u03b4 T, NK) but the exact hierarchical structure and level of detail varies substantially between runs, making it unsuitable for applications requiring reproducible outputs.\n\n**SUMMARY:** \nClaude Opus generates biologically sophisticated gating hierarchies that often exceed ground truth detail, but exhibits high structural variance across runs and consistently misses the ILC organizational structure specified in the reference.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.2222222222222222,
      "unique_gate_sets": 8,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2213,
      "timestamp": "2026-01-13T05:19:26.978362",
      "error": null,
      "median_quality": 0.8,
      "consistency": 0.9,
      "worst_case": 0.7,
      "best_case": 0.8,
      "failure_modes": "over-enumeration vs aggregate categories, inconsistent capitalization, inconsistent \"+\" suffix usage",
      "reliability": "high The model reliably produces biologically correct hierarchies with consistent structure, though naming conventions vary slightly between runs.",
      "summary": "Claude Opus produces accurate, detailed gating hierarchies that correctly capture T cell and NK cell subsets with proper parent-child relationships, though it enumerates specific memory populations rather than using the ground truth's aggregate category labels.",
      "raw_response": "Looking at the 10 runs, I'll evaluate the model's performance against the ground truth.\n\n**Key Observations:**\n\n1. **Structural accuracy**: All runs correctly predict the core hierarchy (All Events > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ branches > subsets). The model adds \"CD3+\" to \"T cells\" which is technically correct (T cells are CD3+) but differs from ground truth naming.\n\n2. **Granularity mismatch**: The ground truth uses aggregate categories (\"CD4+ Memory subsets\", \"CD4+ Functional subsets\") while the model enumerates specific populations (Naive, Central Memory, Effector Memory, TEMRA). This is *more detailed* than ground truth, not wrong per se.\n\n3. **Complete coverage**: The model predicts Tfh cells, memory subsets, and NK functional subsets - all present in ground truth. It correctly identifies the T cell and NK cell branches.\n\n4. **Capitalization/naming variance**: Minor inconsistencies across runs (\"Live cells\" vs \"Live Cells\", \"CD4+\" vs \"CD4\", \"T cells\" vs \"T Cells\") account for the 8 unique gate sets despite semantic equivalence.\n\n5. **No hallucinations**: All predicted gates correspond to markers in a typical T/NK panel. No invented populations.\n\n**The consistency score of 0.22 is misleading** - it reflects superficial text differences (capitalization, \"+\" suffixes) rather than structural disagreements. Semantically, runs are nearly identical.\n\nMEDIAN_QUALITY: 8 (correct structure and biology, more granular than ground truth but scientifically valid)\nCONSISTENCY: 9 (semantically identical across runs, only superficial text variations)\nWORST_CASE: 7 (minor capitalization inconsistencies don't affect correctness)\nBEST_CASE: 8 (accurate hierarchy with appropriate memory/functional subset detail)\nFAILURE_MODES: over-enumeration vs aggregate categories, inconsistent capitalization, inconsistent \"+\" suffix usage\nRELIABILITY: high The model reliably produces biologically correct hierarchies with consistent structure, though naming conventions vary slightly between runs.\nSUMMARY: Claude Opus produces accurate, detailed gating hierarchies that correctly capture T cell and NK cell subsets with proper parent-child relationships, though it enumerates specific memory populations rather than using the ground truth's aggregate category labels.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3030,
      "timestamp": "2026-01-13T05:19:58.184359",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.2,
      "best_case": 0.6,
      "failure_modes": "over-elaboration of upstream gating, hallucinated sub-stratification (CCR2/CX3CR1/CD86), inconsistent panel focus (2/10 runs gate wrong lineages), non-standard intermediate node naming",
      "reliability": "low The model produces scientifically reasonable gating strategies but cannot reliably reproduce the ground truth structure, and 20% of runs completely miss the target population focus.",
      "summary": "Claude Opus demonstrates strong domain knowledge of monocyte immunophenotyping but over-generates hierarchies with unsolicited depth and stratification, and occasionally loses focus on the target population entirely.",
      "raw_response": "Looking at the 10 runs, I'll evaluate claude-opus-4-20250514-cli's performance on OMIP-083 monocyte gating.\n\n**Key Observations:**\n\n1. **Ground truth structure**: Simple 4-level hierarchy under \"All Events > Cleaned Events > Leukocytes > Non-granulocytes > Monocytes\" with Classical, Intermediate, and SLAN+/- Nonclassical subsets.\n\n2. **Model predictions**: Consistently produce much deeper hierarchies (8-10 levels) with extensive upstream gating (Singlets > Live > CD45+ > Platelet-free > Lin- > CD66b- > HLA-DR+) before reaching monocytes.\n\n3. **Monocyte subsets captured**: Runs 1-8 correctly identify Classical, Intermediate, and Non-classical monocyte populations with SLAN stratification. Runs 9-10 diverge significantly, producing pan-leukocyte panels (T cells, B cells, NK cells) instead of monocyte-focused hierarchies.\n\n4. **Structural issues**:\n   - All runs add many gates not in ground truth (Singlets, Live, Platelet-free, Lin-, etc.)\n   - Most runs add sub-stratification not requested (CCR2+, CX3CR1+, CD86+ subsets)\n   - Runs 9-10 completely miss the monocyte focus, gating T/B/NK cells instead\n\n5. **Naming discrepancies**: Ground truth uses \"Other Monocyte Subsets\" as intermediate node; model uses marker-based naming (CD14dim/-, CD16+)\n\nMEDIAN_QUALITY: 5 (captures core monocyte subsets but adds extensive unsolicited hierarchy depth and marker stratification)\nCONSISTENCY: 3 (runs 1-8 share similar monocyte-focused structure, but runs 9-10 produce completely different pan-leukocyte hierarchies; all 10 unique)\nWORST_CASE: 2 (runs 9-10 miss monocyte focus entirely, gating T/B/NK cells instead)\nBEST_CASE: 6 (runs 3, 6 have cleaner monocyte hierarchies with correct SLAN+/- stratification)\nFAILURE_MODES: over-elaboration of upstream gating, hallucinated sub-stratification (CCR2/CX3CR1/CD86), inconsistent panel focus (2/10 runs gate wrong lineages), non-standard intermediate node naming\nRELIABILITY: low The model produces scientifically reasonable gating strategies but cannot reliably reproduce the ground truth structure, and 20% of runs completely miss the target population focus.\nSUMMARY: Claude Opus demonstrates strong domain knowledge of monocyte immunophenotyping but over-generates hierarchies with unsolicited depth and stratification, and occasionally loses focus on the target population entirely.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2191,
      "timestamp": "2026-01-13T05:20:25.063970",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.0,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "missing Live cells gate, inverted KIR hierarchy, inconsistent CD16/CD56 organization, missing species-specific Mamu prefix, hallucinated nested structures",
      "reliability": "low The model produces completely different hierarchies on every run with 0% consistency, making it unreliable for reproducible gating strategy prediction.",
      "summary": "Model understands this is an NK cell KIR panel but cannot reliably reproduce the specific Mamu-KIR3DL01/KIR3DL05 quadrant gating structure, showing high variance across runs with no two predictions matching.",
      "raw_response": "Looking at the model's predictions across 10 runs against the OMIP-035 ground truth for rhesus macaque NK cell functional analysis:\n\n**Key Observations:**\n\n1. **Missing Live cells gate**: 9/10 runs omit the \"Live cells\" gate between Singlets and Lymphocytes. Only Run 5 includes it correctly.\n\n2. **Incorrect KIR gating structure**: The ground truth uses a hierarchical Mamu-KIR3DL01+/- split first, then subdivides by KIR3DL05+/-. The model consistently inverts this or treats them as independent subpopulations.\n\n3. **CD16/CD56 organization differs**: Ground truth shows CD16+/- and CD56+/- as coordinate gates under NK cells. The model creates nested hierarchies (CD56bright > CD16+, etc.) that don't match.\n\n4. **Species-specific nomenclature**: Model sometimes uses \"KIR3DL01\" instead of \"Mamu-KIR3DL01\" (the macaque-specific designation).\n\n5. **Complete lack of consistency**: 10 unique hierarchies across 10 runs with consistency score of 0.00. The model produces different organizational schemes each time:\n   - Runs 1,7,9: CD16+/- as primary NK subdivision\n   - Runs 2,3,4,6,8,10: CD56bright/dim as primary NK subdivision\n   - Run 5: CD56/CD16 combination gates\n\n6. **Hallucinated subpopulations**: Model creates gates like \"CD56dim CD16+\" that aren't in ground truth.\n\n7. **Missing ground truth populations**: None of the runs capture the Mamu-KIR3DL01+/- followed by KIR3DL05+/- structure. The four-quadrant KIR gating strategy is never reproduced.\n\nMEDIAN_QUALITY: 4 (captures NK cell focus and some markers but wrong hierarchical organization)\nCONSISTENCY: 0 (10 completely different hierarchies across 10 runs)\nWORST_CASE: 3 (Run 10 - minimal depth, missing many populations)\nBEST_CASE: 5 (Run 5 - includes Live cells, attempts CD16/CD56 coordinate gating)\nFAILURE_MODES: missing Live cells gate, inverted KIR hierarchy, inconsistent CD16/CD56 organization, missing species-specific Mamu prefix, hallucinated nested structures\nRELIABILITY: low The model produces completely different hierarchies on every run with 0% consistency, making it unreliable for reproducible gating strategy prediction.\nSUMMARY: Model understands this is an NK cell KIR panel but cannot reliably reproduce the specific Mamu-KIR3DL01/KIR3DL05 quadrant gating structure, showing high variance across runs with no two predictions matching.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1787,
      "timestamp": "2026-01-13T05:20:48.159707",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.1,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "task refusal, meta-commentary instead of prediction, treating prediction task as consultation request, no hierarchy structure attempted",
      "reliability": "low The model completely fails to attempt the task under minimal context conditions, instead requesting more information.",
      "summary": "Complete task failure - the model produced zero gating hierarchies across all 10 runs, instead outputting generic requests for panel information rather than predicting from the available context.",
      "raw_response": "Looking at these predictions, I see a fundamental problem: **none of the 10 runs produced a gating hierarchy**. Instead, the model appears to be asking clarifying questions about what information it needs to generate a hierarchy.\n\nLet me analyze what happened:\n\n**What the model was supposed to output:**\nA hierarchical gating strategy like:\n- All Events > Singlets > Live cells > Leukocytes > T cells > CD4+ T cells\n- All Events > Singlets > Live cells > Leukocytes > B cells\n- etc.\n\n**What the model actually output:**\nMeta-commentary and requests for information:\n- \"Which markers are included - determines what populations can be identified\"\n- \"The list of markers/antibodies in the panel\"\n- \"Marker/antibody list > Fluorophore/channel assignments\"\n\nThis is a **complete task failure** - the model didn't attempt the prediction task at all. It's providing generic guidance about what information would be needed rather than actually predicting the hierarchy from the \"minimal\" context condition it was given.\n\nThe consistency score of 0.00 and 10 unique gate sets out of 10 runs confirms there's no meaningful overlap between predictions - because none of them are actual predictions.\n\n---\n\nMEDIAN_QUALITY: 0 (no actual gating hierarchy predicted in any run)\nCONSISTENCY: 1 (consistently failed the same way - always asked for more info instead of predicting)\nWORST_CASE: 0 (all runs failed equally - none produced a gating hierarchy)\nBEST_CASE: 0 (even the \"best\" run just lists input requirements, not gates)\nFAILURE_MODES: task refusal, meta-commentary instead of prediction, treating prediction task as consultation request, no hierarchy structure attempted\nRELIABILITY: low The model completely fails to attempt the task under minimal context conditions, instead requesting more information.\nSUMMARY: Complete task failure - the model produced zero gating hierarchies across all 10 runs, instead outputting generic requests for panel information rather than predicting from the available context.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2659,
      "timestamp": "2026-01-13T05:21:20.877742",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.3,
      "worst_case": 0.5,
      "best_case": 0.8,
      "failure_modes": "over-specification with marker annotations, inconsistent hierarchy depth, variable subset emphasis between B/T lineages, adds non-ground-truth intermediate gates (CD45+, CD19+ as separate levels), germinal center hallucination",
      "reliability": "medium The model produces scientifically valid hierarchies but with high run-to-run variance in structure and subset selection, making it unsuitable for automated scoring without normalization.",
      "summary": "Claude Opus generates immunologically sound murine gating strategies with appropriate marker usage, but exhibits poor reproducibility across runs with variable hierarchy depth and subset emphasis, requiring human review to select the most appropriate prediction.",
      "raw_response": "Looking at this evaluation task, I need to assess how well claude-opus-cli predicts gating hierarchies for OMIP-076 (murine splenocyte immunophenotyping) across 10 independent runs.\n\n**Key Observations:**\n\n1. **Structural Consistency**: All 10 runs produce valid hierarchies starting with `All Events > Singlets > Live Cells > CD45+` - this is scientifically correct and matches the expected pattern (though ground truth uses \"Lymphocytes\" instead of \"CD45+\").\n\n2. **Gate Identification**: The model consistently identifies major populations:\n   - B cells (B220+, CD19+) with subsets (Naive, Memory, Plasma cells, GC B cells)\n   - T cells (TCR\u03b2+) with CD4/CD8 subsets\n   - Regulatory T cells and memory subsets\n\n3. **Comparison to Ground Truth**:\n   - Ground truth uses `Lymphocytes` as parent; model uses `CD45+ Leukocytes` - functionally equivalent\n   - Ground truth has simpler naming (e.g., \"B cells\"); model uses marker-annotated names (e.g., \"B220+ B cells\", \"CD19+ B cells\")\n   - Model captures expected populations: Plasma cells \u2713, Plasmablasts \u2713 (run 5), Memory B cells \u2713, Tregs \u2713, ICOS+ Treg \u2713 (runs 6,9)\n   - Model adds scientifically valid but non-ground-truth gates: Germinal Center B cells, Follicular B cells, Tfh cells\n\n4. **Inconsistencies Across Runs**:\n   - Hierarchy depth varies (some have deeper B cell nesting than others)\n   - Specific subset naming differs (e.g., \"Class-switched B cells\" vs \"Memory B cells\")\n   - Some runs emphasize B cells more, others T cells\n   - Germinal center subgating varies (Dark Zone/Light Zone in run 5, PD-L2+ in runs 5,7)\n\n5. **Scientific Validity**: All predictions are scientifically reasonable for a murine spleen panel. The model correctly uses murine markers (B220, TCR\u03b2) rather than human equivalents.\n\n**Failure Modes**:\n- Adds intermediate gates not in ground truth (CD45+ as explicit gate, CD19+ as separate level)\n- Over-specifies with marker annotations\n- Inconsistent depth and subset selection across runs\n- Missing some ground truth terminal populations in individual runs\n\nMEDIAN_QUALITY: 7 (predictions are scientifically sound and capture most key populations, but with structural differences from ground truth)\nCONSISTENCY: 3 (every run produces a unique gate set; naming, depth, and subset selection vary substantially)\nWORST_CASE: 5 (all runs are interpretable and biologically valid, but none perfectly match ground truth structure)\nBEST_CASE: 8 (runs 3,4,5 capture most expected populations with reasonable hierarchy)\nFAILURE_MODES: over-specification with marker annotations, inconsistent hierarchy depth, variable subset emphasis between B/T lineages, adds non-ground-truth intermediate gates (CD45+, CD19+ as separate levels), germinal center hallucination\nRELIABILITY: medium The model produces scientifically valid hierarchies but with high run-to-run variance in structure and subset selection, making it unsuitable for automated scoring without normalization.\nSUMMARY: Claude Opus generates immunologically sound murine gating strategies with appropriate marker usage, but exhibits poor reproducibility across runs with variable hierarchy depth and subset emphasis, requiring human review to select the most appropriate prediction.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 1.0,
      "unique_gate_sets": 1,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1104,
      "timestamp": "2026-01-13T05:21:43.390852",
      "error": null,
      "median_quality": 0.5,
      "consistency": 1.0,
      "worst_case": 0.5,
      "best_case": 0.5,
      "failure_modes": "missing viability gate (Live cells), missing CD3+ T cell parent gate, hierarchy depth underestimation",
      "reliability": "medium - The model is extremely consistent but consistently wrong in the same way, systematically omitting standard viability and lineage gates that are critical for proper flow cytometry analysis.",
      "summary": "Perfect consistency masking systematic error - the model reliably produces a plausible but incomplete hierarchy that skips essential viability discrimination and CD3+ lineage gating steps.",
      "raw_response": "## Evaluation: OMIP-008 Gating Hierarchy Predictions\n\n**Expected hierarchy:**\n```\nAll Events > Singlets > Live cells > Lymphocytes > T cells > CD4+ T cells\nAll Events > Singlets > Live cells > Lymphocytes > T cells > CD8+ T cells\n```\n\n**Predicted hierarchy (identical across all 10 runs):**\n```\nAll Events > Singlets > Lymphocytes > CD4+ T cells\nAll Events > Singlets > Lymphocytes > CD8+ T cells\n```\n\n### Analysis\n\nThe model shows perfect consistency but systematically omits two intermediate gates:\n\n1. **Missing \"Live cells\" gate** - A critical gate for excluding dead cells (typically via viability dye like Zombie NIR)\n2. **Missing \"T cells\" (CD3+) gate** - The canonical parent gate before CD4/CD8 subdivision\n\nThe predicted hierarchy jumps directly from Lymphocytes to CD4+/CD8+ T cells, which is technically incorrect because:\n- CD4 and CD8 are also expressed on other cell types (some monocytes, some NK cells)\n- Standard gating practice requires CD3+ gating before CD4/CD8 subdivision\n- The live/dead discrimination step is essential for accurate functional analysis\n\nThe model captures the correct terminal populations and overall tree structure (symmetric branching to CD4+ and CD8+), but the missing intermediate gates represent a significant biological and technical error.\n\n---\n\nMEDIAN_QUALITY: 5 (captures terminal populations correctly but omits 2 critical intermediate gates - Live cells and T cells/CD3+)\n\nCONSISTENCY: 10 (identical predictions across all 10 runs, no variance whatsoever)\n\nWORST_CASE: 5 (all runs are identical, so worst equals median)\n\nBEST_CASE: 5 (all runs are identical, so best equals median)\n\nFAILURE_MODES: missing viability gate (Live cells), missing CD3+ T cell parent gate, hierarchy depth underestimation\n\nRELIABILITY: medium - The model is extremely consistent but consistently wrong in the same way, systematically omitting standard viability and lineage gates that are critical for proper flow cytometry analysis.\n\nSUMMARY: Perfect consistency masking systematic error - the model reliably produces a plausible but incomplete hierarchy that skips essential viability discrimination and CD3+ lineage gating steps.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2442,
      "timestamp": "2026-01-13T05:22:12.723126",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.4,
      "worst_case": 0.6,
      "best_case": 0.8,
      "failure_modes": "missing plasma cells, missing marginal zone B cells, inconsistent intermediate gating structure, variable naming conventions (CD45+ Leukocytes vs Leukocytes)",
      "reliability": "medium - Model reliably identifies major leukocyte populations but shows high structural variability and consistently misses rare populations like plasma cells",
      "summary": "Claude Opus demonstrates strong domain knowledge for pan-leukocyte panels with accurate major population identification, but exhibits significant run-to-run structural variability and systematically misses rare/specialized subsets present in the ground truth.",
      "raw_response": "Looking at the 10 predictions from claude-opus-cli on OMIP-077, I'll analyze against the ground truth hierarchy.\n\n**Key Observations:**\n\n1. **Core populations consistently identified**: All runs correctly identify the major lineages (T cells, B cells, NK cells, monocytes, DCs) that are in the ground truth.\n\n2. **Structural variations**: The model uses different gating strategies across runs:\n   - Runs 1, 5, 7: Lymphocytes as intermediate gate\n   - Runs 2, 4, 10: CD3+ vs CD3- primary split\n   - Runs 3, 8, 9: CD3- CD19- Non-T Non-B intermediate\n   - Run 6: Lineage- HLA-DR+ for myeloid gating\n\n3. **Ground truth alignment issues**:\n   - Ground truth uses \"Leukocytes\" directly, model uses \"CD45+ Leukocytes\" (minor naming difference)\n   - Ground truth has simpler structure (T cells directly under Leukocytes), model adds intermediate gates (Lymphocytes, CD3+, etc.)\n   - NK-T cells: Present in ground truth, captured in runs 2, 4, 10 as \"CD56+ NKT Cells\"\n   - Marginal Zone B cells: Ground truth includes this, but predictions miss this specific subset\n   - Plasma cells: Ground truth has this, predictions don't include\n\n4. **NK subsets**: Model consistently provides CD56bright/CD56dim (not in shown ground truth), which is appropriate given panel markers\n\n5. **Monocyte subsets**: All 3 monocyte subsets (classical, intermediate, non-classical) consistently identified, matching ground truth\n\n6. **DC populations**: CD1c+ mDCs present in ground truth and most predictions; CD141+ also predicted\n\n7. **Missing populations from ground truth**: Plasma cells, Marginal Zone B cells not predicted in any run\n\nMEDIAN_QUALITY: 7 (captures most major populations with appropriate gating logic, but misses some specific subsets like plasma cells and marginal zone B cells)\nCONSISTENCY: 4 (10 unique gate sets shows high structural variability; however, terminal populations are relatively consistent)\nWORST_CASE: 6 (Run 6 uses unusual Lineage- HLA-DR+ gating first, potentially missing lymphocyte populations in shown paths)\nBEST_CASE: 8 (Runs 2, 4, 10 capture NKT cells and have comprehensive coverage with logical gating)\nFAILURE_MODES: missing plasma cells, missing marginal zone B cells, inconsistent intermediate gating structure, variable naming conventions (CD45+ Leukocytes vs Leukocytes)\nRELIABILITY: medium - Model reliably identifies major leukocyte populations but shows high structural variability and consistently misses rare populations like plasma cells\nSUMMARY: Claude Opus demonstrates strong domain knowledge for pan-leukocyte panels with accurate major population identification, but exhibits significant run-to-run structural variability and systematically misses rare/specialized subsets present in the ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.5555555555555556,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1208,
      "timestamp": "2026-01-13T05:22:39.366495",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.4,
      "worst_case": 0.4,
      "best_case": 0.9,
      "failure_modes": "omits viability gate (70%), omits FoxP3- complementary population (40%), inconsistent gate naming",
      "reliability": "medium The model understands the core Treg gating concept but unreliably includes critical gates like viability and complementary populations across runs.",
      "summary": "Model demonstrates correct conceptual understanding of Treg identification but exhibits concerning run-to-run variability in including standard cytometry gates (Live cells) and complementary population branches.",
      "raw_response": "Looking at the 10 predictions against the ground truth, I'll evaluate systematically.\n\n**Ground Truth Structure:**\n- All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3+ Treg\n- All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3- non-Treg\n\n**Analysis of Predictions:**\n\n**Runs 2, 3:** Perfect structure match - includes Live Cells gate and both FoxP3+ and FoxP3- branches. These are the best predictions.\n\n**Runs 1, 7, 8, 10:** Missing the \"Live Cells\" gate but correctly include both FoxP3+ and FoxP3- branches. Structure is 5/6 gates correct.\n\n**Runs 4, 5, 6:** Missing \"Live Cells\" gate AND missing the FoxP3- branch entirely. Only predict Tregs, not the complementary non-Treg population. Run 9 has Live Cells but still misses FoxP3- branch.\n\n**Key Issues Identified:**\n1. **Live cells gate omission** (7/10 runs) - Critical viability gate missing in majority of predictions\n2. **FoxP3- branch omission** (4/10 runs) - Model only predicts positive population, missing the complementary negative gate\n3. **Naming variations** - Minor (Tregs vs Regulatory T cells vs CD4+ FoxP3+ Tregs)\n\n**Scoring Breakdown:**\n- Best runs (2, 3): Complete hierarchy, both branches = 9/10\n- Good runs (1, 7, 8, 10): Missing Live gate but correct branching = 7/10\n- Poor runs (4, 5, 6, 9): Missing Live gate AND/or missing FoxP3- branch = 4-5/10\n\n---\n\nMEDIAN_QUALITY: 6 (typical run misses Live cells gate but gets branching structure partially correct)\nCONSISTENCY: 4 (significant variation between runs - some include Live cells, some don't; some include both branches, some don't)\nWORST_CASE: 4 (runs 4, 5, 6 miss both Live cells gate and FoxP3- branch - incomplete hierarchy)\nBEST_CASE: 9 (runs 2, 3 correctly include Live cells and both FoxP3+/FoxP3- branches)\nFAILURE_MODES: omits viability gate (70%), omits FoxP3- complementary population (40%), inconsistent gate naming\nRELIABILITY: medium The model understands the core Treg gating concept but unreliably includes critical gates like viability and complementary populations across runs.\nSUMMARY: Model demonstrates correct conceptual understanding of Treg identification but exhibits concerning run-to-run variability in including standard cytometry gates (Live cells) and complementary population branches.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2783,
      "timestamp": "2026-01-13T05:23:09.806451",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.7,
      "worst_case": 0.6,
      "best_case": 0.8,
      "failure_modes": "missing Time Gate, inconsistent inclusion of CD14-/CD19- dump gates, variable cytokine nesting depth (under T subset vs under memory subset)",
      "reliability": "medium - The model reliably captures the core T-cell phenotyping workflow and produces biologically sensible hierarchies, but structural variations across runs mean you cannot expect identical output each time.",
      "summary": "Claude Opus 4 demonstrates strong domain knowledge of T-cell immunophenotyping with consistent capture of memory subsets and cytokine markers, but exhibits moderate structural variability in exclusion gate inclusion and cytokine nesting that would require post-processing standardization for production use.",
      "raw_response": "## Evaluation of Claude Opus 4 on OMIP-022 Gating Hierarchy Prediction\n\n### Comparison with Ground Truth\n\n**Expected structure:**\n- All Events > Time Gate > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ > Memory Subsets / Functional Analysis\n\n**Predicted structure (typical):**\n- All Events > Singlets > Live Cells > Lymphocytes > [optional: CD14- > CD19-] > CD3+ T Cells > CD4+/CD8+ > Memory subsets + Cytokine gates\n\n### Key Observations\n\n1. **Missing Time Gate**: None of the 10 runs included the Time Gate that appears in the ground truth hierarchy. This is a consistent omission.\n\n2. **Two structural variants observed**:\n   - **Variant A (Runs 2, 3, 8)**: Direct path from Lymphocytes to CD3+ T Cells (simpler, 21 gates)\n   - **Variant B (Runs 1, 4, 5, 6, 7, 9, 10)**: Includes CD14- and CD19- exclusion gates before CD3+ (more detailed, 19-44 gates)\n\n3. **Core hierarchy correct**: All runs correctly identify the fundamental flow: All Events > Singlets > Live Cells > Lymphocytes > T cells (CD3+) > CD4+/CD8+ subsets\n\n4. **Memory subsets well-captured**: Naive, Central Memory, Effector Memory, TEMRA consistently identified for both CD4+ and CD8+ populations\n\n5. **Functional analysis expanded**: The model goes beyond the generic \"Functional Analysis\" label in ground truth to specify individual cytokines (IFN-\u03b3, IL-2, TNF, IL-17A, IL-22) - this is actually more detailed than the reference\n\n6. **Structural variation in cytokine gating**: Some runs place cytokine gates directly under CD4+/CD8+, while others nest them within memory subsets (e.g., CD4+ Naive > IFN-\u03b3+). The latter is more experimentally accurate for polyfunctionality analysis.\n\n---\n\nMEDIAN_QUALITY: 7 (captures core T-cell hierarchy and memory/functional subsets correctly, but misses Time Gate and uses slightly different organizational structure)\n\nCONSISTENCY: 7 (3 unique gate sets across 10 runs with 0.78 consistency score; main variation is CD14-/CD19- exclusion gates and cytokine nesting depth)\n\nWORST_CASE: 6 (simpler variants missing exclusion gates still capture essential biology but less rigorous gating practice)\n\nBEST_CASE: 8 (runs with CD14-/CD19- exclusion and cytokine-per-memory-subset structure provide more detailed and experimentally accurate hierarchies than ground truth)\n\nFAILURE_MODES: missing Time Gate, inconsistent inclusion of CD14-/CD19- dump gates, variable cytokine nesting depth (under T subset vs under memory subset)\n\nRELIABILITY: medium - The model reliably captures the core T-cell phenotyping workflow and produces biologically sensible hierarchies, but structural variations across runs mean you cannot expect identical output each time.\n\nSUMMARY: Claude Opus 4 demonstrates strong domain knowledge of T-cell immunophenotyping with consistent capture of memory subsets and cytokine markers, but exhibits moderate structural variability in exclusion gate inclusion and cytokine nesting that would require post-processing standardization for production use.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2584,
      "timestamp": "2026-01-13T05:23:37.150650",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.8,
      "worst_case": 0.6,
      "best_case": 0.7,
      "failure_modes": "missing Time gate, missing Non-beads gate, missing Non-aggregates gate, adds Live Cells gate not in reference, minor naming variations (mDCs vs Dendritic Cells)",
      "reliability": "medium The model reliably produces biologically sensible hierarchies with correct terminal populations, but systematically omits preprocessing QC gates present in the OMIP-101 ground truth.",
      "summary": "Claude Opus produces consistent, biologically valid gating hierarchies capturing all major leukocyte populations, but systematically omits early QC gates (Time, Non-beads, Non-aggregates) that are standard in whole blood flow cytometry protocols.",
      "raw_response": "Looking at the 10 runs, I need to compare the model's predictions against the expected OMIP-101 hierarchy.\n\n**Key Observations:**\n\n1. **Structural Differences from Ground Truth:**\n   - Ground truth has: All Events > Time gate > Singlets > Non-beads > Leukocytes > Non-aggregates > Non-granulocytes > ...\n   - Model predicts: All Events > Singlets > Live Cells > CD45+ Leukocytes > ...\n   - Missing gates: Time gate, Non-beads, Non-aggregates\n   - Added gates: Live Cells (viability marker-based)\n\n2. **Core Population Coverage:**\n   - Classical/Intermediate/Non-classical monocytes: \u2713 Present in all runs\n   - Dendritic cells: \u2713 Present in all runs\n   - B cells (Naive, Memory): \u2713 Present\n   - NK cells: \u2713 Present\n   - T cells (CD4/CD8): \u2713 Present\n   - Granulocytes: \u2713 Present\n\n3. **Consistency Analysis:**\n   - Runs 1-8, 10 are nearly identical in structure\n   - Run 9 differs: uses more explicit marker notation (CD16-, CD16+, IgD+ CD27-)\n   - Despite \"10 unique gate sets,\" the structural logic is highly conserved\n\n4. **Quality Assessment:**\n   - The model produces biologically sensible hierarchies\n   - It captures the major populations correctly\n   - The intermediate gating steps differ from ground truth (missing Time gate, Non-beads, Non-aggregates)\n   - The model adds a reasonable \"Live Cells\" gate not in ground truth\n   - Depth is comparable to ground truth\n\n5. **Failure Modes:**\n   - Omits QC gates (Time, Non-beads, Non-aggregates) - these are preprocessing gates\n   - Adds viability gate not specified in ground truth\n   - Naming conventions vary slightly (mDCs vs \"Dendritic Cells\")\n\nMEDIAN_QUALITY: 7 (captures all major populations correctly, reasonable hierarchy, but misses some QC gates from ground truth)\nCONSISTENCY: 8 (9/10 runs structurally identical, Run 9 uses more explicit marker notation but same logic)\nWORST_CASE: 6 (Run 9 has slightly different branching structure but still biologically valid)\nBEST_CASE: 7 (all runs are comparably good, none perfectly match ground truth QC gates)\nFAILURE_MODES: missing Time gate, missing Non-beads gate, missing Non-aggregates gate, adds Live Cells gate not in reference, minor naming variations (mDCs vs Dendritic Cells)\nRELIABILITY: medium The model reliably produces biologically sensible hierarchies with correct terminal populations, but systematically omits preprocessing QC gates present in the OMIP-101 ground truth.\nSUMMARY: Claude Opus produces consistent, biologically valid gating hierarchies capturing all major leukocyte populations, but systematically omits early QC gates (Time, Non-beads, Non-aggregates) that are standard in whole blood flow cytometry protocols.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2647,
      "timestamp": "2026-01-13T05:24:04.862430",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing Time gate, missing RM/AM/TLM memory subtypes, hallucinated Kappa/Lambda gates, inconsistent hierarchy depth, variable Lymphocytes gate placement",
      "reliability": "low The model demonstrates substantial run-to-run variability in structural organization and consistently fails to capture the specific memory B cell classifications (RM, AM, TLM) that define this OMIP.",
      "summary": "Claude Opus understands the general B cell subclass phenotyping concept but shows high structural variability across runs and systematically misses the specific memory subset classifications (Resting/Activated/Tissue-like Memory) central to OMIP-074's purpose while hallucinating light chain gates not present in ground truth.",
      "raw_response": "Looking at the predictions across all 10 runs compared to the expected OMIP-074 hierarchy (B cell IgG/IgA subclass phenotyping), I'll evaluate systematically.\n\n**Key Observations:**\n\n1. **Missing Critical Gates:** All runs miss \"Time gate\" which is present in ground truth. All runs also miss the specific memory subpopulations: \"Resting Memory (RM)\", \"Activated Memory (AM)\", \"Tissue-like Memory (TLM)\" which are core to this OMIP's biological purpose.\n\n2. **Structural Variations:** The model shows significant inconsistency in early hierarchy:\n   - Runs 1, 6: Skip \"Lymphocytes\" gate entirely\n   - Runs 4, 7, 8: Add extra gates (CD19+ B Cells, CD20+ Mature B Cells, CD21+ B Cells, Dump Negative)\n   - Run 7 is notably more elaborate with Dump Negative channel\n\n3. **IgG/IgA Subclass Handling:** The model correctly identifies IgG1+, IgG2+, IgG3+, IgG4+ and IgA1+, IgA2+ subclasses in most runs, which aligns with ground truth. However, IgE+ is sometimes missing.\n\n4. **Novel Gates (Hallucinations):** \n   - Kappa+/Lambda+ light chain discrimination appears in most runs but is NOT in ground truth\n   - \"Unswitched Memory\" vs ground truth's simpler nomenclature\n   - CD20+, CD21+ intermediate gates not in ground truth\n\n5. **Consistent Elements:** All runs correctly identify the general B cell \u2192 IgG subclass structure. Class-switched B cells concept is preserved.\n\nMEDIAN_QUALITY: 5 (captures B cell subclass concept but misses OMIP-specific memory classifications and adds hallucinated kappa/lambda gates)\nCONSISTENCY: 3 (10 unique gate sets, significant structural variation in hierarchy depth and gate naming)\nWORST_CASE: 4 (Run 1 and 6 missing Lymphocytes gate, simplified structures)\nBEST_CASE: 6 (Runs 4, 7, 8 show deeper biological reasoning but over-elaborate and still miss RM/AM/TLM)\nFAILURE_MODES: missing Time gate, missing RM/AM/TLM memory subtypes, hallucinated Kappa/Lambda gates, inconsistent hierarchy depth, variable Lymphocytes gate placement\nRELIABILITY: low The model demonstrates substantial run-to-run variability in structural organization and consistently fails to capture the specific memory B cell classifications (RM, AM, TLM) that define this OMIP.\nSUMMARY: Claude Opus understands the general B cell subclass phenotyping concept but shows high structural variability across runs and systematically misses the specific memory subset classifications (Resting/Activated/Tissue-like Memory) central to OMIP-074's purpose while hallucinating light chain gates not present in ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2688,
      "timestamp": "2026-01-13T05:24:33.920232",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.4,
      "worst_case": 0.6,
      "best_case": 0.8,
      "failure_modes": "inconsistent Tscm/stem-cell-memory capture, variable Treg/Tfh inclusion, naming convention drift, over-hallucination of Th subsets not specified in ground truth",
      "reliability": "medium The model reliably produces the correct hierarchical structure and core T-cell memory differentiation scheme, but specific population naming and inclusion of regulatory/specialized subsets varies unpredictably across runs.",
      "summary": "Claude Opus produces biologically sound gating hierarchies with correct core structure but exhibits significant run-to-run variation in nomenclature and inclusion of specialized populations, making it unsuitable for automated comparison without robust normalization.",
      "raw_response": "Looking at the predictions across 10 runs against the ground truth for OMIP-087 (a CyTOF panel for CD4/CD8 memory subsets):\n\n**Key Observations:**\n\n1. **Structural consistency**: All 10 runs produce a similar hierarchical structure (All Events \u2192 Singlets \u2192 Lymphocytes \u2192 CD45+ \u2192 CD3+ \u2192 TCRgd-/+ split \u2192 CD4+/CD8+ \u2192 memory subsets). This is actually more detailed than the ground truth which lacks singlets/lymphocyte gates.\n\n2. **Core gates captured**: Every run correctly identifies CD4+ T cells, CD8+ T cells, and memory subset differentiation (Naive, Central Memory, Effector Memory, TEMRA/Terminal Effector).\n\n3. **Ground truth comparison issues**: The ground truth shows a simplified hierarchy (All Events > Leukocytes > T cells > CD4+ > subsets) while predictions add biologically appropriate intermediate gates (Singlets, Lymphocytes, TCRgd separation). This isn't wrong\u2014it's more complete gating.\n\n4. **Missing populations**: Stem cell memory (Tscm) appears inconsistently (Run 3 has it, most don't). Tregs and Tfh are variably captured. Ground truth specifies these but predictions often substitute Th1/Th2/Th17 functional subsets instead.\n\n5. **Naming variation**: Same populations named differently across runs (\"Naive CD4\" vs \"CD4+ Naive (Tn)\" vs \"Naive CD4 (CD45RA+CCR7+)\"). Semantically equivalent but textually different.\n\n6. **Over-elaboration**: Many runs add Th1/Th2/Th17/Th22 functional subsets not in ground truth, and further subdivisions like \"Recent Thymic Emigrants.\"\n\nMEDIAN_QUALITY: 7 (captures core hierarchy and most populations, adds biologically reasonable detail beyond ground truth, but misses some specific ground truth populations like Tscm consistently)\nCONSISTENCY: 4 (same overall structure but significant variation in leaf nodes, naming conventions, and which functional subsets are included)\nWORST_CASE: 6 (Run 8 with only 17 additional paths is more sparse, missing several expected populations)\nBEST_CASE: 8 (Run 6/7 with 27-30 paths captures most expected populations plus reasonable extensions)\nFAILURE_MODES: inconsistent Tscm/stem-cell-memory capture, variable Treg/Tfh inclusion, naming convention drift, over-hallucination of Th subsets not specified in ground truth\nRELIABILITY: medium The model reliably produces the correct hierarchical structure and core T-cell memory differentiation scheme, but specific population naming and inclusion of regulatory/specialized subsets varies unpredictably across runs.\nSUMMARY: Claude Opus produces biologically sound gating hierarchies with correct core structure but exhibits significant run-to-run variation in nomenclature and inclusion of specialized populations, making it unsuitable for automated comparison without robust normalization.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2462,
      "timestamp": "2026-01-13T05:25:01.164933",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.3,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "structural inconsistency across runs, variable MAIT placement (under CD4/CD8 vs TCRab), missing explicit ILC gates, over-elaboration beyond expected hierarchy, inconsistent NK gating path",
      "reliability": "low The model produces scientifically reasonable predictions but with no reproducibility - each run gives a completely different organizational structure.",
      "summary": "Model demonstrates strong domain knowledge of this complex panel's target populations but produces highly variable hierarchical structures, making it unreliable for automated scoring against a fixed ground truth.",
      "raw_response": "Looking at these 10 predictions for OMIP-064 (a 27-color NK/ILC/MAIT/\u03b3\u03b4 T cell panel), I'll evaluate the model's performance against the ground truth.\n\n**Key Observations:**\n\n1. **Core populations consistently identified**: All 10 runs correctly identify MAIT cells, \u03b3\u03b4 T cells (with Vd2+/Vd2- subsets), and NK cells - the main targets of OMIP-064.\n\n2. **Structural variations**: The model produces different hierarchical organizations:\n   - Some place MAIT under CD4+/CD8+ T cell subsets (Runs 1, 5, 6, 9)\n   - Others correctly place MAIT under TCR\u03b1\u03b2+ (Runs 3, 7, 8, 10)\n   - NK cell gating path varies (some use Lin- exclusion, others CD3- CD19-)\n\n3. **Hallucinations**: The model adds populations not in the expected hierarchy (B cells, monocytes, detailed NK subsets like NKG2C+ adaptive NK) - but these are actually appropriate for this comprehensive 27-color panel.\n\n4. **ILC handling**: The ground truth expects \"Innate Lymphoid Cells > Other ILC subsets\" but most runs don't explicitly gate ILCs beyond NK cells. Run 2 and 4 have the most detailed NK/ILC-like hierarchies.\n\n5. **Ground truth appears incomplete**: OMIP-064 is a 27-color panel, yet the expected hierarchy only shows 4 terminal gates. The model's predictions are actually more comprehensive and scientifically appropriate.\n\n**Critical Issues:**\n- No run matches the exact expected hierarchy structure\n- \"Activated NK cells\" specifically is missing from predictions\n- ILC subsets (non-NK) are largely absent\n- But the model provides reasonable, panel-appropriate alternatives\n\nMEDIAN_QUALITY: 6 (predictions are scientifically reasonable but don't match the simplified ground truth structure)\nCONSISTENCY: 3 (every run produces a different hierarchy organization; zero runs are identical)\nWORST_CASE: 5 (Run 7's \"Non-Monocytes > Non-B Cells\" gating is unconventional but still captures key populations)\nBEST_CASE: 7 (Runs 2, 3, 4 have detailed, logically structured hierarchies appropriate for this complex panel)\nFAILURE_MODES: structural inconsistency across runs, variable MAIT placement (under CD4/CD8 vs TCRab), missing explicit ILC gates, over-elaboration beyond expected hierarchy, inconsistent NK gating path\nRELIABILITY: low The model produces scientifically reasonable predictions but with no reproducibility - each run gives a completely different organizational structure.\nSUMMARY: Model demonstrates strong domain knowledge of this complex panel's target populations but produces highly variable hierarchical structures, making it unreliable for automated scoring against a fixed ground truth.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.11111111111111116,
      "unique_gate_sets": 9,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2349,
      "timestamp": "2026-01-13T05:25:30.157294",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.3,
      "worst_case": 0.5,
      "best_case": 0.8,
      "failure_modes": "inconsistent early gate structure, variable dump channel handling, gate order reversal (run 3), lymphocyte gate omission (run 6), over-specification of memory subsets",
      "reliability": "low The model understands flow cytometry gating concepts but produces structurally variable outputs across runs, making it unreliable for automated pipelines requiring reproducible hierarchies.",
      "summary": "Claude Opus correctly identifies the biological populations and gating logic but exhibits poor run-to-run consistency in early gate structure and dump channel handling, limiting its reliability for standardized benchmark evaluation.",
      "raw_response": "Looking at the 10 runs, I need to compare the predictions against the expected hierarchy and assess consistency.\n\n**Ground Truth Structure:**\n- All Events > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ > Memory/Functional subsets\n- All Events > Singlets > Live cells > Lymphocytes > NK cells > NK Functional subsets\n\n**Key Observations Across Runs:**\n\n1. **Core structure mostly correct**: All runs capture Singlets > Live Cells > Lymphocytes > T cells > CD4+/CD8+ branching. Most runs correctly identify memory subsets (Naive, CM, EM, TEMRA) and Tfh cells.\n\n2. **Structural inconsistencies across runs:**\n   - Runs 2, 10: Add \"CD14- CD19-\" dump gate\n   - Run 3: Reverses \"Lymphocytes > Live cells\" (biologically incorrect order)\n   - Run 6: Skips Lymphocytes gate entirely\n   - Run 8: Adds \"Dump Negative\" gate\n\n3. **Naming variations**: Minor but consistent (e.g., \"CD3+ T Cells\" vs ground truth \"T cells\", \"Naive CD4\" vs \"CD4+ Memory subsets\")\n\n4. **Depth differences**: Model goes deeper than ground truth (individual memory subsets vs grouped \"Memory subsets\"), which is scientifically valid but doesn't match the expected granularity.\n\n5. **Critical gates present**: Singlets, Live cells, Lymphocytes (mostly), CD3+, CD4+/CD8+, Tfh, NK subsets all appear across runs.\n\n6. **Missing from ground truth comparison**: The predictions generally capture the biological intent but with different nomenclature and granularity.\n\n7. **Run 3 is the worst**: Incorrect gate ordering (Lymphocytes before Live cells) is a fundamental flow cytometry error.\n\n8. **Run 6 missing Lymphocytes gate**: Structural gap.\n\nMEDIAN_QUALITY: 7 (predictions are biologically reasonable and capture key populations, but granularity and naming differ from ground truth)\nCONSISTENCY: 3 (9 unique gate sets out of 10 runs; structural variations in early gates)\nWORST_CASE: 5 (Run 3 has reversed gate order which is scientifically incorrect)\nBEST_CASE: 8 (Runs 1, 4, 5, 9 have correct structure with appropriate depth)\nFAILURE_MODES: inconsistent early gate structure, variable dump channel handling, gate order reversal (run 3), lymphocyte gate omission (run 6), over-specification of memory subsets\nRELIABILITY: low The model understands flow cytometry gating concepts but produces structurally variable outputs across runs, making it unreliable for automated pipelines requiring reproducible hierarchies.\nSUMMARY: Claude Opus correctly identifies the biological populations and gating logic but exhibits poor run-to-run consistency in early gate structure and dump channel handling, limiting its reliability for standardized benchmark evaluation.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2533,
      "timestamp": "2026-01-13T05:25:57.390400",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing SLAN+/SLAN- nonclassical distinction, hallucinated CCR2/CX3CR1/CD64 functional subgates, inconsistent upstream gating (Time/Platelet-free/Lin-), over-specified hierarchies",
      "reliability": "low The model shows high structural variability across runs and consistently misses the SLAN marker distinction that defines the ground truth nonclassical monocyte subsets.",
      "summary": "Claude Opus identifies major monocyte populations but fails to reproduce the specific SLAN-based nonclassical subdivision, instead hallucinating functional marker subgates and showing poor run-to-run consistency in hierarchy structure.",
      "raw_response": "Looking at the 10 predictions against the ground truth for OMIP-083 monocyte gating hierarchy, I'll evaluate the model's performance.\n\n**Ground Truth Focus:** The expected hierarchy specifically defines monocyte subpopulations:\n- Classical Monocytes\n- Intermediate Monocytes  \n- SLAN+ Nonclassical Monocytes\n- SLAN- Nonclassical Monocytes\n\nAll under: All Events > Cleaned Events > Leukocytes > Non-granulocytes > Monocytes\n\n**Analysis of Predictions:**\n\n1. **Monocyte identification:** All 10 runs correctly identify Classical Monocytes and most identify Intermediate Monocytes. However, **none** correctly identify the SLAN+/SLAN- Nonclassical distinction - instead predicting \"Nonclassical Monocytes\" as a single population or missing the SLAN marker entirely.\n\n2. **Structural variation:** The upstream gating varies significantly:\n   - Runs 2,8,10 add Time Gate\n   - Runs 2,5,7,9,10 add CD42b-/Platelet-free gate\n   - Run 7,8 add Lin- gates explicitly\n   - The expected \"Cleaned Events\" gate is never used\n\n3. **Hallucinations:** Several runs add gates not in expected hierarchy:\n   - CCR2+ subsets (Runs 2-10)\n   - CX3CR1+ subsets (Run 8)\n   - CD64hi subsets (Runs 7,8)\n   - PD-1+ subsets on monocytes\n\n4. **Missing critical gates:** SLAN marker splitting is absent in all runs.\n\n5. **Hierarchy depth:** Predictions are consistently deeper than ground truth, adding functional markers as terminal gates.\n\nMEDIAN_QUALITY: 5 (correctly identifies major monocyte subsets but misses SLAN distinction and adds hallucinated functional subsets)\nCONSISTENCY: 3 (10 unique gate sets; upstream gating varies considerably; monocyte terminal gates vary by run)\nWORST_CASE: 4 (Run 1 has minimal monocyte detail, completely missing intermediate/nonclassical)\nBEST_CASE: 6 (Runs 7,8 have detailed monocyte hierarchies matching Classical/Intermediate/Nonclassical structure, just missing SLAN split)\nFAILURE_MODES: missing SLAN+/SLAN- nonclassical distinction, hallucinated CCR2/CX3CR1/CD64 functional subgates, inconsistent upstream gating (Time/Platelet-free/Lin-), over-specified hierarchies\nRELIABILITY: low The model shows high structural variability across runs and consistently misses the SLAN marker distinction that defines the ground truth nonclassical monocyte subsets.\nSUMMARY: Claude Opus identifies major monocyte populations but fails to reproduce the specific SLAN-based nonclassical subdivision, instead hallucinating functional marker subgates and showing poor run-to-run consistency in hierarchy structure.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.33333333333333337,
      "unique_gate_sets": 7,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2086,
      "timestamp": "2026-01-13T05:26:24.606950",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.5,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "missing Live cells gate, wrong primary NK subdivision axis (CD56 vs KIR), inverted singlets/lymphocytes order, missing Mamu- species prefix, conflating CD16/CD56 quadrants into dim/bright dichotomy",
      "reliability": "low The model consistently imposes a conventional human NK paradigm (CD56bright/dim) rather than following the macaque KIR-centric hierarchy specified in OMIP-035",
      "summary": "Model demonstrates domain knowledge of NK cell biology but fails to infer the specific KIR-first gating logic of this macaque panel, instead defaulting to human NK conventions.",
      "raw_response": "Looking at the 10 predictions against the ground truth for OMIP-035 (macaque NK cell functional analysis):\n\n**Key observations:**\n\n1. **Missing critical gate**: None of the runs include \"Live cells\" between Singlets and Lymphocytes - a fundamental viability gate present in ground truth\n\n2. **Hierarchy order errors**: Runs 1 and 9 have \"Lymphocytes > Singlets\" (inverted order) instead of \"Singlets > Lymphocytes\"\n\n3. **Different NK subset strategy**: Ground truth uses KIR3DL01+/- as primary subdivision of NK cells, then KIR3DL05+/- as secondary. Model consistently uses CD56bright/CD56dim as primary subdivision with KIR receptors as terminal gates\n\n4. **Missing Mamu-KIR nomenclature**: Ground truth specifies \"Mamu-KIR3DL01\" (macaque-specific), model uses generic \"KIR3DL01\" \n\n5. **CD16/CD56 combination gates missing**: Ground truth has explicit \"CD16+ CD56+\", \"CD16+ CD56-\", \"CD16- CD56+\" populations as parallel branches. Model conflates these into a different dimensional structure (CD56bright vs CD56dim)\n\n6. **Inconsistent intermediate naming**: Run 8 uses \"CD56+ cells\" instead of \"NK cells\" as parent gate\n\n7. **Good aspects**: Model correctly identifies NK cells as target population, recognizes importance of both KIR receptors and CD56/CD16 markers, maintains reasonable tree depth\n\nMEDIAN_QUALITY: 4 (correctly identifies key markers but imposes wrong hierarchical structure and misses viability gate)\nCONSISTENCY: 5 (core structure similar across runs but naming variants and occasional order inversions)\nWORST_CASE: 3 (runs 1 and 9 with inverted Lymphocytes/Singlets order)\nBEST_CASE: 5 (runs with correct singlets-first order and reasonable NK subdivisions)\nFAILURE_MODES: missing Live cells gate, wrong primary NK subdivision axis (CD56 vs KIR), inverted singlets/lymphocytes order, missing Mamu- species prefix, conflating CD16/CD56 quadrants into dim/bright dichotomy\nRELIABILITY: low The model consistently imposes a conventional human NK paradigm (CD56bright/dim) rather than following the macaque KIR-centric hierarchy specified in OMIP-035\nSUMMARY: Model demonstrates domain knowledge of NK cell biology but fails to infer the specific KIR-first gating logic of this macaque panel, instead defaulting to human NK conventions.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1884,
      "timestamp": "2026-01-13T05:26:47.853773",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.1,
      "worst_case": 0.0,
      "best_case": 0.1,
      "failure_modes": "task misunderstanding, meta-commentary instead of output, missing all cell populations, truncated/incomplete responses, no hierarchical structure",
      "reliability": "low The model fundamentally misunderstands the task, generating instructional text about panel requirements rather than actual gating hierarchies.",
      "summary": "Complete task failure - the model outputs meta-descriptions of what information is needed rather than producing actual cell population gating hierarchies, scoring 0% on all meaningful metrics.",
      "raw_response": "Looking at these 10 predictions, I can see a fundamental failure pattern: the model is not generating gating hierarchies at all. Instead, it's outputting meta-commentary about what information would be needed to construct a gating strategy, or describing what a panel contains in abstract terms.\n\n**Analysis of the predictions:**\n\n- **Run 1**: Only outputs \"All Events > Singlets > Live cells\" - a stub hierarchy that stops at the very first branch point\n- **Runs 2-10**: All output conceptual/instructional text about panel components (e.g., \"The markers present in the panel - which define what populations can be identified\") rather than actual cell population hierarchies\n\nNone of the 10 runs produce anything resembling the expected hierarchy structure with actual cell populations (T cells, B cells, NK cells, Monocytes, Dendritic cells, etc.). The model appears to be confused about the task - it's describing what inputs are needed rather than producing the output.\n\n**Expected**: Hierarchical paths like `All Events > Singlets > Live cells > Leukocytes > T cells > CD4+ T cells`\n\n**Received**: Meta-descriptions like \"Marker list - The antibodies/fluorophores in the panel > Technology - Flow cytometry vs mass cytometry\"\n\nMEDIAN_QUALITY: 0 (predictions are not gating hierarchies at all - complete task failure)\nCONSISTENCY: 1 (consistently wrong in the same way - meta-commentary instead of hierarchies)\nWORST_CASE: 0 (all runs fail to produce valid gating hierarchies)\nBEST_CASE: 1 (Run 1 at least starts with correct QC gates before stopping)\nFAILURE_MODES: task misunderstanding, meta-commentary instead of output, missing all cell populations, truncated/incomplete responses, no hierarchical structure\nRELIABILITY: low The model fundamentally misunderstands the task, generating instructional text about panel requirements rather than actual gating hierarchies.\nSUMMARY: Complete task failure - the model outputs meta-descriptions of what information is needed rather than producing actual cell population gating hierarchies, scoring 0% on all meaningful metrics.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2589,
      "timestamp": "2026-01-13T05:27:18.173479",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.2,
      "worst_case": 0.3,
      "best_case": 0.6,
      "failure_modes": "inconsistent CD45+/Lymphocytes ordering, spurious CD4+ T cell intermediate gate, missing Plasmablasts/Activated B cells, ICOS+ Tfh vs ICOS+ Treg confusion, variable B cell nomenclature",
      "reliability": "low The model produces structurally different hierarchies on every run with no convergence, making individual predictions unreliable for this task.",
      "summary": "Claude Opus identifies core lineages and memory T cell subsets but exhibits zero cross-run consistency, inverts or misplaces CD45+/Lymphocytes gates, and systematically adds an incorrect CD4+ T cell intermediate while missing ground truth B cell populations.",
      "raw_response": "Looking at the 10 runs, I need to compare predictions against the ground truth hierarchy.\n\n**Ground Truth Structure:**\n- All Events > Singlets > Live cells > Lymphocytes > B cells/T cells (with subpopulations)\n- Key populations: Plasma cells, Plasmablasts, Activated B cells, Memory B cells, Naive T cells, Effector memory T cells, Central memory T cells, Regulatory T cells > ICOS+ Treg\n\n**Key Observations Across Runs:**\n\n1. **Structural variations**: The model inconsistently places CD45+ Leukocytes - sometimes after Lymphocytes (Runs 2, 9), sometimes replacing Lymphocytes (Runs 1, 4, 10), sometimes omitted (Runs 3, 5-7). Ground truth has Lymphocytes without explicit CD45+ gate.\n\n2. **CD4+ T cell insertion**: Every run adds an intermediate \"CD4+ T Cells\" gate not present in ground truth, which places T cell subsets under CD4+ rather than directly under T cells.\n\n3. **B cell populations**: Ground truth specifies Plasma cells, Plasmablasts, Activated B cells, Memory B cells. Model predictions vary widely - some include Follicular/Marginal Zone B cells (Run 3), Germinal Center B cells (Run 3), or entirely different B cell subsets.\n\n4. **Missing populations**: Plasmablasts and Activated B cells are rarely predicted correctly. The model tends toward murine-specific terminology (Follicular, Marginal Zone) rather than the ground truth nomenclature.\n\n5. **Tfh/Tfr confusion**: Ground truth has ICOS+ Treg under Regulatory T cells. Model frequently predicts ICOS+ Tfh under Tfh cells - a different population entirely.\n\n6. **Consistency**: 10 unique gate sets out of 10 runs = 0% consistency. Each run produces a different hierarchy.\n\n**Positive aspects:**\n- Core gating logic (Singlets > Live > major lineages) is consistently captured\n- T cell memory subsets (Naive, Central Memory, Effector Memory) are generally present\n- Tregs consistently identified\n\nMEDIAN_QUALITY: 5 (captures major populations but wrong hierarchy depth, missing/wrong B cell subsets, CD4+ insertion)\nCONSISTENCY: 2 (10 unique gate sets, structural variations in every run, no two runs match)\nWORST_CASE: 3 (Run 2/9 with Lymphocytes > CD45+ inversion, missing key B populations)\nBEST_CASE: 6 (Run 3 has reasonable B cell detail, Run 8 has good T cell coverage)\nFAILURE_MODES: inconsistent CD45+/Lymphocytes ordering, spurious CD4+ T cell intermediate gate, missing Plasmablasts/Activated B cells, ICOS+ Tfh vs ICOS+ Treg confusion, variable B cell nomenclature\nRELIABILITY: low The model produces structurally different hierarchies on every run with no convergence, making individual predictions unreliable for this task.\nSUMMARY: Claude Opus identifies core lineages and memory T cell subsets but exhibits zero cross-run consistency, inverts or misplaces CD45+/Lymphocytes gates, and systematically adds an incorrect CD4+ T cell intermediate while missing ground truth B cell populations.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.33333333333333337,
      "unique_gate_sets": 7,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1385,
      "timestamp": "2026-01-13T05:27:45.636817",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "## Evaluation of claude-opus-4-20250514-cli on OMIP-008\n\n### Analysis\n\n**Expected Structure:** 6-level hierarchy with critical gates: Live cells, T cells (CD3+), then CD4+/CD8+ subsets\n\n**Observed Patterns Across 10 Runs:**\n\n1. **Consistent omissions:** All 10 runs are missing:\n   - **Live cells gate** (viability marker-based)\n   - **T cells gate** (CD3+ parent before CD4/CD8 split)\n\n2. **Consistent correct elements:**\n   - All Events \u2192 Singlets \u2192 Lymphocytes structure (3/6 levels)\n   - CD4+ and CD8+ terminal populations always present\n\n3. **Variable additions (hallucinations):**\n   - 8/10 runs include CD4+CD8+ double positive (DP)\n   - 8/10 runs include CD4-CD8- double negative (DN)\n   - These are not in ground truth\n\n4. **Naming inconsistency:**\n   - \"CD4+ T cells\" vs \"CD4+ cells\" vs \"CD4+ Cells\" (capitalization varies)\n\n### Scores\n\n**MEDIAN_QUALITY: 4**\nThe model consistently produces a valid but incomplete hierarchy. It captures the fundamental CD4/CD8 split but misses two critical intermediate gates (Live cells, T cells). The core logic is sound but the execution omits standard cytometry QC gates.\n\n**CONSISTENCY: 7**\nHigh structural consistency\u2014all runs produce the same 4-level depth with Singlets \u2192 Lymphocytes \u2192 CD4/CD8 split. The variation is primarily in: (a) whether DP/DN populations are included, and (b) minor naming conventions. The core architecture never varies.\n\n**WORST_CASE: 3**\nRuns 2 and 8 produce only 2 terminal populations with no DP/DN. While simpler, they still miss Live cells and T cells gates. Minimal output with critical omissions.\n\n**BEST_CASE: 5**\nRuns with DP/DN populations show the model attempting comprehensive phenotyping, but DP/DN aren't in ground truth for this OMIP (focused on functional cytokine analysis, not developmental subsets). Even the \"best\" runs miss Live and T cells gates.\n\n**FAILURE_MODES:** missing Live cells gate, missing CD3+ T cells parent gate, hallucinated DP/DN populations, inconsistent gate naming capitalization\n\n**RELIABILITY: low**\nThe model reliably produces incomplete hierarchies that skip critical QC and lineage gates, making it unsuitable for generating production-ready gating strategies.\n\n**SUMMARY:** Claude Opus consistently predicts a structurally valid but shallow hierarchy, systematically omitting the Live cells and CD3+ T cells gates while often hallucinating DP/DN populations not required for this functional T cell panel.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2194,
      "timestamp": "2026-01-13T05:28:13.856041",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.3,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing NK-T cells, missing marginal zone B cells, missing live cell gate, inconsistent monocyte subset naming, variable hierarchical depth, adds populations not in ground truth (granulocytes/progenitors)",
      "reliability": "low The model produces scientifically reasonable but structurally inconsistent hierarchies, never matching the expected organization exactly and missing key specialized populations.",
      "summary": "Claude Opus correctly identifies major leukocyte populations but shows high run-to-run variability in hierarchy structure and consistently misses specialized subsets like NK-T cells and marginal zone B cells that require precise marker combinations.",
      "raw_response": "Looking at the predictions across 10 runs compared to the ground truth for OMIP-077 (a comprehensive human whole blood leukocyte panel):\n\n**Key Observations:**\n\n1. **Core populations consistently identified**: All runs correctly identify T cells, B cells, NK cells, and monocytes - the major leukocyte populations.\n\n2. **Structural variations**: \n   - Ground truth uses: `All Events > Singlets > Live cells > Leukocytes`\n   - Predictions vary: Some include \"Live Cells\" (runs 2, 5), most skip directly to \"CD45+ Leukocytes\", run 8 adds an extra \"Cells\" gate\n   - Most predictions explicitly name \"CD45+ Leukocytes\" vs ground truth's simple \"Leukocytes\"\n\n3. **Missing specialized populations**: Ground truth includes Marginal Zone B cells, NK-T cells, CD1c+ mDCs, intermediate monocytes, and plasma cells. Predictions show:\n   - NK-T cells: Never explicitly identified\n   - Marginal Zone B cells: Not mentioned\n   - Monocyte subsets: Classical/non-classical often present, but intermediate monocytes rarely specified\n   - DCs: pDCs and cDC1/cDC2 occasionally mentioned, but \"CD1c+ mDCs\" naming differs\n\n4. **Added populations not in ground truth**: Several runs add neutrophils, eosinophils, CD34+ progenitors - these may be reasonable for whole blood but aren't in the expected hierarchy.\n\n5. **Naming inconsistency**: Same populations named differently across runs (e.g., \"CD56bright NK\" vs \"CD56bright CD16- NK\" vs \"CD56bright NK cells\")\n\n6. **Hierarchical organization varies**: NK cells sometimes under \"Lin-\", sometimes directly under Leukocytes; B cell subsets organized differently across runs.\n\nMEDIAN_QUALITY: 6 (captures major populations correctly but misses specialized subsets like NK-T cells, marginal zone B cells, and uses different hierarchical organization)\nCONSISTENCY: 3 (10 unique gate sets out of 10 runs; significant structural and naming variation between runs)\nWORST_CASE: 5 (runs 5-6 have unusual granulocyte-first organization and miss key populations)\nBEST_CASE: 7 (runs 1, 3, 9 have good coverage of monocyte and NK subsets with logical hierarchy)\nFAILURE_MODES: missing NK-T cells, missing marginal zone B cells, missing live cell gate, inconsistent monocyte subset naming, variable hierarchical depth, adds populations not in ground truth (granulocytes/progenitors)\nRELIABILITY: low The model produces scientifically reasonable but structurally inconsistent hierarchies, never matching the expected organization exactly and missing key specialized populations.\nSUMMARY: Claude Opus correctly identifies major leukocyte populations but shows high run-to-run variability in hierarchy structure and consistently misses specialized subsets like NK-T cells and marginal zone B cells that require precise marker combinations.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.11111111111111116,
      "unique_gate_sets": 9,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1079,
      "timestamp": "2026-01-13T05:28:40.179469",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.3,
      "best_case": 0.7,
      "failure_modes": "missing Live cells viability gate, incomplete FoxP3+/FoxP3- bifurcation, inconsistent gate naming, variable hierarchy depth",
      "reliability": "low - The model demonstrates systematic blind spots (viability gating) and high run-to-run variance that would make it unsuitable for production use without human verification.",
      "summary": "Claude Opus correctly identifies the core CD4+ T cell \u2192 Treg pathway but universally omits the critical Live cells viability gate and inconsistently captures the required FoxP3+/FoxP3- bifurcation, with only 30% of runs producing both branches.",
      "raw_response": "Looking at the 10 runs against the ground truth, let me evaluate systematically.\n\n**Ground Truth Analysis:**\n- Required gates: All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 CD4+ T cells \u2192 FoxP3+ Treg / FoxP3- non-Treg\n- Critical elements: Live cells gate, FoxP3+/FoxP3- bifurcation\n\n**Prediction Analysis:**\n\n| Issue | Runs Affected |\n|-------|---------------|\n| Missing \"Live cells\" gate | 10/10 (100%) |\n| Missing FoxP3- branch | 7/10 (runs 1-4, 7-9) |\n| Correct bifurcation (Treg/non-Treg) | 3/10 (runs 5, 6, 10) |\n| Skipped Lymphocytes gate | 1/10 (run 8) |\n\n**Quality by Run:**\n- Runs 5, 6, 10: Best - include both FoxP3+ and FoxP3- branches (though still missing Live cells)\n- Runs 1-4, 7, 9: Medium - correct path to Tregs but missing negative population\n- Run 8: Worst - skips Lymphocytes entirely, jumps straight to CD4+\n\n**Recurring Errors:**\n1. **Universal omission of \"Live cells\" gate** - every single run misses this critical viability gate\n2. **Incomplete bifurcation** - 70% of runs only predict the FoxP3+ Treg branch, missing the FoxP3- conventional T cell branch\n3. **Terminology variance** - \"Tregs\", \"Regulatory T cells\", \"FoxP3+ Tregs\", \"CD4+ FoxP3+ Tregs\" used interchangeably\n\nMEDIAN_QUALITY: 5 (captures main hierarchy structure and Treg identification, but systematically misses Live cells and often misses the negative population)\nCONSISTENCY: 3 (9 unique gate sets across 10 runs; high variance in naming conventions, branching structure, and depth)\nWORST_CASE: 3 (run 8 skips Lymphocytes gate entirely, producing an incorrect gating path)\nBEST_CASE: 7 (runs 5, 6, 10 correctly identify both Treg and non-Treg branches, though still miss Live cells)\nFAILURE_MODES: missing Live cells viability gate, incomplete FoxP3+/FoxP3- bifurcation, inconsistent gate naming, variable hierarchy depth\nRELIABILITY: low - The model demonstrates systematic blind spots (viability gating) and high run-to-run variance that would make it unsuitable for production use without human verification.\nSUMMARY: Claude Opus correctly identifies the core CD4+ T cell \u2192 Treg pathway but universally omits the critical Live cells viability gate and inconsistently captures the required FoxP3+/FoxP3- bifurcation, with only 30% of runs producing both branches.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.33333333333333337,
      "unique_gate_sets": 7,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2440,
      "timestamp": "2026-01-13T05:29:07.427946",
      "error": null,
      "median_quality": 0.8,
      "consistency": 0.7,
      "worst_case": 0.6,
      "best_case": 0.9,
      "failure_modes": "missing Time Gate, occasional gate ordering errors (1/10 runs), variable nesting depth for functional markers",
      "reliability": "medium-high The model reliably produces biologically valid hierarchies with correct T-cell phenotyping logic, though minor structural variations occur across runs.",
      "summary": "Claude Opus demonstrates strong domain knowledge of T-cell immunophenotyping, consistently generating detailed and biologically appropriate gating strategies that actually exceed the ground truth's abstraction level, with only minor inconsistencies in gate ordering and functional marker nesting.",
      "raw_response": "Looking at these 10 predictions against the ground truth, I'll evaluate the model's performance systematically.\n\n**Key Observations:**\n\n1. **Core structure is consistently correct**: All runs correctly identify the fundamental hierarchy: All Events \u2192 Singlets \u2192 Live Cells \u2192 Lymphocytes \u2192 T Cells \u2192 CD4+/CD8+ \u2192 Memory subsets + Functional markers\n\n2. **Consistent additions beyond ground truth**: \n   - CD14- CD19- dump gate (appears in 9/10 runs) - this is actually good practice\n   - Explicit CD3+ gate before CD4/CD8 split (all runs)\n   - Detailed memory subset breakdown (Naive, CM, EM, TEMRA) instead of generic \"Memory Subsets\"\n   - Individual cytokine gates (IFN-\u03b3, IL-2, TNF, IL-17A) instead of generic \"Functional Analysis\"\n\n3. **Minor variations**:\n   - Run 5: Lymphocytes before Singlets (incorrect order)\n   - Run 9: Extra \"Cells\" gate after All Events\n   - Run 10: Slightly different naming conventions (shorter names)\n   - Runs 3, 4, 9: Nest functional gates under specific memory subsets (more granular than ground truth)\n\n4. **Missing from ground truth**: Time Gate is missing from all predictions\n\n5. **The predictions are actually MORE detailed than ground truth**: The ground truth uses abstract categories (\"Memory Subsets\", \"Functional Analysis\") while the model provides specific implementations (Naive, CM, EM, TEMRA; IFN-\u03b3+, IL-2+, TNF+)\n\nMEDIAN_QUALITY: 8 (predictions capture correct biology with appropriate detail; missing Time Gate but adds valid dump channel)\nCONSISTENCY: 7 (core structure identical across runs; variations in gate ordering, naming conventions, and whether functional gates nest under memory subsets)\nWORST_CASE: 6 (Run 5 has incorrect Lymphocytes\u2192Singlets order, which is biologically wrong)\nBEST_CASE: 9 (Runs 1, 2, 6, 7, 8 have correct order with appropriate detail)\nFAILURE_MODES: missing Time Gate, occasional gate ordering errors (1/10 runs), variable nesting depth for functional markers\nRELIABILITY: medium-high The model reliably produces biologically valid hierarchies with correct T-cell phenotyping logic, though minor structural variations occur across runs.\nSUMMARY: Claude Opus demonstrates strong domain knowledge of T-cell immunophenotyping, consistently generating detailed and biologically appropriate gating strategies that actually exceed the ground truth's abstraction level, with only minor inconsistencies in gate ordering and functional marker nesting.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_minimal_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2356,
      "timestamp": "2026-01-13T05:29:33.404015",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.2,
      "worst_case": 0.3,
      "best_case": 0.6,
      "failure_modes": "missing Time gate, missing Non-beads gate, missing Non-aggregates gate, missing HLA-DR+ myeloid intermediate, inconsistent granulocyte/non-granulocyte branching, inverted hierarchy ordering in some runs",
      "reliability": "low (high structural variance across runs means predictions cannot be trusted without manual verification)",
      "summary": "Model identifies most terminal cell populations correctly but fails to reproduce the detailed QC and myeloid gating hierarchy, with concerning run-to-run structural inconsistency.",
      "raw_response": "Looking at these 10 runs, I'll evaluate the model's performance systematically.\n\n**Key Observations:**\n\n1. **Missing critical QC gates**: The ground truth has Time gate, Non-beads, and Non-aggregates as essential QC steps. All 10 predictions skip these entirely, going directly from Singlets to Leukocytes/Lymphocytes.\n\n2. **Structural inconsistency**: The hierarchy organization varies significantly:\n   - Runs 2, 7: Place Lymphocytes before CD45+ Leukocytes (biologically backwards)\n   - Runs 1, 4, 9: Use CD45+ Leukocytes correctly\n   - Runs 3, 5, 8, 10: Use just \"Leukocytes\" without CD45+ qualifier\n\n3. **Monocyte gating path wrong**: Ground truth shows Myeloid cells > Non-T/B/NK contamination > HLA-DR+ myeloid > monocyte subsets. Predictions skip these intermediate gates and go directly to monocyte subsets.\n\n4. **Missing intermediate myeloid gates**: Only runs 4 and 10 include \"Intermediate Monocytes\" - others skip this population entirely.\n\n5. **Terminal populations mostly correct**: The leaf populations (Classical/Non-classical monocytes, Naive/Memory B cells, CD4/CD8 T cell subsets, NK subsets) are generally present, just attached to incorrect parent structures.\n\n6. **Granulocytes handled inconsistently**: Some runs terminate at \"Granulocytes\" while ground truth doesn't detail granulocyte subsets.\n\n7. **\u03b3\u03b4 T cells present in some runs**: Runs 5, 9 include V\u03b42+/- \u03b3\u03b4 T cells which match ground truth, but not consistently across runs.\n\n**Scoring:**\n\nMEDIAN_QUALITY: 5 (correct terminal populations but wrong hierarchical structure and missing QC gates)\nCONSISTENCY: 2 (10 unique gate sets, variable parent structures, inconsistent intermediate gates)\nWORST_CASE: 3 (runs 2, 7 with inverted Lymphocytes > Leukocytes ordering are biologically incorrect)\nBEST_CASE: 6 (runs 4, 10 have most complete monocyte subsets and reasonable structure)\nFAILURE_MODES: missing Time gate, missing Non-beads gate, missing Non-aggregates gate, missing HLA-DR+ myeloid intermediate, inconsistent granulocyte/non-granulocyte branching, inverted hierarchy ordering in some runs\nRELIABILITY: low (high structural variance across runs means predictions cannot be trusted without manual verification)\nSUMMARY: Model identifies most terminal cell populations correctly but fails to reproduce the detailed QC and myeloid gating hierarchy, with concerning run-to-run structural inconsistency.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.2222222222222222,
      "unique_gate_sets": 8,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2739,
      "timestamp": "2026-01-13T05:30:02.290780",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "Looking at the 10 runs for OMIP-074 (B cell IgG/IgA subclass phenotyping panel), I'll evaluate claude-opus-4-20250514-cli's performance.\n\n**Key Observations:**\n\n1. **Structural differences from ground truth**: The model consistently omits the \"Time gate\" that appears in the expected hierarchy. It also reorders Live Cells and Lymphocytes (model: Singlets > Live Cells > Lymphocytes vs expected: Singlets > Lymphocytes > Live cells).\n\n2. **Core hierarchy preserved**: All runs correctly identify the fundamental B cell gating path: All Events > Singlets > Live Cells > Lymphocytes > CD19+ B Cells > CD20+ B Cells.\n\n3. **Memory subset naming divergence**: The ground truth uses specific memory nomenclature (Resting Memory, Activated Memory, Tissue-like Memory) while the model uses marker-based naming (IgD- CD27+ Memory B Cells). This is technically valid but doesn't match the expected terminology.\n\n4. **IgG/IgA subclass handling**: Most runs correctly identify IgG1-4 and IgA1/2 subclasses, which is the core purpose of OMIP-074.\n\n5. **Run-to-run variability**:\n   - Runs 1-4, 6, 8-9: Nearly identical (dominant pattern)\n   - Run 5: Adds light chain (IgKappa/IgLambda) gating\n   - Run 7: Simpler structure with IgKappa/IgLambda at top level\n   - Run 10: Adds light chain subgating within IgA subclasses\n\n6. **Missing gates**: The model doesn't predict the TLM, RM, AM memory subsets using those specific names, missing a key aspect of the expected hierarchy.\n\n**MEDIAN_QUALITY: 6** (correctly captures B cell lineage and Ig subclasses but misses memory subset terminology and Time gate)\n\n**CONSISTENCY: 4** (8 unique gate sets across 10 runs; dominant pattern in ~6 runs but significant divergence in runs 5, 7, 10)\n\n**WORST_CASE: 5** (Run 7 has simplified structure missing memory intermediate gates)\n\n**BEST_CASE: 7** (Runs 5 and 10 include more complete Ig subclass + light chain detail, though this goes beyond ground truth)\n\n**FAILURE_MODES: missing Time gate, memory subset terminology mismatch (RM/AM/TLM), inconsistent light chain gating depth, Live/Lymphocyte order reversal\n\n**RELIABILITY: medium** The model reliably produces a valid B cell phenotyping hierarchy but shows moderate run-to-run variability in gating depth and inconsistent adoption of the paper's specific memory subset terminology.\n\n**SUMMARY: Claude Opus reliably reconstructs the core B cell Ig subclass gating logic but exhibits moderate inconsistency in structural details and fails to match the paper's specific memory subset nomenclature (RM/AM/TLM).**",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2633,
      "timestamp": "2026-01-13T05:30:31.310374",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.8,
      "worst_case": 0.6,
      "best_case": 0.8,
      "failure_modes": "inconsistent singlet gate inclusion, variable memory subset nomenclature, transitional memory rarely captured, excessive marker notation vs ground truth's simplified names",
      "reliability": "medium-high The model reliably produces biologically sound hierarchies with appropriate T cell memory subset discrimination, though string-level naming inconsistency would require normalization for automated scoring.",
      "summary": "Claude Opus produces biologically accurate gating hierarchies for this CyTOF T cell memory panel with high structural consistency, but naming variations across runs inflate apparent inconsistency metrics.",
      "raw_response": "Looking at the predictions across 10 runs, I need to evaluate how well this model predicts flow cytometry gating hierarchies for OMIP-087 (a CyTOF panel for CD4/CD8 memory subsets).\n\n**Key Observations:**\n\n1. **Structural Consistency**: All runs produce similar hierarchical structures with consistent depth and organization. The core gating logic (All Events \u2192 Cells \u2192 Live \u2192 CD45+ \u2192 CD3+ \u2192 TCRgd- \u2192 CD4+/CD8+ \u2192 memory subsets) is preserved across runs.\n\n2. **Gate Naming Variations**: While semantically equivalent, naming varies:\n   - \"Singlets\" present in 7/10 runs, absent in 3 (Run 2, 6, 7)\n   - \"Cells\" vs \"Intact Cells\" (Runs 5, 6 use \"Intact Cells\")\n   - \"CD45+ Leukocytes\" vs \"CD45+\" vs \"CD45+ >\"\n   - Memory subset naming varies: \"TEMRA CD4\" vs \"Terminal Effector CD4\"\n\n3. **Comparison to Ground Truth**:\n   - Ground truth lacks Singlets gate (expected for CyTOF - no scatter gating)\n   - Ground truth uses simple \"Leukocytes\" \u2192 \"T cells\" without CD45/CD3 marker notation\n   - Model consistently adds appropriate marker-based gates (CD45+, CD3+, TCRgd-)\n   - Model captures key memory subsets (Naive, CM, EM, TEMRA/Terminal Effector)\n   - Model often includes Tregs, Tfh, which match ground truth\n\n4. **Discrepancies from Ground Truth**:\n   - Some runs include \"Stem Cell Memory\" (TSCM), matching ground truth\n   - \"Transitional memory\" from ground truth rarely appears explicitly\n   - Model adds TCRgd+ gate not in ground truth (reasonable biological addition)\n   - Model adds CD8 subsets mirroring CD4 (matches ground truth)\n\n5. **The 0.00 Consistency Score** is misleading - it likely reflects string-level differences in gate naming rather than fundamental hierarchical disagreements. The biological structure is highly consistent.\n\nMEDIAN_QUALITY: 7 (correctly identifies major populations and memory subsets with appropriate marker-based gating, though naming conventions differ from ground truth)\nCONSISTENCY: 8 (core hierarchical structure and biological logic are highly consistent; variations are mostly cosmetic naming differences)\nWORST_CASE: 6 (runs missing Singlets or TSCM still capture essential populations)\nBEST_CASE: 8 (Run 4 includes TSCM and uses clear nomenclature with abbreviations)\nFAILURE_MODES: inconsistent singlet gate inclusion, variable memory subset nomenclature, transitional memory rarely captured, excessive marker notation vs ground truth's simplified names\nRELIABILITY: medium-high The model reliably produces biologically sound hierarchies with appropriate T cell memory subset discrimination, though string-level naming inconsistency would require normalization for automated scoring.\nSUMMARY: Claude Opus produces biologically accurate gating hierarchies for this CyTOF T cell memory panel with high structural consistency, but naming variations across runs inflate apparent inconsistency metrics.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2590,
      "timestamp": "2026-01-13T05:30:59.442464",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "bimodal coverage (T-cell OR NK focus per run), missing ILC parent category, missing \"Other ILC subsets\", inconsistent lineage exclusion markers, over-granular subsets not in ground truth",
      "reliability": "low The model produces scientifically reasonable gating strategies but exhibits unpredictable bimodal behavior where each run focuses on either T cells or NK cells, never both comprehensively.",
      "summary": "Claude Opus shows strong domain knowledge generating detailed, valid gating strategies but fails to reliably cover all expected populations in any single run, with predictions splitting unpredictably between T-cell-focused and NK-focused hierarchies.",
      "raw_response": "Looking at the 10 runs, I need to compare predictions against the expected hierarchy for OMIP-064.\n\n**Expected Structure:**\n- T cells branch: MAIT cells, \u03b3\u03b4 T cells\n- ILC branch: NK cells (with Activated NK), Other ILC subsets\n\n**Analysis of Predictions:**\n\n**Strengths across runs:**\n- All runs correctly identify: Singlets > Live cells > Lymphocytes (core gating)\n- Runs 2,3,5,6,7,8,10 correctly identify \u03b3\u03b4 T cells with V\u03b42+/V\u03b42- subsets\n- Runs 2,3,5,6,7,8,10 correctly identify MAIT cells with CD4+/CD8+/DN subsets\n- Runs 1,4,9 correctly identify NK cells with CD56bright/CD56dim subsets and activation markers (NKG2A, NKG2C, CD57)\n\n**Key Issues:**\n\n1. **Structural divergence from ground truth**: The expected hierarchy places NK cells under \"Innate Lymphoid Cells\" but predictions place them under CD3- CD19- or Lin- gates directly. This is technically valid but doesn't match the expected categorization.\n\n2. **Missing \"Other ILC subsets\"**: No run explicitly identifies ILC subsets beyond NK cells (ILC1, ILC2, ILC3).\n\n3. **Missing \"Activated NK cells\"** as a distinct population: Predictions show activation markers (NKG2A+, NKG2C+, CD57+) but not as a unified \"Activated NK\" gate.\n\n4. **Inconsistent lineage gating**: Some runs use CD3- CD19-, others use CD14- CD19-, others use Lin- cells.\n\n5. **Bimodal behavior**: Runs split between T-cell-focused (runs 2,3,5,6,7,8,10) and NK-focused (runs 1,4,9) hierarchies. No single run captures all expected populations comprehensively.\n\n6. **Over-specification**: Predictions are more granular than ground truth (showing functional subsets like NKG2A+, V\u03b42+ that aren't in the simplified expected hierarchy).\n\nMEDIAN_QUALITY: 6 (predictions show domain expertise and valid gating logic, but consistently miss the ILC framing and complete population coverage)\nCONSISTENCY: 3 (two distinct prediction \"modes\" - T-cell focused vs NK-focused - with variable lineage exclusion gates)\nWORST_CASE: 4 (runs 1,4,9 completely omit T cell/MAIT/\u03b3\u03b4 branches from shown paths)\nBEST_CASE: 7 (runs 2,3,6,8 capture T cell populations well with appropriate subsets, though still miss ILC framing)\nFAILURE_MODES: bimodal coverage (T-cell OR NK focus per run), missing ILC parent category, missing \"Other ILC subsets\", inconsistent lineage exclusion markers, over-granular subsets not in ground truth\nRELIABILITY: low The model produces scientifically reasonable gating strategies but exhibits unpredictable bimodal behavior where each run focuses on either T cells or NK cells, never both comprehensively.\nSUMMARY: Claude Opus shows strong domain knowledge generating detailed, valid gating strategies but fails to reliably cover all expected populations in any single run, with predictions splitting unpredictably between T-cell-focused and NK-focused hierarchies.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.7777777777777778,
      "unique_gate_sets": 3,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2257,
      "timestamp": "2026-01-13T05:31:23.416526",
      "error": null,
      "median_quality": 0.8,
      "consistency": 0.9,
      "worst_case": 0.8,
      "best_case": 0.8,
      "failure_modes": "naming convention mismatch (CD3+ T cells vs T cells), abstraction level difference (specific subsets vs category labels)",
      "reliability": "high The model produces highly consistent, scientifically accurate gating strategies across all runs with no parsing failures or major structural errors.",
      "summary": "Claude Opus demonstrates excellent reliability for gating prediction, producing consistent and detailed hierarchies that are more granular than the ground truth categories while maintaining correct parent-child relationships.",
      "raw_response": "Looking at the predictions across all 10 runs, I can evaluate the model's performance against the ground truth.\n\n**Key Observations:**\n\n1. **Structural accuracy**: The model correctly predicts the core hierarchy structure (All Events > Singlets > Live cells > Lymphocytes > T cells/NK cells), matching the ground truth pattern.\n\n2. **Granularity difference**: The ground truth uses abstract category names (e.g., \"CD4+ Memory subsets\", \"CD4+ Functional subsets\") while the model predicts specific concrete gates (Naive CD4+, Central Memory CD4+, Effector Memory CD4+, TEMRA CD4+). This is actually more detailed and scientifically appropriate for OMIP-025.\n\n3. **Minor variations across runs**: The only differences are capitalization (\"Live cells\" vs \"Live Cells\", \"T cells\" vs \"T Cells\") and the model adds \"CD3+\" before \"T cells\" - which is technically correct since CD3 is the canonical T cell marker.\n\n4. **Consistent predictions**: All 10 runs produce essentially the same gating strategy with only superficial formatting differences. The 3 \"unique gate sets\" are due to case sensitivity, not substantive differences.\n\n5. **Complete coverage**: The model correctly identifies CD4+ subsets, CD8+ subsets, TFH cells, and NK cells - matching all major branches in the ground truth.\n\n6. **No hallucinations**: All predicted gates (memory subsets, functional markers) are appropriate for a T/NK cell PBMC panel.\n\n**Evaluation:**\n\nMEDIAN_QUALITY: 8 (correctly identifies hierarchy structure and appropriate cell subsets; more granular than ground truth categories which is scientifically valid)\nCONSISTENCY: 9 (essentially identical predictions across all runs; only superficial capitalization differences)\nWORST_CASE: 8 (all runs produce valid, complete hierarchies with no failures)\nBEST_CASE: 8 (predictions are uniformly good but ground truth uses different abstraction level)\nFAILURE_MODES: naming convention mismatch (CD3+ T cells vs T cells), abstraction level difference (specific subsets vs category labels)\nRELIABILITY: high The model produces highly consistent, scientifically accurate gating strategies across all runs with no parsing failures or major structural errors.\nSUMMARY: Claude Opus demonstrates excellent reliability for gating prediction, producing consistent and detailed hierarchies that are more granular than the ground truth categories while maintaining correct parent-child relationships.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3057,
      "timestamp": "2026-01-13T05:31:53.654714",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "hallucinated functional subgates (CCR2+/CX3CR1+/CD36+/TLR2+ populations), missing SLAN+/- distinction on nonclassical monocytes, missing \"Other Monocyte Subsets\" grouping node, inconsistent gate naming across runs, variable inclusion of Live gate",
      "reliability": "low - model demonstrates domain knowledge but cannot reproduce the specific hierarchy structure; high variance in output structure makes it unsuitable for standardized gating protocols",
      "summary": "Model understands monocyte biology and appropriate exclusion strategies but consistently over-interprets the panel by adding functional subpopulations not requested, while missing specific ground truth elements like SLAN classification and intermediate grouping nodes.",
      "raw_response": "Looking at the 10 runs, I'll evaluate the model's performance against the ground truth for OMIP-083 monocyte gating.\n\n**Ground Truth Analysis:**\nThe expected hierarchy is relatively simple:\n- All Events > Cleaned Events > Leukocytes > Non-granulocytes > Monocytes > [3 main subsets: Classical, Intermediate, SLAN+/- Nonclassical]\n\n**Predictions Analysis:**\n\n**Strengths across all runs:**\n1. Correctly identifies the three major monocyte subsets (Classical, Intermediate, Nonclassical)\n2. Includes appropriate exclusion gates (Singlets, Lineage-, CD42b- for platelets, CD66b- for granulocytes)\n3. Uses correct HLA-DR+ gating for monocyte identification\n4. Shows understanding of CD14/CD16 classification scheme for monocyte subsets\n\n**Critical Issues:**\n\n1. **Over-elaboration**: Every run adds extensive functional sub-phenotyping (CCR2+, CX3CR1+, CD36+, TLR2+, CD64+, CD86+, PD-1+) that is NOT in the ground truth. These are valid markers but represent an over-interpretation of the panel.\n\n2. **Missing SLAN distinction**: Ground truth specifically distinguishes SLAN+ vs SLAN- Nonclassical Monocytes. Most predictions either omit this or inconsistently apply it.\n\n3. **Structural variation**: Gate naming varies significantly (e.g., \"CD45+ Leukocytes\" vs \"Leukocytes\", \"Live Cells\" present in some but not others, different ordering of exclusion gates).\n\n4. **Missing \"Other Monocyte Subsets\" grouping**: Ground truth has an intermediate grouping node that predictions consistently miss.\n\n5. **No \"Cleaned Events\" or \"Non-granulocytes\"**: These conceptual gates from the ground truth are replaced with more explicit marker-based gates.\n\nMEDIAN_QUALITY: 5 (correctly identifies core populations but over-elaborates with functional subsets not in ground truth)\nCONSISTENCY: 3 (every run produces different gate names, ordering, and depth; 10 unique gate sets)\nWORST_CASE: 4 (all runs share similar issues - functional over-elaboration, missing SLAN distinction)\nBEST_CASE: 6 (Run 4 is slightly more compact but still misses key ground truth structure)\nFAILURE_MODES: hallucinated functional subgates (CCR2+/CX3CR1+/CD36+/TLR2+ populations), missing SLAN+/- distinction on nonclassical monocytes, missing \"Other Monocyte Subsets\" grouping node, inconsistent gate naming across runs, variable inclusion of Live gate\nRELIABILITY: low - model demonstrates domain knowledge but cannot reproduce the specific hierarchy structure; high variance in output structure makes it unsuitable for standardized gating protocols\nSUMMARY: Model understands monocyte biology and appropriate exclusion strategies but consistently over-interprets the panel by adding functional subpopulations not requested, while missing specific ground truth elements like SLAN classification and intermediate grouping nodes.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.5555555555555556,
      "unique_gate_sets": 5,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2187,
      "timestamp": "2026-01-13T05:32:21.469843",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.5,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing Live cells gate, inverted hierarchy (CD56 parent of KIR instead of KIR parent of CD56), dropped Mamu- species prefix, inconsistent KIR gate naming across runs",
      "reliability": "medium The model understands NK cell biology and panel markers but applies a different (human-centric CD56bright/dim) organizational schema rather than the paper's macaque KIR-first hierarchy.",
      "summary": "Model demonstrates sound NK immunology knowledge but imposes a conventional human NK subset framework rather than faithfully reproducing the macaque KIR-focused hierarchy specified in OMIP-035.",
      "raw_response": "Looking at the model's predictions across 10 runs compared to the ground truth, I'll evaluate systematically.\n\n**Key Observations:**\n\n1. **Missing \"Live cells\" gate**: All 10 runs skip the \"Live cells\" gate between Singlets and Lymphocytes. The ground truth has `Singlets > Live cells > Lymphocytes` but predictions show `Singlets > Lymphocytes`. This is a consistent structural error.\n\n2. **Alternative NK subset organization**: The ground truth organizes NK subsets by:\n   - First: Mamu-KIR3DL01+/- (then KIR3DL05+/-)\n   - Second: CD16/CD56 combinations as siblings\n\n   The model instead organizes by:\n   - First: CD56bright/dim (with CD16 status)\n   - Then: KIR combinations as children\n\n   This is a different but scientifically reasonable approach, though it doesn't match the paper's specific hierarchy.\n\n3. **Species-specific markers**: Ground truth uses \"Mamu-KIR3DL01\" (macaque-specific nomenclature). Model uses \"KIR3DL01\" (drops the \"Mamu-\" prefix). This is a minor normalization difference.\n\n4. **Variability in leaf gate naming**: Runs vary between:\n   - `KIR3DL01+ KIR3DL05-` format (Runs 1, 7, 10)\n   - `KIR3DL01+` single markers (Runs 2, 4, 6, 9)\n   - `KIR3DL01+ CD56bright` descriptive format (Runs 3, 5, 8)\n\n5. **CD16/CD56 subset coverage**: Ground truth has 3 CD16/CD56 combinations at the same level as KIR gates. Model nests KIR gates under CD56 subsets instead of treating them as parallel branches.\n\nMEDIAN_QUALITY: 5 (captures correct markers and reasonable NK biology but wrong hierarchy structure and missing Live cells gate)\nCONSISTENCY: 5 (consistent structural approach but variable naming conventions across runs - 5 unique gate sets)\nWORST_CASE: 4 (runs with single KIR markers instead of combinations miss the combinatorial analysis intent)\nBEST_CASE: 6 (runs 1, 7, 10 with full KIR+/- combinations best approximate the analytical intent)\nFAILURE_MODES: missing Live cells gate, inverted hierarchy (CD56 parent of KIR instead of KIR parent of CD56), dropped Mamu- species prefix, inconsistent KIR gate naming across runs\nRELIABILITY: medium The model understands NK cell biology and panel markers but applies a different (human-centric CD56bright/dim) organizational schema rather than the paper's macaque KIR-first hierarchy.\nSUMMARY: Model demonstrates sound NK immunology knowledge but imposes a conventional human NK subset framework rather than faithfully reproducing the macaque KIR-focused hierarchy specified in OMIP-035.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.11111111111111116,
      "unique_gate_sets": 9,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2062,
      "timestamp": "2026-01-13T05:32:50.066917",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.3,
      "worst_case": 0.2,
      "best_case": 0.8,
      "failure_modes": "truncation/incomplete hierarchy, inconsistent granularity depth, variable naming conventions, ILC omission, over-specification with memory subsets",
      "reliability": "medium Model produces immunologically valid hierarchies but unpredictable depth and occasional severe truncation make it unreliable without human review.",
      "summary": "Claude Opus correctly understands flow cytometry gating principles and produces scientifically valid hierarchies, but high run-to-run variance in depth/completeness (including one near-total failure) undermines reproducibility.",
      "raw_response": "Looking at the 10 runs, I'll evaluate claude-opus-4-20250514-cli's performance on OMIP-095.\n\n**Key Observations:**\n\n1. **Core hierarchy consistently correct**: All runs get the fundamental structure right: All Events > Singlets > Live Cells > CD45+ Leukocytes > major lineages. This matches the expected pattern.\n\n2. **Variable depth/granularity**: \n   - Runs 1, 2, 6, 8, 9, 10: Go deep with memory subsets (Naive, CM, EM, Tregs)\n   - Runs 3, 4, 5: Stop at major populations (CD4+, CD8+, B cells, NK, Myeloid)\n   - Run 7: Truncated at CD45+ Leukocytes only (outlier failure)\n\n3. **Naming variations**: \"CD3+ T Cells\" vs \"T cells\", \"Natural killer cells\" vs \"NK cells\" - semantically equivalent but textually different.\n\n4. **Ground truth alignment**:\n   - Expected: Leukocytes > T cells > CD4+/CD8+ \u2713\n   - Expected: B cells, NK cells, Monocytes, Macrophages, DCs \u2713\n   - Expected: ILCs - sometimes missed or merged with NK\n   - Model adds: Memory subsets (not in ground truth but valid extensions)\n\n5. **Run 7 is a clear failure**: Only 4 gates total, missing all major lineages.\n\n6. **Myeloid handling inconsistent**: Some runs separate Monocytes/Macrophages/DCs, others combine into \"Myeloid cells\" or \"Monocytes/Macrophages\".\n\n**Assessment:**\n\nMEDIAN_QUALITY: 7 (correctly identifies major populations with appropriate hierarchy, often adds valid granularity beyond ground truth)\nCONSISTENCY: 3 (9 unique gate sets out of 10 runs, high variance in depth and naming)\nWORST_CASE: 2 (Run 7 truncated at Leukocytes, completely missing all lineage populations)\nBEST_CASE: 8 (Runs 3-5 closely match ground truth structure; detailed runs show valid immunological knowledge)\nFAILURE_MODES: truncation/incomplete hierarchy, inconsistent granularity depth, variable naming conventions, ILC omission, over-specification with memory subsets\nRELIABILITY: medium Model produces immunologically valid hierarchies but unpredictable depth and occasional severe truncation make it unreliable without human review.\nSUMMARY: Claude Opus correctly understands flow cytometry gating principles and produces scientifically valid hierarchies, but high run-to-run variance in depth/completeness (including one near-total failure) undermines reproducibility.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2693,
      "timestamp": "2026-01-13T05:33:20.666739",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.4,
      "worst_case": 0.6,
      "best_case": 0.8,
      "failure_modes": "inconsistent gate naming conventions, adds intermediate CD4/CD8 branch not in ground truth, variable marker annotation in names, adds populations beyond panel scope (Tfh/GC B cells)",
      "reliability": "medium The model produces biologically reasonable hierarchies but lacks standardized naming, making automated comparison difficult and requiring manual interpretation.",
      "summary": "Claude Opus generates scientifically valid murine immunophenotyping hierarchies with appropriate T/B cell subsets, but introduces structural differences (explicit CD4/CD8 branching, CD45+ gate) and inconsistent naming that prevent exact matching to ground truth despite capturing the essential biology.",
      "raw_response": "Looking at this evaluation task, I need to analyze the model's gating hierarchy predictions across 10 runs for OMIP-076 (murine splenocytes).\n\n## Analysis\n\n### Comparison with Ground Truth\n\n**Ground Truth Structure:**\n- All Events > Singlets > Live cells > Lymphocytes > {B cells, T cells} > subtypes\n\n**Predicted Structure (consistent across all 10 runs):**\n- All Events > Singlets > Live cells > CD45+ Leukocytes > T cells (TCR\u03b2+) > {CD4+ T cells, CD8+ T cells} > subtypes\n- All Events > Singlets > Live cells > CD45+ Leukocytes > B cells > subtypes\n\n### Key Observations\n\n1. **Structural Differences:**\n   - Model adds explicit **CD45+ gate** (reasonable but not in ground truth)\n   - Model uses **\"Leukocytes\"** instead of \"Lymphocytes\"\n   - Model adds **TCR\u03b2+** marker specificity to T cells\n   - Model separates T cells into **CD4+ and CD8+ branches** before memory/effector subtypes (ground truth doesn't)\n\n2. **T cell Hierarchy:**\n   - Ground truth: T cells > Naive/Effector memory/Central memory/Tregs\n   - Predictions: T cells > CD4+ T cells > Naive/EM/CM/Tregs AND T cells > CD8+ T cells > similar subtypes\n   - Model correctly identifies memory subsets, Tregs, and adds Tfh (which ground truth lacks)\n\n3. **B cell Hierarchy:**\n   - Ground truth: B cells > Plasma cells, Plasmablasts, Activated B, Memory B\n   - Predictions: B cells > similar populations plus Germinal Center B cells, Follicular B cells\n   - Model captures core populations but adds additional gates\n\n4. **Consistency Issues:**\n   - 10 unique gate sets despite similar overall structure\n   - Naming variations: \"Live Cells\" vs \"Live cells\", \"Tregs\" vs \"Regulatory T cells (Tregs)\"\n   - Some runs include marker definitions in gate names (e.g., \"CD44+ CD62L-\"), others don't\n   - Varying completeness (14-16 paths shown per run)\n\n5. **Notable Additions (not in ground truth):**\n   - Tfh cells (T follicular helper)\n   - Germinal Center B cells\n   - Follicular B cells\n   - Explicit CD4/CD8 split\n\nMEDIAN_QUALITY: 7 (predictions capture core populations with biologically reasonable structure, but differ from ground truth in hierarchy depth and CD4/CD8 branching)\nCONSISTENCY: 4 (same overall architecture but naming variations, marker inclusion, and minor structural differences across all 10 runs result in 10 unique gate sets)\nWORST_CASE: 6 (some runs have inconsistent capitalization and fewer gates)\nBEST_CASE: 8 (runs with complete marker definitions and full hierarchy coverage)\nFAILURE_MODES: inconsistent gate naming conventions, adds intermediate CD4/CD8 branch not in ground truth, variable marker annotation in names, adds populations beyond panel scope (Tfh/GC B cells)\nRELIABILITY: medium The model produces biologically reasonable hierarchies but lacks standardized naming, making automated comparison difficult and requiring manual interpretation.\nSUMMARY: Claude Opus generates scientifically valid murine immunophenotyping hierarchies with appropriate T/B cell subsets, but introduces structural differences (explicit CD4/CD8 branching, CD45+ gate) and inconsistent naming that prevent exact matching to ground truth despite capturing the essential biology.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 1.0,
      "unique_gate_sets": 1,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1017,
      "timestamp": "2026-01-13T05:33:42.398269",
      "error": null,
      "median_quality": 0.5,
      "consistency": 1.0,
      "worst_case": 0.5,
      "best_case": 0.5,
      "failure_modes": "missing viability gate (Live cells), missing CD3+ T cell parent gate, shallow hierarchy",
      "reliability": "medium - Model is highly consistent but systematically omits intermediate gating steps that are essential for proper flow cytometry analysis",
      "summary": "The model produces perfectly consistent but incomplete hierarchies, systematically skipping the viability and CD3+ T cell gates that are critical for robust flow cytometry workflows.",
      "raw_response": "Looking at the model's predictions across 10 runs against the ground truth:\n\n**Ground Truth Structure:**\n- All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+ T cells\n- Key gates: Singlets, **Live cells**, Lymphocytes, **T cells**, CD4+/CD8+ T cells\n\n**Model Prediction (identical across all 10 runs):**\n- All Events \u2192 Singlets \u2192 Lymphocytes \u2192 CD4+/CD8+ T cells\n- Missing gates: **Live cells** and **T cells**\n\n**Analysis:**\n\nThe model consistently omits two critical intermediate gates:\n1. **Live cells** - A viability gate that should come after Singlets (the panel includes a viability dye marker)\n2. **T cells (CD3+)** - The parent population for CD4+ and CD8+ T cells\n\nThis is a significant structural error. In proper flow cytometry gating, you must:\n- Gate on live cells before phenotyping (dead cells bind antibodies non-specifically)\n- Identify T cells (CD3+) before subdividing into CD4+ and CD8+ subsets\n\nThe model correctly identifies: All Events, Singlets, Lymphocytes, CD4+ T cells, and CD8+ T cells. But the hierarchy depth is incomplete (4 levels instead of 6).\n\n---\n\nMEDIAN_QUALITY: 5 (captures terminal populations correctly but misses 2 critical intermediate gates)\nCONSISTENCY: 10 (identical output across all 10 runs - zero variance)\nWORST_CASE: 5 (all predictions are identical)\nBEST_CASE: 5 (all predictions are identical)\nFAILURE_MODES: missing viability gate (Live cells), missing CD3+ T cell parent gate, shallow hierarchy\nRELIABILITY: medium - Model is highly consistent but systematically omits intermediate gating steps that are essential for proper flow cytometry analysis\nSUMMARY: The model produces perfectly consistent but incomplete hierarchies, systematically skipping the viability and CD3+ T cell gates that are critical for robust flow cytometry workflows.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2360,
      "timestamp": "2026-01-13T05:34:11.914368",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.7,
      "worst_case": 0.6,
      "best_case": 0.8,
      "failure_modes": "missing Live cells gate, missing Marginal Zone B cells, variable intermediate node naming, NKT cells omitted in 4/10 runs",
      "reliability": "medium - Model demonstrates solid immunological reasoning and identifies most major populations correctly, but systematic gaps (Live gate, MZ B cells) and inconsistent NKT detection reduce reliability for automated scoring.",
      "summary": "Claude Opus produces biologically sensible hierarchies with correct monocyte/NK/DC subsets but systematically omits the viability gate and Marginal Zone B cells, with moderate run-to-run variation in intermediate node structure.",
      "raw_response": "Looking at these 10 runs, I need to evaluate how well claude-opus-cli predicts the OMIP-077 gating hierarchy.\n\n**Key Observations:**\n\n1. **Structural Pattern:** All runs share a consistent high-level structure: All Events > Singlets > CD45+ Leukocytes, then branching to T cells, B cells, NK cells, monocytes, and DCs. This matches the expected hierarchy's logical flow.\n\n2. **Missing Live Cell Gate:** Every prediction skips the \"Live cells\" gate between Singlets and Leukocytes. The expected hierarchy has: Singlets > Live cells > Leukocytes. This is a systematic omission.\n\n3. **Missing Expected Populations:**\n   - Marginal Zone B cells (never predicted - all runs show Plasmablasts instead)\n   - NK-T cells path placement varies (some runs place under T cells correctly, runs 1-2 and 4 omit NKT entirely)\n   - Intermediate gating nodes differ (e.g., \"CD3- CD19- Non-T Non-B\" vs \"CD3- Non-T cells > CD19- Non-B cells\")\n\n4. **Nomenclature Differences:** Ground truth uses simple names (\"Classical monocytes\") while predictions use marker-based names (\"CD14++ CD16- Classical Monocytes\"). Functionally equivalent but not identical.\n\n5. **NK Cell Subsets:** Model consistently adds CD56bright/CD56dim NK subsets not in the truncated ground truth shown (but likely biologically valid).\n\n6. **Dendritic Cells:** Model identifies CD1c+ mDCs and sometimes CD141+ mDCs, matching expected populations.\n\n7. **Surface-Level Consistency:** Despite 10 unique gate sets (0% exact match), the biological content is highly similar across runs - differences are in naming conventions and intermediate node labels, not in the core populations identified.\n\nMEDIAN_QUALITY: 7 (correctly identifies major populations with appropriate marker logic, but systematically misses Live gate and Marginal Zone B cells)\nCONSISTENCY: 7 (biological content highly consistent despite surface-level naming variations; two structural patterns: runs 1,2,4,10 flatten hierarchy, runs 3,5-9 use explicit intermediate nodes)\nWORST_CASE: 6 (runs 1,2,4 omit NKT cells and use flatter hierarchy)\nBEST_CASE: 8 (runs 3,5-9 capture NKT cells correctly under T cells with fuller hierarchy)\nFAILURE_MODES: missing Live cells gate, missing Marginal Zone B cells, variable intermediate node naming, NKT cells omitted in 4/10 runs\nRELIABILITY: medium - Model demonstrates solid immunological reasoning and identifies most major populations correctly, but systematic gaps (Live gate, MZ B cells) and inconsistent NKT detection reduce reliability for automated scoring.\nSUMMARY: Claude Opus produces biologically sensible hierarchies with correct monocyte/NK/DC subsets but systematically omits the viability gate and Marginal Zone B cells, with moderate run-to-run variation in intermediate node structure.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.33333333333333337,
      "unique_gate_sets": 7,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1137,
      "timestamp": "2026-01-13T05:34:36.882710",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.4,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "systematic Live cells gate omission, inconsistent FoxP3- branch inclusion, terminal gate naming variations",
      "reliability": "medium The model reliably produces the core T cell hierarchy but unpredictably omits the FoxP3- conventional T cell branch in 50% of runs.",
      "summary": "Claude Opus shows strong structural understanding of Treg gating but has a blind spot for viability gating and inconsistently predicts both terminal populations, making it unreliable for complete hierarchy prediction without human verification.",
      "raw_response": "Looking at the 10 runs, I'll evaluate the model's performance against the ground truth.\n\n**Ground Truth Analysis:**\n- Expected path: All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3+/- endpoints\n- Key gates: Singlets, **Live cells**, Lymphocytes, CD4+ T cells, FoxP3+ Treg, FoxP3- non-Treg\n\n**Observed Patterns:**\n\n1. **Consistent omission**: All 10 runs skip the \"Live cells\" gate - this is a systematic error\n2. **Terminal gate variability**: \n   - Runs 2-3: Only predict Treg (missing FoxP3- population entirely)\n   - Runs 1, 4, 8-10: Correctly predict both FoxP3+ and FoxP3- branches\n   - Runs 5-7: Only predict FoxP3+ Tregs\n3. **Naming variations**: \"Tregs\", \"FoxP3+ Tregs\", \"CD4+ FoxP3+ Tregs\", \"Regulatory T cells\" - semantically equivalent but lexically different\n4. **Core structure preserved**: All Events > Singlets > Lymphocytes > CD4+ T cells is 100% consistent\n\n**Quality Assessment:**\n- Best runs (1, 4, 8, 9, 10): Capture both branches correctly, only missing Live cells gate - approximately 85% of structure\n- Worst runs (2, 3): Miss entire FoxP3- branch and Live cells - approximately 60% of structure\n- Typical quality: Missing Live cells but correct branching structure in ~50% of runs\n\nMEDIAN_QUALITY: 6 (captures main Treg hierarchy but consistently omits Live cells gate; ~50% of runs capture both terminal branches)\nCONSISTENCY: 4 (core path stable but terminal gate completeness varies significantly - only 5/10 runs include both FoxP3+/- populations)\nWORST_CASE: 4 (runs 2-3 miss Live cells AND entire FoxP3- branch, reducing hierarchy to single path)\nBEST_CASE: 7 (runs 1,4,8-10 have correct branching structure, only missing Live cells viability gate)\nFAILURE_MODES: systematic Live cells gate omission, inconsistent FoxP3- branch inclusion, terminal gate naming variations\nRELIABILITY: medium The model reliably produces the core T cell hierarchy but unpredictably omits the FoxP3- conventional T cell branch in 50% of runs.\nSUMMARY: Claude Opus shows strong structural understanding of Treg gating but has a blind spot for viability gating and inconsistently predicts both terminal populations, making it unreliable for complete hierarchy prediction without human verification.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.4444444444444444,
      "unique_gate_sets": 6,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2482,
      "timestamp": "2026-01-13T05:35:05.105170",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.5,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing Time Gate, inverted Lymphocytes/Live cells order, inconsistent gate naming conventions, abstraction level mismatch (specific gates vs grouped categories)",
      "reliability": "medium The model reliably produces a reasonable T-cell gating hierarchy with functional analysis gates, but systematically omits early QC gates and inverts critical early gating steps.",
      "summary": "Claude Opus demonstrates strong domain knowledge of T-cell immunophenotyping and functional analysis but exhibits systematic structural errors in the early gating sequence (missing Time Gate, incorrect Live/Lymphocyte ordering) that would be problematic in actual flow cytometry analysis.",
      "raw_response": "## Evaluation of Claude Opus CLI on OMIP-022\n\n### Analysis\n\n**Structural Comparison with Ground Truth:**\n\nThe expected hierarchy follows: `All Events > Time Gate > Singlets > Live cells > Lymphocytes > T cells > CD4+/CD8+ > Memory Subsets/Functional Analysis`\n\nThe predictions consistently show: `All Events > Singlets > Lymphocytes > Live cells > Dump- > CD3+ T cells > CD4+/CD8+ > [specific gates]`\n\n**Key Observations:**\n\n1. **Missing Time Gate**: All 10 runs omit the Time Gate that should come immediately after All Events. This is a critical quality control gate.\n\n2. **Incorrect Lymphocytes/Live cells ordering**: All predictions place Lymphocytes before Live cells, whereas the ground truth has Live cells > Lymphocytes. This is a significant structural error - you gate live cells first, then identify lymphocytes within them.\n\n3. **Dump channel addition**: The model correctly adds a dump channel gate (CD14- CD19-) which is reasonable given the panel, though this is labeled differently across runs (\"Dump-\", \"Dump negative\", \"CD14- CD19-\").\n\n4. **Expanded leaf gates**: Instead of abstract groupings (\"Memory Subsets\", \"Functional Analysis\"), the model provides specific gates (Naive, CM, EM, TEMRA, IFN-\u03b3+, TNF-\u03b1+, IL-2+, etc.). This is actually more informative but doesn't match the abstraction level of the ground truth.\n\n5. **Naming inconsistencies**: Gate naming varies between runs:\n   - \"CD4+ Naive\" vs \"Naive CD4\" vs \"Naive CD4+\"\n   - \"Dump-\" vs \"Dump negative\" vs \"CD14- CD19- (Dump-)\"\n\n6. **Run 8 differs**: Shows `Live cells > Lymphocytes` order (one of two orderings seen), while 9/10 runs show `Lymphocytes > Live cells`.\n\n---\n\nMEDIAN_QUALITY: 6 (captures T cell hierarchy and functional gates well, but has systematic structural errors in early gating sequence)\n\nCONSISTENCY: 5 (core structure is similar across runs but gate naming varies significantly; 6 unique gate sets from 10 runs)\n\nWORST_CASE: 5 (Run 1 with verbose dump gate naming and inverted lymphocyte/live ordering)\n\nBEST_CASE: 7 (Runs with cleaner naming still miss Time Gate and have ordering issues)\n\nFAILURE_MODES: missing Time Gate, inverted Lymphocytes/Live cells order, inconsistent gate naming conventions, abstraction level mismatch (specific gates vs grouped categories)\n\nRELIABILITY: medium The model reliably produces a reasonable T-cell gating hierarchy with functional analysis gates, but systematically omits early QC gates and inverts critical early gating steps.\n\nSUMMARY: Claude Opus demonstrates strong domain knowledge of T-cell immunophenotyping and functional analysis but exhibits systematic structural errors in the early gating sequence (missing Time Gate, incorrect Live/Lymphocyte ordering) that would be problematic in actual flow cytometry analysis.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_direct_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2219,
      "timestamp": "2026-01-13T05:35:32.149479",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.4,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "missing Time gate, missing Non-beads gate, missing Non-aggregates gate, missing Myeloid intermediate structure, missing HLA-DR+ myeloid gate, incorrect monocyte parent hierarchy, simplified lymphocyte hierarchy",
      "reliability": "medium - Model reliably identifies terminal populations but inconsistently reconstructs intermediate gating hierarchy",
      "summary": "Claude Opus correctly identifies most cell populations but systematically omits QC gates and the myeloid intermediate hierarchy, with moderate structural variation across runs.",
      "raw_response": "Looking at the 10 runs, I need to compare the predictions against the ground truth hierarchy for OMIP-101.\n\n**Key observations:**\n\n1. **Missing intermediate gates**: The ground truth has a very deep hierarchy with gates like \"Time gate\", \"Non-beads\", \"Non-aggregates\" that are consistently missing from all predictions. The model simplifies to: All Events > Singlets > Leukocytes, skipping critical QC gates.\n\n2. **Structural variations across runs**:\n   - Runs 1, 2, 7, 8, 9, 10: Monocytes directly under Leukocytes\n   - Runs 3, 5: Added \"Non-Granulocytes\" intermediate gate\n   - Runs 4, 6: Added \"Live Cells\", \"CD45+ Leukocytes\", and marker-prefixed gates (CD66-, CD14+)\n\n3. **Missing ground truth structure**: The expected path goes through \"Myeloid cells > Non-T/B/NK contamination > HLA-DR+ myeloid\" before monocyte subtypes - no run captures this.\n\n4. **Terminal populations mostly correct**: Classical/Intermediate/Non-classical monocytes, Neutrophils, Eosinophils, B cell subsets, NK subsets, T cell subsets are generally present across runs.\n\n5. **Consistency issues**: Despite 0/10 unique gate sets reported, there are meaningful structural differences between runs (some add Live Cells, some add Non-Granulocytes, marker prefix variations).\n\n**Recurring errors**:\n- All runs miss Time gate, Non-beads, Non-aggregates\n- All runs miss the Myeloid > Non-T/B/NK contamination > HLA-DR+ myeloid intermediate structure\n- Monocytes placed under wrong parent (not under myeloid branch)\n- Lymphocytes/B cells/NK cells hierarchy simplified\n\nMEDIAN_QUALITY: 5 (captures most terminal populations but misses critical intermediate gates and has incorrect parent structure)\nCONSISTENCY: 4 (structural variations between runs - some add Live Cells/CD45+, some add Non-Granulocytes, some don't)\nWORST_CASE: 4 (runs 1,2,7,8 with flattest hierarchy missing Non-Granulocytes)\nBEST_CASE: 6 (runs 4,6 with Live Cells and marker-based gates show more thoughtful structure)\nFAILURE_MODES: missing Time gate, missing Non-beads gate, missing Non-aggregates gate, missing Myeloid intermediate structure, missing HLA-DR+ myeloid gate, incorrect monocyte parent hierarchy, simplified lymphocyte hierarchy\nRELIABILITY: medium - Model reliably identifies terminal populations but inconsistently reconstructs intermediate gating hierarchy\nSUMMARY: Claude Opus correctly identifies most cell populations but systematically omits QC gates and the myeloid intermediate hierarchy, with moderate structural variation across runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-074",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2395,
      "timestamp": "2026-01-13T05:36:00.086087",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.3,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing Time gate, missing Lymphocytes gate, wrong memory B cell taxonomy (misses RM/AM/TLM), hallucinated Kappa/Lambda subdivisions, inconsistent CD20/CD27 placement, IgE frequently omitted",
      "reliability": "low - While the model understands B cell class-switching logic, it produces a different hierarchy structure every run and consistently misses the specific memory phenotype classifications (RM/AM/TLM) that are central to this OMIP.",
      "summary": "Model demonstrates immunological knowledge of B cell subclasses but lacks consistency and fails to reproduce the paper-specific memory B cell taxonomy, making it unreliable for exact gating strategy prediction.",
      "raw_response": "Looking at the 10 runs, I'll evaluate claude-opus-cli's performance on OMIP-074 (B cell IgG/IgA subclass phenotyping).\n\n**Key Observations:**\n\n1. **Structural deviations from ground truth**: Ground truth has `Time gate > Singlets > Lymphocytes > Live cells > B cells` but all 10 runs omit the Time gate, and most use `Singlets > Live Cells > B cells` (skipping Lymphocytes or reordering Live/Lymphocytes).\n\n2. **Memory B cell classification varies wildly**:\n   - Ground truth uses: Naive, Resting Memory (RM), Activated Memory (AM), Tissue-like Memory (TLM)\n   - Runs use various schemas: \"Switched Memory\", \"Unswitched Memory\", \"IgM Memory\", \"CD27+ Memory\", etc.\n   - No run captures the RM/AM/TLM memory phenotypes from ground truth\n\n3. **IgG/IgA subclass hierarchy mostly correct**: Most runs correctly capture `IgG+ > IgG1+/IgG2+/IgG3+/IgG4+` and `IgA+ > IgA1+/IgA2+` structure\n\n4. **Light chain (Kappa/Lambda) additions**: Many runs add Kappa+/Lambda+ subdivisions not in ground truth - this is technically valid for the panel but represents hallucination relative to the expected hierarchy\n\n5. **CD20+, CD27+ gates added inconsistently**: Some runs add CD20+ and CD27+ intermediate gates not specified in ground truth\n\n6. **IgE+ captured inconsistently**: Only a few runs include IgE+ B cells (present in ground truth)\n\nMEDIAN_QUALITY: 6 (captures B cell subclass structure but misses memory phenotypes and early gating gates)\nCONSISTENCY: 3 (every run produces a different hierarchy structure; 10 unique gate sets)\nWORST_CASE: 5 (Run 6 is shallow with missing subclasses and unusual IgD+ parallel branch)\nBEST_CASE: 7 (Runs 7-8 have reasonable depth and capture class-switching logic correctly)\nFAILURE_MODES: missing Time gate, missing Lymphocytes gate, wrong memory B cell taxonomy (misses RM/AM/TLM), hallucinated Kappa/Lambda subdivisions, inconsistent CD20/CD27 placement, IgE frequently omitted\nRELIABILITY: low - While the model understands B cell class-switching logic, it produces a different hierarchy structure every run and consistently misses the specific memory phenotype classifications (RM/AM/TLM) that are central to this OMIP.\nSUMMARY: Model demonstrates immunological knowledge of B cell subclasses but lacks consistency and fails to reproduce the paper-specific memory B cell taxonomy, making it unreliable for exact gating strategy prediction.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-087",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3032,
      "timestamp": "2026-01-13T05:36:27.050531",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.3,
      "worst_case": 0.6,
      "best_case": 0.8,
      "failure_modes": "inconsistent hierarchy depth, variable gate naming conventions, adds scatter gates inappropriate for CyTOF, uses standard nomenclature instead of paper-specific terms, over-elaborates exclusion gates",
      "reliability": "medium The model reliably captures T cell immunophenotyping biology but produces structurally inconsistent outputs that would require standardization for quantitative comparison.",
      "summary": "Strong biological reasoning produces scientifically valid gating strategies, but high structural variability across runs and deviation from paper-specific terminology limit quantitative reproducibility.",
      "raw_response": "Looking at these 10 predictions against the ground truth for OMIP-087 (a CyTOF panel for CD4/CD8 memory subsets), I'll analyze the model's performance.\n\n**Key Observations:**\n\n1. **Core biological content is correct**: All runs correctly identify the major T cell subsets (CD4+, CD8+), memory subsets (Naive, Central Memory, Effector Memory, TEMRA), and specialized populations (Tregs, Tfh, Th1/Th2/Th17, \u03b3\u03b4 T cells).\n\n2. **Structural variation is the main issue**: The model produces 10 unique hierarchies because it varies:\n   - Pre-T cell gating steps (Intact Cells, Singlets, Live Cells order varies)\n   - Lineage exclusion naming (Lineage-negative, CD14- CD19-, Non-B Non-Monocyte)\n   - Gate naming conventions (with/without marker definitions like \"CD45RA+ CCR7+\")\n\n3. **Ground truth mismatch**: The expected hierarchy is unusually flat (no singlets, no live/dead gate - appropriate for CyTOF) and simpler than predictions. The model over-elaborates but doesn't hallucinate biologically incorrect gates.\n\n4. **Scientifically valid additions**: All runs add biologically reasonable detail beyond ground truth (Th subsets, RTEs, \u03b3\u03b4 T cells) that would be appropriate for a 32-parameter mass cytometry panel.\n\n5. **Consistent omission**: The ground truth's specific terminology (\"Stem cell memory\", \"Transitional memory\", \"Terminal effector\") is often replaced with standard nomenclature (TEMRA instead of Terminal effector).\n\nMEDIAN_QUALITY: 7 (captures core biology correctly with appropriate detail for the panel complexity)\nCONSISTENCY: 3 (10 unique gate sets, high structural variability despite consistent biology)\nWORST_CASE: 6 (all runs produce scientifically valid hierarchies, none catastrophically wrong)\nBEST_CASE: 8 (several runs capture nearly all expected populations with reasonable structure)\nFAILURE_MODES: inconsistent hierarchy depth, variable gate naming conventions, adds scatter gates inappropriate for CyTOF, uses standard nomenclature instead of paper-specific terms, over-elaborates exclusion gates\nRELIABILITY: medium The model reliably captures T cell immunophenotyping biology but produces structurally inconsistent outputs that would require standardization for quantitative comparison.\nSUMMARY: Strong biological reasoning produces scientifically valid gating strategies, but high structural variability across runs and deviation from paper-specific terminology limit quantitative reproducibility.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-064",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2348,
      "timestamp": "2026-01-13T05:36:54.908403",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.4,
      "worst_case": 0.6,
      "best_case": 0.8,
      "failure_modes": "ILC subsetting inconsistent, structural organization varies between runs, NK cell parent placement unstable, excessive depth beyond ground truth",
      "reliability": "medium The model reliably identifies all major populations but structural organization is inconsistent across runs, making automated scoring difficult.",
      "summary": "Claude Opus produces scientifically detailed hierarchies that exceed ground truth depth but lacks consistency in structural organization, particularly for ILC/NK lineages.",
      "raw_response": "Looking at the 10 runs, I need to compare each prediction against the expected hierarchy:\n\n**Expected (simplified):**\n- T cells \u2192 MAIT cells, \u03b3\u03b4 T cells\n- Innate Lymphoid Cells \u2192 NK cells \u2192 Activated NK cells\n- Innate Lymphoid Cells \u2192 Other ILC subsets\n\n**Analysis of predictions across runs:**\n\n**Strengths (consistent across all runs):**\n- All runs correctly identify: Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 T cells\n- All runs correctly gate \u03b3\u03b4 T cells with V\u03b42+/V\u03b42- subsets (more detail than expected)\n- All runs correctly identify MAIT cells with CD8+/DN subsets (more detail than expected)\n- NK cell identification present in most runs with appropriate subsetting\n\n**Weaknesses/Variations:**\n1. **ILC handling varies significantly**: Some runs place ILCs under \"Lin- cells\" (Runs 2, 4, 7, 8), others under different parents, and the expected \"Other ILC subsets\" is rarely matched exactly\n2. **Structural organization differs**: Run 10 adds \"Time Gate\", Run 1 uses \"\u03b1\u03b2 T cells\" parent, others use \"TCRgd-\" as parent\n3. **Depth variation**: Run 7 has 25 gates, others have 14-18 gates\n4. **NK cell parent inconsistent**: Sometimes under \"CD3- lymphocytes > Lin- cells\", sometimes under \"ILCs\"\n5. **\"Activated NK cells\"** from expected hierarchy is not consistently captured - runs show functional markers (NKG2A, KIR, etc.) but not \"Activated\" as a gate\n\n**Key observation**: The model provides MORE detailed hierarchies than the expected ground truth, which is scientifically reasonable but structurally different. The expected hierarchy is quite simplified; the predictions are more comprehensive.\n\nMEDIAN_QUALITY: 7 (predictions are scientifically sound and more detailed than ground truth, but structural organization varies from expected)\nCONSISTENCY: 4 (10 unique gate sets, structural organization of same populations varies between runs)\nWORST_CASE: 6 (Run 10 adds non-standard \"Time Gate\", some runs miss ILC subsets entirely)\nBEST_CASE: 8 (Runs 2, 4, 7 capture all major populations with appropriate subsetting including NK/ILC lineages)\nFAILURE_MODES: ILC subsetting inconsistent, structural organization varies between runs, NK cell parent placement unstable, excessive depth beyond ground truth\nRELIABILITY: medium The model reliably identifies all major populations but structural organization is inconsistent across runs, making automated scoring difficult.\nSUMMARY: Claude Opus produces scientifically detailed hierarchies that exceed ground truth depth but lacks consistency in structural organization, particularly for ILC/NK lineages.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-025",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.2222222222222222,
      "unique_gate_sets": 8,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2462,
      "timestamp": "2026-01-13T05:37:22.905654",
      "error": null,
      "median_quality": 0.8,
      "consistency": 0.6,
      "worst_case": 0.7,
      "best_case": 0.9,
      "failure_modes": "naming inconsistency (Naive CD4 vs Naive CD4+ vs Naive), variable granularity (functional markers as siblings vs children of memory), extra hierarchy levels in some runs",
      "reliability": "medium-high The model reliably identifies the correct populations and relationships but exhibits moderate stochasticity in naming conventions and hierarchy depth.",
      "summary": "Claude Opus demonstrates strong domain knowledge for T/NK immunophenotyping with predictions that are biologically correct and often more detailed than the ground truth, though naming and structural granularity vary across runs.",
      "raw_response": "Looking at the 10 predictions against the expected hierarchy for OMIP-025 (T- and NK-cell responses including memory and Tfh):\n\n**Key Observations:**\n\n1. **Core structure is consistently correct**: All 10 runs correctly identify the main gating path: All Events \u2192 Singlets \u2192 Live Cells \u2192 Lymphocytes \u2192 T cells (CD3+) \u2192 CD4+/CD8+ subsets \u2192 Memory subsets + Tfh + Functional subsets, and NK cells with functional subsets.\n\n2. **Additional dump gate**: All runs add a \"CD14- CD19-\" lineage exclusion gate not in the ground truth. This is actually standard practice for T/NK panels and represents domain knowledge, not an error.\n\n3. **Granularity differences**: The predictions enumerate specific memory subsets (Naive, CM, EM, TEMRA) and functional markers (IFN-\u03b3+, IL-2+, TNF-\u03b1+, etc.) while the ground truth uses aggregate categories (\"CD4+ Memory subsets\", \"CD4+ Functional subsets\"). The predictions are more detailed but semantically aligned.\n\n4. **Variability sources**:\n   - Run 1 adds an extra \"Cells\" gate before Singlets\n   - Runs 4 and 9 place functional markers as children of memory subsets (more granular)\n   - Run 6 includes marker annotations in gate names\n   - Run 9 uses abbreviated gate names (just \"Naive\" vs \"Naive CD4\")\n\n5. **All runs capture the essential biology**: NK cells, CD4+ T cells (with Tfh), CD8+ T cells, memory differentiation, and functional readouts are present in every prediction.\n\nMEDIAN_QUALITY: 8 (predictions capture correct biology with appropriate detail; structure matches expected hierarchy semantically)\nCONSISTENCY: 6 (same biological content but varying granularity and naming conventions across runs; 8 unique gate sets)\nWORST_CASE: 7 (Run 1's extra \"Cells\" gate and Run 9's overly terse naming reduce clarity but preserve correctness)\nBEST_CASE: 9 (Runs 3, 5, 7, 10 produce clean, well-structured hierarchies with appropriate detail)\nFAILURE_MODES: naming inconsistency (Naive CD4 vs Naive CD4+ vs Naive), variable granularity (functional markers as siblings vs children of memory), extra hierarchy levels in some runs\nRELIABILITY: medium-high The model reliably identifies the correct populations and relationships but exhibits moderate stochasticity in naming conventions and hierarchy depth.\nSUMMARY: Claude Opus demonstrates strong domain knowledge for T/NK immunophenotyping with predictions that are biologically correct and often more detailed than the ground truth, though naming and structural granularity vary across runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-083",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 3028,
      "timestamp": "2026-01-13T05:37:48.472238",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.2,
      "worst_case": 0.4,
      "best_case": 0.6,
      "failure_modes": "over-elaboration of hierarchy depth, adds unrequested functional subsets, misses \"Other Monocyte Subsets\" grouping node, inconsistent gate naming across runs, misses \"Cleaned Events\" gate",
      "reliability": "low - Model correctly identifies monocyte biology but cannot reproduce the specific hierarchy structure requested, and shows high variance in exact gate names and depths across runs.",
      "summary": "The model demonstrates strong domain knowledge of monocyte immunophenotyping but consistently over-engineers the hierarchy with additional gates and functional subsets not present in ground truth, while failing to match the expected grouping structure.",
      "raw_response": "Looking at these 10 predictions against the ground truth, I'll analyze the model's performance systematically.\n\n**Ground Truth Structure:**\n- Simple 4-level hierarchy: All Events \u2192 Cleaned Events \u2192 Leukocytes \u2192 Non-granulocytes \u2192 Monocytes \u2192 {Classical, Other Monocyte Subsets}\n- Other Monocyte Subsets contains: Intermediate, SLAN+ Nonclassical, SLAN- Nonclassical\n- Total: 10 gates in a clean, compact hierarchy\n\n**Key Observations Across Runs:**\n\n1. **Structural Inflation**: All predictions create 7-11 level hierarchies vs ground truth's 6 levels. Every run adds gates like Singlets, CD45+, Lin-, CD66b-, CD42b-, HLA-DR+ as separate hierarchy levels.\n\n2. **Core Monocyte Subsets**: The model consistently identifies Classical, Intermediate, and Non-classical monocytes (10/10 runs), and usually splits non-classical into SLAN+ and SLAN- variants (8/10 runs).\n\n3. **Over-elaboration**: Every run adds functional subsets not in ground truth: CCR2+, CX3CR1+, TLR2+, CD36+, CD86+, PD-1+, CD64hi subpopulations. This is technically valid flow cytometry but exceeds what was asked.\n\n4. **Missing \"Other Monocyte Subsets\" grouping**: No run uses the ground truth's grouping structure where Intermediate and Nonclassical are children of \"Other Monocyte Subsets.\"\n\n5. **Naming inconsistency**: Gate names vary substantially (e.g., \"Non-classical\" vs \"Nonclassical\" vs \"Non-classical Monocytes\"), contributing to 10/10 unique gate sets.\n\n6. **Missing \"Cleaned Events\"**: No run includes this gate from ground truth.\n\n**Metrics Assessment:**\n\nMEDIAN_QUALITY: 5\nCONSISTENCY: 2\nWORST_CASE: 4\nBEST_CASE: 6\nFAILURE_MODES: over-elaboration of hierarchy depth, adds unrequested functional subsets, misses \"Other Monocyte Subsets\" grouping node, inconsistent gate naming across runs, misses \"Cleaned Events\" gate\nRELIABILITY: low - Model correctly identifies monocyte biology but cannot reproduce the specific hierarchy structure requested, and shows high variance in exact gate names and depths across runs.\nSUMMARY: The model demonstrates strong domain knowledge of monocyte immunophenotyping but consistently over-engineers the hierarchy with additional gates and functional subsets not present in ground truth, while failing to match the expected grouping structure.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-035",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2277,
      "timestamp": "2026-01-13T05:38:16.673926",
      "error": null,
      "median_quality": 0.4,
      "consistency": 0.3,
      "worst_case": 0.3,
      "best_case": 0.5,
      "failure_modes": "missing Live cells gate, incorrect KIR hierarchy structure, applies human CD56bright/dim paradigm to macaque panel, inconsistent naming conventions, fails to enumerate Mamu-KIR combinatorial gates",
      "reliability": "low The model applies generic NK cell gating patterns rather than adapting to the specific macaque KIR repertoire analysis required by OMIP-035.",
      "summary": "Model demonstrates domain knowledge of NK cell biology but fails to reproduce the specific Mamu-KIR combinatorial gating hierarchy, instead defaulting to human-centric CD56 stratification patterns across all runs.",
      "raw_response": "Looking at the model's predictions across 10 runs against the ground truth for OMIP-035 (rhesus macaque NK cell functional analysis):\n\n**Key Observations:**\n\n1. **Missing \"Live cells\" gate**: All 10 runs skip the Live cells gate, going directly from Singlets to Lymphocytes. This is a critical quality control step that should be present.\n\n2. **Incorrect hierarchical structure for KIR gates**: The ground truth uses a specific pattern:\n   - NK cells \u2192 Mamu-KIR3DL01+ \u2192 KIR3DL05+/- (and vice versa for KIR3DL01-)\n   \n   The model instead consistently structures around CD56bright/CD56dim subsets first, then applies KIR markers as leaves. This is a fundamentally different gating philosophy.\n\n3. **CD16/CD56 classification differs**: Ground truth has flat CD16+CD56+, CD16+CD56-, CD16-CD56+ gates under NK cells. Model uses CD56bright/CD56dim as primary division, which is biologically reasonable but doesn't match the expected hierarchy.\n\n4. **Naming variations**: \"NK cells\" vs \"NK Cells\", inconsistent capitalization, some runs add \"Cells\" gate between All Events and Singlets.\n\n5. **No prediction captures the Mamu-KIR dual-negative/dual-positive combinatorial logic**: The ground truth explicitly enumerates all 4 combinations of KIR3DL01+/- \u00d7 KIR3DL05+/-, which is important for this rhesus macaque panel. The model partially captures this in some runs but structures it differently.\n\n**Scoring Rationale:**\n- The model understands this is an NK cell panel with KIR markers\n- It captures the right markers (CD56, CD16, KIR3DL01, KIR3DL05)\n- But it applies a human NK cell gating paradigm (CD56bright/dim) rather than the specific macaque KIR repertoire analysis required\n- Structure is consistently wrong across all runs\n\nMEDIAN_QUALITY: 4 (captures correct markers but wrong hierarchical structure and missing Live gate)\nCONSISTENCY: 3 (same general approach but 10 unique gate sets with varying depths and naming)\nWORST_CASE: 3 (Run 10 has only 6 gates, missing significant depth)\nBEST_CASE: 5 (Run 2 with 12 gates captures more KIR combinations)\nFAILURE_MODES: missing Live cells gate, incorrect KIR hierarchy structure, applies human CD56bright/dim paradigm to macaque panel, inconsistent naming conventions, fails to enumerate Mamu-KIR combinatorial gates\nRELIABILITY: low The model applies generic NK cell gating patterns rather than adapting to the specific macaque KIR repertoire analysis required by OMIP-035.\nSUMMARY: Model demonstrates domain knowledge of NK cell biology but fails to reproduce the specific Mamu-KIR combinatorial gating hierarchy, instead defaulting to human-centric CD56 stratification patterns across all runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-095",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2232,
      "timestamp": "2026-01-13T05:38:42.104739",
      "error": null,
      "median_quality": 0.7,
      "consistency": 0.2,
      "worst_case": 0.0,
      "best_case": 0.8,
      "failure_modes": "task refusal with meta-commentary instead of output, response truncation, inconsistent Time gate inclusion, variable nomenclature",
      "reliability": "low - 40% of runs produce unusable outputs; the model frequently fails to follow instructions and outputs analysis about the panel rather than the requested gating hierarchy",
      "summary": "When claude-opus-cli succeeds, it produces high-quality hierarchies with appropriate detail, but it fails catastrophically in 40% of runs by outputting meta-commentary instead of following the task instructions.",
      "raw_response": "Looking at these 10 runs, I can evaluate the model's performance:\n\n**Parse Failures (Runs 2, 4, 6, 7):** 4 out of 10 runs produced malformed outputs - the model outputted meta-commentary about the panel rather than actual gating hierarchies. Run 7 was truncated at just 4 gates. This is a 40% task failure rate.\n\n**Successful Runs (1, 3, 5, 8, 9, 10):** These 6 runs produced valid hierarchies that largely match the expected structure:\n- Core gates present: Singlets \u2192 Live cells \u2192 CD45+ Leukocytes \u2192 T cells/B cells/NK cells/etc.\n- Appropriate depth with memory/naive subsets for T cells\n- Correct parent-child relationships\n- Minor variations: Some include \"Time\" gate, some use \"CD3+ T Cells\" vs \"T Cells\"\n\n**Comparison to Ground Truth:**\n- All successful runs capture the major populations (T cells, B cells, NK cells, Monocytes, DCs, Macrophages)\n- Runs add appropriate granularity (Tregs, memory subsets) consistent with a 40-color panel\n- Structure matches expected hierarchy pattern\n- Missing: ILCs explicitly named in some runs, but panel supports this identification\n\n**Key Issues:**\n1. 40% complete task failures (non-hierarchy outputs)\n2. Inconsistent \"Time\" gate inclusion\n3. Varying nomenclature (CD3+ T Cells vs T Cells)\n4. Different subset depths across runs\n\nMEDIAN_QUALITY: 7 (successful runs produce good hierarchies matching ground truth structure with appropriate detail)\nCONSISTENCY: 2 (40% task failures, remaining runs show different gate counts and naming)\nWORST_CASE: 0 (runs 2, 4, 6, 7 are complete failures - no valid hierarchy produced)\nBEST_CASE: 8 (runs 5, 8, 10 produce comprehensive hierarchies with correct structure and appropriate subsets)\nFAILURE_MODES: task refusal with meta-commentary instead of output, response truncation, inconsistent Time gate inclusion, variable nomenclature\nRELIABILITY: low - 40% of runs produce unusable outputs; the model frequently fails to follow instructions and outputs analysis about the panel rather than the requested gating hierarchy\nSUMMARY: When claude-opus-cli succeeds, it produces high-quality hierarchies with appropriate detail, but it fails catastrophically in 40% of runs by outputting meta-commentary instead of following the task instructions.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-076",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2479,
      "timestamp": "2026-01-13T05:39:14.130050",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.4,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "ICOS+ placed under Tfh instead of Treg, Tfh hallucination, inconsistent TCR\u03b2+ usage, variable naming conventions, APC lineage additions not in ground truth",
      "reliability": "medium The model reliably identifies major T and B cell subsets with correct memory/naive distinctions, but makes consistent errors in Treg subgating and adds populations beyond the ground truth scope.",
      "summary": "Claude Opus demonstrates strong domain knowledge of murine immunophenotyping with accurate T/B cell subset identification, but exhibits systematic misattribution of ICOS+ to Tfh rather than Tregs and inconsistent structural choices across runs.",
      "raw_response": "Looking at these predictions across 10 runs, I need to evaluate the model's performance against the ground truth hierarchy.\n\n**Key Observations:**\n\n1. **Structural Architecture Differences:**\n   - Ground truth uses: `Lymphocytes > B cells/T cells`\n   - Model consistently uses: `CD45+ Leukocytes > T cells` (adds CD45+ gate, sometimes TCR\u03b2+)\n   - Model adds an intermediate CD4+/CD8+ layer before subsets\n\n2. **B Cell Lineage - Consistently Missing:**\n   - Ground truth includes: Plasma cells, Plasmablasts, Activated B cells, Memory B cells\n   - Model predictions: All 10 runs include B cell gates (B220+ B cells with subsets like germinal center, memory, plasma cells)\n   - The B cell populations ARE present but with different naming/structure\n\n3. **T Cell Subsets - Accurately Captured:**\n   - Naive, Central Memory, Effector Memory T cells: Present in all runs\n   - Tregs: Present in all runs\n   - ICOS+ subset: Present in all runs (though placed under Tfh rather than Treg)\n\n4. **Consistency Issues:**\n   - Runs 1, 5, 6 use \"TCR\u03b2+ T Cells\" as parent\n   - Runs 2, 3, 4, 7, 8, 9, 10 use \"T Cells\" \n   - Run 9 adds intermediate \"Memory CD4+ T cells\" node\n   - Run 10 drops \"CD45+\" from Leukocytes\n   - Naming varies: \"Tregs\" vs \"Regulatory T Cells (Tregs)\" vs \"Regulatory T cells\"\n\n5. **Critical Error:**\n   - ICOS+ is placed under Tfh in all runs, but ground truth has it under Tregs\n   - This is a consistent misattribution across all runs\n\n6. **Hallucinations:**\n   - Tfh cells (not in ground truth)\n   - APCs/Dendritic cells/Macrophages in many runs (reasonable for panel but not in ground truth)\n\nMEDIAN_QUALITY: 6 (captures most T cell subsets correctly, B cells present with different structure, but ICOS+ parent error and added APC lineage)\nCONSISTENCY: 4 (all runs have similar overall structure but differ in intermediate gates, naming conventions, and exact subset organization)\nWORST_CASE: 5 (Run 9 adds extra intermediate nodes, Run 6 has 18 gates with extra APC detail)\nBEST_CASE: 7 (Runs 2, 3, 8 closest to expected structure with cleaner hierarchy)\nFAILURE_MODES: ICOS+ placed under Tfh instead of Treg, Tfh hallucination, inconsistent TCR\u03b2+ usage, variable naming conventions, APC lineage additions not in ground truth\nRELIABILITY: medium The model reliably identifies major T and B cell subsets with correct memory/naive distinctions, but makes consistent errors in Treg subgating and adds populations beyond the ground truth scope.\nSUMMARY: Claude Opus demonstrates strong domain knowledge of murine immunophenotyping with accurate T/B cell subset identification, but exhibits systematic misattribution of ICOS+ to Tfh rather than Tregs and inconsistent structural choices across runs.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-008",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.33333333333333337,
      "unique_gate_sets": 7,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1332,
      "timestamp": "2026-01-13T05:39:41.436771",
      "error": null,
      "median_quality": 0.5,
      "consistency": 0.6,
      "worst_case": 0.3,
      "best_case": 0.6,
      "failure_modes": "missing Live cells gate, missing T cells parent gate, hallucinating DP/DN populations, occasional spurious Cells gate",
      "reliability": "medium The model reliably identifies the key terminal populations (CD4+/CD8+) but systematically underestimates hierarchy depth by omitting viability and lineage gates.",
      "summary": "Claude Opus consistently predicts the correct terminal T cell subsets but fails to reconstruct the full 6-level hierarchy, omitting the Live cells viability gate and T cells lineage gate in every run.",
      "raw_response": "Looking at these 10 predictions against the ground truth, I'll evaluate systematically.\n\n**Ground Truth Analysis:**\nThe expected hierarchy has 6 levels: All Events \u2192 Singlets \u2192 Live cells \u2192 Lymphocytes \u2192 T cells \u2192 CD4+/CD8+ T cells\n\n**Key Observations Across Runs:**\n\n1. **Missing critical gates consistently:**\n   - \"Live cells\" gate is missing in ALL 10 runs (0/10)\n   - \"T cells\" parent gate is missing in ALL 10 runs (0/10)\n   - CD4+/CD8+ are always placed directly under Lymphocytes or Singlets, skipping the T cell parent\n\n2. **Structural variations:**\n   - Runs 1,2,3,4,6,7,10: All Events \u2192 Singlets \u2192 Lymphocytes \u2192 CD4+/CD8+\n   - Run 5,8: Add spurious \"Cells\" gate between All Events and Singlets\n   - Run 9: Skips Lymphocytes entirely (All Events \u2192 Singlets \u2192 CD4+/CD8+)\n\n3. **Hallucinations:**\n   - Runs 2,3,4,5,8,9: Add Double Positive (DP) and/or Double Negative (DN) gates not in ground truth\n   - These are plausible biologically but not part of the expected hierarchy\n\n4. **Best case (Runs 1,6,7,10):** Correct structure except missing Live cells and T cells gates\n5. **Worst case (Run 9):** Missing both Lymphocytes AND Live cells/T cells gates\n\n**Scoring Rationale:**\n- The model consistently gets the terminal gates right (CD4+/CD8+ T cells)\n- It consistently gets Singlets\n- It systematically omits 2 critical intermediate gates (Live cells, T cells)\n- The hierarchy depth is wrong: predicts 4 levels instead of 6\n- Hallucinations are frequent but \"reasonable\" (DP/DN gates are real but not in this protocol)\n\nMEDIAN_QUALITY: 5 (correctly identifies key populations but consistently misses 2/6 hierarchy levels)\nCONSISTENCY: 6 (core structure is stable across runs; variations are in hallucinated gates and minor ordering)\nWORST_CASE: 3 (Run 9 omits Lymphocytes gate entirely, creating a very shallow hierarchy)\nBEST_CASE: 6 (Runs 1,6,7,10 have correct terminal gates and reasonable intermediate structure, just missing Live/T cells)\nFAILURE_MODES: missing Live cells gate, missing T cells parent gate, hallucinating DP/DN populations, occasional spurious Cells gate\nRELIABILITY: medium The model reliably identifies the key terminal populations (CD4+/CD8+) but systematically underestimates hierarchy depth by omitting viability and lineage gates.\nSUMMARY: Claude Opus consistently predicts the correct terminal T cell subsets but fails to reconstruct the full 6-level hierarchy, omitting the Live cells viability gate and T cells lineage gate in every run.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-077",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2096,
      "timestamp": "2026-01-13T05:40:10.067017",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.2,
      "worst_case": 0.5,
      "best_case": 0.7,
      "failure_modes": "missing Live cells gate, Lymphocytes intermediate hallucination, Plasmablasts substituted for Marginal Zone B, NK-T cells omitted, inconsistent gate naming, variable hierarchy depth",
      "reliability": "low The model captures immunologically relevant populations but produces inconsistent hierarchies across runs with systematic omission of the Live cells gate, making it unreliable for reproducible gating strategy generation.",
      "summary": "Claude Opus demonstrates strong domain knowledge (correct populations, valid NK subsets) but poor structural consistency and systematically omits the viability gate, suggesting it relies on general immunology knowledge rather than reproducing the specific OMIP-077 protocol.",
      "raw_response": "Looking at the 10 predictions against the ground truth for OMIP-077, I'll analyze the model's performance systematically.\n\n**Key Observations:**\n\n1. **Structural Variations:** Every run produces a slightly different hierarchy structure:\n   - Some include \"Live cells\" (ground truth has it), most omit it\n   - Variable inclusion of intermediate gates like \"Lymphocytes\", \"Non-Granulocytes\", \"CD3- CD19-\"\n   - Run 2 adds spurious \"Cells\" gate; Run 8 adds \"Time Gate\"\n\n2. **Gate Coverage:** Most runs capture the major populations (T cells, B cells, NK cells, Monocytes, DCs, Granulocytes) but with different naming and organization\n\n3. **Missing from Ground Truth:**\n   - \"NK-T cells\" - not predicted in any run\n   - \"Marginal Zone B cells\" - replaced with \"Plasmablasts\" in all runs\n   - Specific DC subsets vary\n\n4. **Hallucinations/Additions:**\n   - NK subset splitting (CD56bright/dim) not in ground truth but immunologically valid\n   - \"Lymphocytes\" intermediate gate added in 8/10 runs (not in ground truth)\n   - \"Granulocytes\" grouping added (not explicit in ground truth structure)\n\n5. **Critical Gates:**\n   - Singlets: \u2713 all runs\n   - Live cells: \u2717 missing in 9/10 runs\n   - Leukocytes/CD45+: \u2713 all runs\n   - Core populations: \u2713 present but structured differently\n\n6. **Consistency Issues:** 0% consistency score means every run produced a unique hierarchy - the model is not deterministic in its structural decisions despite getting most populations correct.\n\nMEDIAN_QUALITY: 6 (captures major populations correctly but systematically misses Live cells gate, adds intermediate Lymphocyte grouping, substitutes Marginal Zone B for Plasmablasts)\nCONSISTENCY: 2 (10 unique hierarchies, variable intermediate gates, inconsistent naming conventions like CD45+ vs Leukocytes)\nWORST_CASE: 5 (Run 3 introduces Non-Granulocytes intermediate; Run 7 uses verbose marker-based names)\nBEST_CASE: 7 (Runs 1,5 have cleaner structure closer to expected, though still missing Live cells)\nFAILURE_MODES: missing Live cells gate, Lymphocytes intermediate hallucination, Plasmablasts substituted for Marginal Zone B, NK-T cells omitted, inconsistent gate naming, variable hierarchy depth\nRELIABILITY: low The model captures immunologically relevant populations but produces inconsistent hierarchies across runs with systematic omission of the Live cells gate, making it unreliable for reproducible gating strategy generation.\nSUMMARY: Claude Opus demonstrates strong domain knowledge (correct populations, valid NK subsets) but poor structural consistency and systematically omits the viability gate, suggesting it relies on general immunology knowledge rather than reproducing the specific OMIP-077 protocol.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-053",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.2222222222222222,
      "unique_gate_sets": 8,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 1146,
      "timestamp": "2026-01-13T05:40:34.675210",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.5,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "missing viability gate, incomplete branch prediction, gate name over-specification, hallucinated sub-populations",
      "reliability": "medium The model reliably captures the Treg vs conventional T cell distinction but systematically omits the viability gate and occasionally drops branches or hallucinates subdivisions.",
      "summary": "Claude Opus correctly identifies the core CD4+ FoxP3\u00b1 gating logic but consistently misses the critical viability gate and shows moderate run-to-run variation in branch completeness and naming specificity.",
      "raw_response": "Looking at the predictions across 10 runs against the expected hierarchy:\n\n**Expected:** All Events > Singlets > Live cells > Lymphocytes > CD4+ T cells > FoxP3+ Treg / FoxP3- non-Treg\n\n**Key observations:**\n\n1. **Missing \"Live cells\" gate**: All 10 runs omit the viability gate between Singlets and Lymphocytes - a critical QC step in flow cytometry.\n\n2. **Structural consistency**: 9/10 runs show the same basic structure (All Events > Singlets > Lymphocytes > CD4+ > terminal Treg gates). Run 6 adds an anomalous \"Cells\" gate and over-specifies FoxP3hi/lo subpopulations not in ground truth.\n\n3. **Terminal gate naming variation**: The Treg/non-Treg gates vary substantially in naming (FoxP3+ Tregs, CD4+ FoxP3+ Tregs, Regulatory T cells, just \"Tregs\") but are semantically equivalent.\n\n4. **Completeness**: Runs 2, 3 only predict the Treg branch, missing the FoxP3- branch entirely. Runs 1, 4, 5, 6, 8, 9, 10 correctly include both branches.\n\n5. **Run 6 hallucination**: Adds FoxP3hi/FoxP3lo subdivision not present in ground truth, plus spurious \"Cells\" gate.\n\n**Scoring:**\n\nMEDIAN_QUALITY: 6 (captures core Treg gating logic but consistently misses viability gate; naming variations acceptable)\nCONSISTENCY: 5 (structural backbone consistent, but missing branches in 2 runs and one outlier with extra gates)\nWORST_CASE: 4 (Run 6 adds hallucinated gates; Runs 2,3 miss entire FoxP3- branch)\nBEST_CASE: 7 (Runs 1,4,5,9 get both branches with correct structure, just missing Live cells)\nFAILURE_MODES: missing viability gate, incomplete branch prediction, gate name over-specification, hallucinated sub-populations\nRELIABILITY: medium The model reliably captures the Treg vs conventional T cell distinction but systematically omits the viability gate and occasionally drops branches or hallucinates subdivisions.\nSUMMARY: Claude Opus correctly identifies the core CD4+ FoxP3\u00b1 gating logic but consistently misses the critical viability gate and shows moderate run-to-run variation in branch completeness and naming specificity.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-022",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.2222222222222222,
      "unique_gate_sets": 8,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2178,
      "timestamp": "2026-01-13T05:41:00.399915",
      "error": null,
      "median_quality": 0.0,
      "consistency": 0.0,
      "worst_case": 0.0,
      "best_case": 0.0,
      "failure_modes": "",
      "reliability": "",
      "summary": "",
      "raw_response": "Looking at these 10 runs, I'll evaluate the model's performance against the expected hierarchy.\n\n**Key Observations:**\n\n1. **Core structure is consistently correct**: All runs correctly identify the fundamental T-cell gating path: All Events \u2192 Singlets \u2192 Live \u2192 Lymphocytes \u2192 (Dump gate) \u2192 CD3+ \u2192 CD4+/CD8+ \u2192 Memory Subsets + Functional markers\n\n2. **Gate ordering variability**: The order of early gates varies:\n   - Live vs Lymphocytes ordering flips (Runs 4, 6, 8, 10 have Lymphocytes before Live)\n   - Time gate is missing in 9/10 runs (only Run 1 includes it)\n\n3. **Dump gate representation varies**: CD14-CD19-, Dump-, Dump negative - all semantically equivalent but inconsistent naming\n\n4. **Memory subset placement varies**:\n   - Runs 1, 2, 5, 6, 8, 9: Memory subsets as siblings to functional gates (flat)\n   - Runs 3, 4, 7, 10: Functional gates nested under memory subsets (deeper hierarchy)\n\n5. **Functional analysis completeness**: All runs correctly include IFN-\u03b3, IL-2, TNF, IL-17A, IL-22 cytokine gates\n\n6. **Missing from ground truth match**:\n   - Time Gate missing in 9/10 runs\n   - Ground truth shows abstract \"Memory Subsets\" and \"Functional Analysis\" as leaf nodes; predictions correctly expand these into concrete gates\n\n**MEDIAN_QUALITY: 7** (correctly captures biological logic and major gates, but misses Time gate and has ordering inconsistencies)\n\n**CONSISTENCY: 4** (8 unique gate sets out of 10 runs; ordering and nesting depth vary significantly)\n\n**WORST_CASE: 5** (Run 8 puts Lymphocytes before Singlets which is biologically incorrect - you gate singlets first)\n\n**BEST_CASE: 8** (Run 1 includes Time gate and has correct ordering)\n\n**FAILURE_MODES: missing Time gate, inconsistent gate ordering (Singlets/Lymphocytes/Live permutations), variable memory-to-cytokine nesting depth, inconsistent gate naming conventions\n\n**RELIABILITY: medium** The model understands the biology well but lacks procedural consistency in gate ordering, making it unreliable for automated pipeline generation without human review.\n\n**SUMMARY: Claude Opus correctly identifies all biologically relevant populations and markers but exhibits significant run-to-run variability in gate ordering and hierarchy depth, requiring manual verification for production use.",
      "judge_style": "default"
    },
    {
      "test_case_id": "OMIP-101",
      "model": "claude-opus-4-20250514-cli",
      "condition": "claude-opus-cli_standard_cot_none",
      "n_bootstraps": 10,
      "parse_success_rate": 1.0,
      "consistency_score": 0.0,
      "unique_gate_sets": 10,
      "judge_model": "claude-opus-4-cli",
      "tokens_used": 2462,
      "timestamp": "2026-01-13T05:41:30.595343",
      "error": null,
      "median_quality": 0.6,
      "consistency": 0.3,
      "worst_case": 0.4,
      "best_case": 0.7,
      "failure_modes": "missing QC gates (Time/Non-beads/Non-aggregates), inconsistent intermediate gate naming, variable hierarchy depth, adds populations not in ground truth (Neutrophils/Eosinophils), naming inconsistency between runs",
      "reliability": "low The model produces functionally similar but structurally inconsistent hierarchies across runs, making it unsuitable for applications requiring reproducible gating strategies.",
      "summary": "Claude Opus correctly identifies terminal cell populations but lacks consistency in hierarchical structure and systematically omits quality-control gates, limiting its reliability for automated gating strategy generation.",
      "raw_response": "Looking at these 10 predictions against the OMIP-101 ground truth, I need to evaluate both the quality of individual predictions and consistency across runs.\n\n## Analysis\n\n**Ground Truth Structure:**\nThe expected hierarchy has a specific flow: All Events \u2192 Time gate \u2192 Singlets \u2192 Non-beads \u2192 Leukocytes \u2192 Non-aggregates \u2192 Non-granulocytes \u2192 then branching to Myeloid cells and Lymphocytes, with detailed terminal populations.\n\n**Key Observations Across Runs:**\n\n1. **Missing intermediate gates:** Nearly all runs skip \"Time gate\", \"Non-beads\", \"Non-aggregates\" - these are quality control gates the model consistently omits.\n\n2. **Terminal populations generally correct:** The model consistently identifies the correct terminal cell types (Classical/Intermediate/Non-classical monocytes, Naive/Memory B cells, CD4+/CD8+ T cell subsets, NK subsets).\n\n3. **Structural variations between runs:**\n   - Runs 1,2,4,6: Same structure (Granulocytes vs Non-Granulocytes split)\n   - Run 3: Unusual \"Lymphocytes and Monocytes\" intermediate\n   - Run 5: Only run that includes \"Time Gate\"\n   - Runs 7: Uses \"CD66+\" gating marker naming\n   - Runs 8,10: Uses \"Mononuclear Cells\" instead of \"Non-Granulocytes\"\n\n4. **Granulocyte handling:** Ground truth separates granulocytes differently, but model consistently adds Neutrophils/Eosinophils (which aren't in the shown ground truth paths).\n\n5. **Consistency issues:** 10 unique gate sets from 10 runs (0.00 consistency score) - each run produces a structurally different hierarchy despite similar terminal populations.\n\n6. **Naming variations:** \"Leukocytes\" vs \"CD45+ Leukocytes\", \"Non-classical\" vs \"Non-Classical\", \"Myeloid DCs\" vs \"mDCs\"\n\nMEDIAN_QUALITY: 6 (correctly identifies most terminal populations but misses QC gates and has structural deviations from ground truth)\nCONSISTENCY: 3 (10 unique outputs from 10 runs; while terminal populations are similar, hierarchical structure varies significantly)\nWORST_CASE: 4 (Run 3 with unusual \"Lymphocytes and Monocytes\" intermediate gate creates confusing structure)\nBEST_CASE: 7 (Run 5 includes Time Gate and has reasonable structure, though still missing Non-beads/Non-aggregates)\nFAILURE_MODES: missing QC gates (Time/Non-beads/Non-aggregates), inconsistent intermediate gate naming, variable hierarchy depth, adds populations not in ground truth (Neutrophils/Eosinophils), naming inconsistency between runs\nRELIABILITY: low The model produces functionally similar but structurally inconsistent hierarchies across runs, making it unsuitable for applications requiring reproducible gating strategies.\nSUMMARY: Claude Opus correctly identifies terminal cell populations but lacks consistency in hierarchical structure and systematically omits quality-control gates, limiting its reliability for automated gating strategy generation.",
      "judge_style": "default"
    }
  ],
  "judge_style": "default",
  "judge_model": "claude-opus-4-cli",
  "n_aggregations": 312,
  "timestamp": "2026-01-13T05:41:30.609178"
}